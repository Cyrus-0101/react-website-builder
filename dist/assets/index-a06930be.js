(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))g(w);new MutationObserver(w=>{for(const _ of w)if(_.type==="childList")for(const x of _.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&g(x)}).observe(document,{childList:!0,subtree:!0});function f(w){const _={};return w.integrity&&(_.integrity=w.integrity),w.referrerPolicy&&(_.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?_.credentials="include":w.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function g(w){if(w.ep)return;w.ep=!0;const _=f(w);fetch(w.href,_)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vi(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var C1={exports:{}},Dv={},x1={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.element"),LP=Symbol.for("react.portal"),jP=Symbol.for("react.fragment"),DP=Symbol.for("react.strict_mode"),NP=Symbol.for("react.profiler"),IP=Symbol.for("react.provider"),VP=Symbol.for("react.context"),RP=Symbol.for("react.forward_ref"),FP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),BP=Symbol.for("react.lazy"),d_=Symbol.iterator;function zP(i){return i===null||typeof i!="object"?null:(i=d_&&i[d_]||i["@@iterator"],typeof i=="function"?i:null)}var S1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O1=Object.assign,T1={};function Xc(i,s,f){this.props=i,this.context=s,this.refs=T1,this.updater=f||S1}Xc.prototype.isReactComponent={};Xc.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};Xc.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function E1(){}E1.prototype=Xc.prototype;function Xy(i,s,f){this.props=i,this.context=s,this.refs=T1,this.updater=f||S1}var Zy=Xy.prototype=new E1;Zy.constructor=Xy;O1(Zy,Xc.prototype);Zy.isPureReactComponent=!0;var p_=Array.isArray,P1=Object.prototype.hasOwnProperty,Jy={current:null},k1={key:!0,ref:!0,__self:!0,__source:!0};function A1(i,s,f){var g,w={},_=null,x=null;if(s!=null)for(g in s.ref!==void 0&&(x=s.ref),s.key!==void 0&&(_=""+s.key),s)P1.call(s,g)&&!k1.hasOwnProperty(g)&&(w[g]=s[g]);var S=arguments.length-2;if(S===1)w.children=f;else if(1<S){for(var T=Array(S),O=0;O<S;O++)T[O]=arguments[O+2];w.children=T}if(i&&i.defaultProps)for(g in S=i.defaultProps,S)w[g]===void 0&&(w[g]=S[g]);return{$$typeof:Bd,type:i,key:_,ref:x,props:w,_owner:Jy.current}}function UP(i,s){return{$$typeof:Bd,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function Qy(i){return typeof i=="object"&&i!==null&&i.$$typeof===Bd}function WP(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(f){return s[f]})}var h_=/\/+/g;function Mm(i,s){return typeof i=="object"&&i!==null&&i.key!=null?WP(""+i.key):s.toString(36)}function Jh(i,s,f,g,w){var _=typeof i;(_==="undefined"||_==="boolean")&&(i=null);var x=!1;if(i===null)x=!0;else switch(_){case"string":case"number":x=!0;break;case"object":switch(i.$$typeof){case Bd:case LP:x=!0}}if(x)return x=i,w=w(x),i=g===""?"."+Mm(x,0):g,p_(w)?(f="",i!=null&&(f=i.replace(h_,"$&/")+"/"),Jh(w,s,f,"",function(O){return O})):w!=null&&(Qy(w)&&(w=UP(w,f+(!w.key||x&&x.key===w.key?"":(""+w.key).replace(h_,"$&/")+"/")+i)),s.push(w)),1;if(x=0,g=g===""?".":g+":",p_(i))for(var S=0;S<i.length;S++){_=i[S];var T=g+Mm(_,S);x+=Jh(_,s,f,T,w)}else if(T=zP(i),typeof T=="function")for(i=T.call(i),S=0;!(_=i.next()).done;)_=_.value,T=g+Mm(_,S++),x+=Jh(_,s,f,T,w);else if(_==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return x}function Nh(i,s,f){if(i==null)return i;var g=[],w=0;return Jh(i,g,"","",function(_){return s.call(f,_,w++)}),g}function $P(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(f){(i._status===0||i._status===-1)&&(i._status=1,i._result=f)},function(f){(i._status===0||i._status===-1)&&(i._status=2,i._result=f)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var Co={current:null},Qh={transition:null},KP={ReactCurrentDispatcher:Co,ReactCurrentBatchConfig:Qh,ReactCurrentOwner:Jy};on.Children={map:Nh,forEach:function(i,s,f){Nh(i,function(){s.apply(this,arguments)},f)},count:function(i){var s=0;return Nh(i,function(){s++}),s},toArray:function(i){return Nh(i,function(s){return s})||[]},only:function(i){if(!Qy(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};on.Component=Xc;on.Fragment=jP;on.Profiler=NP;on.PureComponent=Xy;on.StrictMode=DP;on.Suspense=FP;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;on.cloneElement=function(i,s,f){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var g=O1({},i.props),w=i.key,_=i.ref,x=i._owner;if(s!=null){if(s.ref!==void 0&&(_=s.ref,x=Jy.current),s.key!==void 0&&(w=""+s.key),i.type&&i.type.defaultProps)var S=i.type.defaultProps;for(T in s)P1.call(s,T)&&!k1.hasOwnProperty(T)&&(g[T]=s[T]===void 0&&S!==void 0?S[T]:s[T])}var T=arguments.length-2;if(T===1)g.children=f;else if(1<T){S=Array(T);for(var O=0;O<T;O++)S[O]=arguments[O+2];g.children=S}return{$$typeof:Bd,type:i.type,key:w,ref:_,props:g,_owner:x}};on.createContext=function(i){return i={$$typeof:VP,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:IP,_context:i},i.Consumer=i};on.createElement=A1;on.createFactory=function(i){var s=A1.bind(null,i);return s.type=i,s};on.createRef=function(){return{current:null}};on.forwardRef=function(i){return{$$typeof:RP,render:i}};on.isValidElement=Qy;on.lazy=function(i){return{$$typeof:BP,_payload:{_status:-1,_result:i},_init:$P}};on.memo=function(i,s){return{$$typeof:HP,type:i,compare:s===void 0?null:s}};on.startTransition=function(i){var s=Qh.transition;Qh.transition={};try{i()}finally{Qh.transition=s}};on.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};on.useCallback=function(i,s){return Co.current.useCallback(i,s)};on.useContext=function(i){return Co.current.useContext(i)};on.useDebugValue=function(){};on.useDeferredValue=function(i){return Co.current.useDeferredValue(i)};on.useEffect=function(i,s){return Co.current.useEffect(i,s)};on.useId=function(){return Co.current.useId()};on.useImperativeHandle=function(i,s,f){return Co.current.useImperativeHandle(i,s,f)};on.useInsertionEffect=function(i,s){return Co.current.useInsertionEffect(i,s)};on.useLayoutEffect=function(i,s){return Co.current.useLayoutEffect(i,s)};on.useMemo=function(i,s){return Co.current.useMemo(i,s)};on.useReducer=function(i,s,f){return Co.current.useReducer(i,s,f)};on.useRef=function(i){return Co.current.useRef(i)};on.useState=function(i){return Co.current.useState(i)};on.useSyncExternalStore=function(i,s,f){return Co.current.useSyncExternalStore(i,s,f)};on.useTransition=function(){return Co.current.useTransition()};on.version="18.2.0";x1.exports=on;var Ic=x1.exports;const GP=vi(Ic);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=Ic,qP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),ZP=Object.prototype.hasOwnProperty,JP=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QP={key:!0,ref:!0,__self:!0,__source:!0};function M1(i,s,f){var g,w={},_=null,x=null;f!==void 0&&(_=""+f),s.key!==void 0&&(_=""+s.key),s.ref!==void 0&&(x=s.ref);for(g in s)ZP.call(s,g)&&!QP.hasOwnProperty(g)&&(w[g]=s[g]);if(i&&i.defaultProps)for(g in s=i.defaultProps,s)w[g]===void 0&&(w[g]=s[g]);return{$$typeof:qP,type:i,key:_,ref:x,props:w,_owner:JP.current}}Dv.Fragment=XP;Dv.jsx=M1;Dv.jsxs=M1;C1.exports=Dv;var xc=C1.exports,ry={},L1={exports:{}},ti={},j1={exports:{}},D1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(rt,et){var Mt=rt.length;rt.push(et);t:for(;0<Mt;){var zt=Mt-1>>>1,Zt=rt[zt];if(0<w(Zt,et))rt[zt]=et,rt[Mt]=Zt,Mt=zt;else break t}}function f(rt){return rt.length===0?null:rt[0]}function g(rt){if(rt.length===0)return null;var et=rt[0],Mt=rt.pop();if(Mt!==et){rt[0]=Mt;t:for(var zt=0,Zt=rt.length,Et=Zt>>>1;zt<Et;){var Ht=2*(zt+1)-1,Wt=rt[Ht],$t=Ht+1,Kt=rt[$t];if(0>w(Wt,Mt))$t<Zt&&0>w(Kt,Wt)?(rt[zt]=Kt,rt[$t]=Mt,zt=$t):(rt[zt]=Wt,rt[Ht]=Mt,zt=Ht);else if($t<Zt&&0>w(Kt,Mt))rt[zt]=Kt,rt[$t]=Mt,zt=$t;else break t}}return et}function w(rt,et){var Mt=rt.sortIndex-et.sortIndex;return Mt!==0?Mt:rt.id-et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;i.unstable_now=function(){return _.now()}}else{var x=Date,S=x.now();i.unstable_now=function(){return x.now()-S}}var T=[],O=[],A=1,k=null,L=3,R=!1,z=!1,ot=!1,dt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(rt){for(var et=f(O);et!==null;){if(et.callback===null)g(O);else if(et.startTime<=rt)g(O),et.sortIndex=et.expirationTime,s(T,et);else break;et=f(O)}}function X(rt){if(ot=!1,K(rt),!z)if(f(T)!==null)z=!0,D(mt);else{var et=f(O);et!==null&&yt(X,et.startTime-rt)}}function mt(rt,et){z=!1,ot&&(ot=!1,tt(Ot),Ot=-1),R=!0;var Mt=L;try{for(K(et),k=f(T);k!==null&&(!(k.expirationTime>et)||rt&&!q());){var zt=k.callback;if(typeof zt=="function"){k.callback=null,L=k.priorityLevel;var Zt=zt(k.expirationTime<=et);et=i.unstable_now(),typeof Zt=="function"?k.callback=Zt:k===f(T)&&g(T),K(et)}else g(T);k=f(T)}if(k!==null)var Et=!0;else{var Ht=f(O);Ht!==null&&yt(X,Ht.startTime-et),Et=!1}return Et}finally{k=null,L=Mt,R=!1}}var bt=!1,St=null,Ot=-1,$=5,Y=-1;function q(){return!(i.unstable_now()-Y<$)}function Z(){if(St!==null){var rt=i.unstable_now();Y=rt;var et=!0;try{et=St(!0,rt)}finally{et?ht():(bt=!1,St=null)}}else bt=!1}var ht;if(typeof U=="function")ht=function(){U(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,xt=J.port2;J.port1.onmessage=Z,ht=function(){xt.postMessage(null)}}else ht=function(){dt(Z,0)};function D(rt){St=rt,bt||(bt=!0,ht())}function yt(rt,et){Ot=dt(function(){rt(i.unstable_now())},et)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(rt){rt.callback=null},i.unstable_continueExecution=function(){z||R||(z=!0,D(mt))},i.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<rt?Math.floor(1e3/rt):5},i.unstable_getCurrentPriorityLevel=function(){return L},i.unstable_getFirstCallbackNode=function(){return f(T)},i.unstable_next=function(rt){switch(L){case 1:case 2:case 3:var et=3;break;default:et=L}var Mt=L;L=et;try{return rt()}finally{L=Mt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(rt,et){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var Mt=L;L=rt;try{return et()}finally{L=Mt}},i.unstable_scheduleCallback=function(rt,et,Mt){var zt=i.unstable_now();switch(typeof Mt=="object"&&Mt!==null?(Mt=Mt.delay,Mt=typeof Mt=="number"&&0<Mt?zt+Mt:zt):Mt=zt,rt){case 1:var Zt=-1;break;case 2:Zt=250;break;case 5:Zt=1073741823;break;case 4:Zt=1e4;break;default:Zt=5e3}return Zt=Mt+Zt,rt={id:A++,callback:et,priorityLevel:rt,startTime:Mt,expirationTime:Zt,sortIndex:-1},Mt>zt?(rt.sortIndex=Mt,s(O,rt),f(T)===null&&rt===f(O)&&(ot?(tt(Ot),Ot=-1):ot=!0,yt(X,Mt-zt))):(rt.sortIndex=Zt,s(T,rt),z||R||(z=!0,D(mt))),rt},i.unstable_shouldYield=q,i.unstable_wrapCallback=function(rt){var et=L;return function(){var Mt=L;L=et;try{return rt.apply(this,arguments)}finally{L=Mt}}}})(D1);j1.exports=D1;var tk=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=Ic,Qo=tk;function oe(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I1=new Set,Sd={};function bu(i,s){Uc(i,s),Uc(i+"Capture",s)}function Uc(i,s){for(Sd[i]=s,i=0;i<s.length;i++)I1.add(s[i])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=Object.prototype.hasOwnProperty,ek=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v_={},g_={};function nk(i){return oy.call(g_,i)?!0:oy.call(v_,i)?!1:ek.test(i)?g_[i]=!0:(v_[i]=!0,!1)}function rk(i,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function ok(i,s,f,g){if(s===null||typeof s>"u"||rk(i,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function xo(i,s,f,g,w,_,x){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=i,this.type=s,this.sanitizeURL=_,this.removeEmptyString=x}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ur[i]=new xo(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];Ur[s]=new xo(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ur[i]=new xo(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ur[i]=new xo(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ur[i]=new xo(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ur[i]=new xo(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ur[i]=new xo(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ur[i]=new xo(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ur[i]=new xo(i,5,!1,i.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function e0(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(t0,e0);Ur[s]=new xo(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(t0,e0);Ur[s]=new xo(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(t0,e0);Ur[s]=new xo(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ur[i]=new xo(i,1,!1,i.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new xo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ur[i]=new xo(i,1,!1,i.toLowerCase(),null,!0,!0)});function n0(i,s,f,g){var w=Ur.hasOwnProperty(s)?Ur[s]:null;(w!==null?w.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(ok(s,f,w,g)&&(f=null),g||w===null?nk(s)&&(f===null?i.removeAttribute(s):i.setAttribute(s,""+f)):w.mustUseProperty?i[w.propertyName]=f===null?w.type===3?!1:"":f:(s=w.attributeName,g=w.attributeNamespace,f===null?i.removeAttribute(s):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,g?i.setAttributeNS(g,s,f):i.setAttribute(s,f))))}var _s=N1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=Symbol.for("react.element"),Sc=Symbol.for("react.portal"),Oc=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),V1=Symbol.for("react.provider"),R1=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),sy=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),F1=Symbol.for("react.offscreen"),m_=Symbol.iterator;function rd(i){return i===null||typeof i!="object"?null:(i=m_&&i[m_]||i["@@iterator"],typeof i=="function"?i:null)}var Xn=Object.assign,Lm;function fd(i){if(Lm===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Lm=s&&s[1]||""}return`
`+Lm+i}var jm=!1;function Dm(i,s){if(!i||jm)return"";jm=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var g=O}Reflect.construct(i,[],s)}else{try{s.call()}catch(O){g=O}i.call(s.prototype)}else{try{throw Error()}catch(O){g=O}i()}}catch(O){if(O&&g&&typeof O.stack=="string"){for(var w=O.stack.split(`
`),_=g.stack.split(`
`),x=w.length-1,S=_.length-1;1<=x&&0<=S&&w[x]!==_[S];)S--;for(;1<=x&&0<=S;x--,S--)if(w[x]!==_[S]){if(x!==1||S!==1)do if(x--,S--,0>S||w[x]!==_[S]){var T=`
`+w[x].replace(" at new "," at ");return i.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",i.displayName)),T}while(1<=x&&0<=S);break}}}finally{jm=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?fd(i):""}function ik(i){switch(i.tag){case 5:return fd(i.type);case 16:return fd("Lazy");case 13:return fd("Suspense");case 19:return fd("SuspenseList");case 0:case 2:case 15:return i=Dm(i.type,!1),i;case 11:return i=Dm(i.type.render,!1),i;case 1:return i=Dm(i.type,!0),i;default:return""}}function ly(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Oc:return"Fragment";case Sc:return"Portal";case iy:return"Profiler";case r0:return"StrictMode";case ay:return"Suspense";case sy:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R1:return(i.displayName||"Context")+".Consumer";case V1:return(i._context.displayName||"Context")+".Provider";case o0:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case i0:return s=i.displayName||null,s!==null?s:ly(i.type)||"Memo";case Js:s=i._payload,i=i._init;try{return ly(i(s))}catch{}}return null}function ak(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ly(s);case 8:return s===r0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function dl(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function H1(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sk(i){var s=H1(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),g=""+i[s];if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,_=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(x){g=""+x,_.call(this,x)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(x){g=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Vh(i){i._valueTracker||(i._valueTracker=sk(i))}function B1(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return i&&(g=H1(i)?i.checked?"true":"false":i.value),i=g,i!==f?(s.setValue(i),!0):!1}function cv(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function uy(i,s){var f=s.checked;return Xn({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function y_(i,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=dl(s.value!=null?s.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function z1(i,s){s=s.checked,s!=null&&n0(i,"checked",s,!1)}function cy(i,s){z1(i,s);var f=dl(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?fy(i,s.type,f):s.hasOwnProperty("defaultValue")&&fy(i,s.type,dl(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function w_(i,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,f||s===i.value||(i.value=s),i.defaultValue=s}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function fy(i,s,f){(s!=="number"||cv(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var dd=Array.isArray;function Vc(i,s,f,g){if(i=i.options,s){s={};for(var w=0;w<f.length;w++)s["$"+f[w]]=!0;for(f=0;f<i.length;f++)w=s.hasOwnProperty("$"+i[f].value),i[f].selected!==w&&(i[f].selected=w),w&&g&&(i[f].defaultSelected=!0)}else{for(f=""+dl(f),s=null,w=0;w<i.length;w++){if(i[w].value===f){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function dy(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Xn({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function __(i,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(oe(92));if(dd(f)){if(1<f.length)throw Error(oe(93));f=f[0]}s=f}s==null&&(s=""),f=s}i._wrapperState={initialValue:dl(f)}}function U1(i,s){var f=dl(s.value),g=dl(s.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),s.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function b_(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function W1(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?W1(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Rh,$1=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,g,w){MSApp.execUnsafeLocalFunction(function(){return i(s,f,g,w)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Rh=Rh||document.createElement("div"),Rh.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rh.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Od(i,s){if(s){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=s;return}}i.textContent=s}var vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lk=["Webkit","ms","Moz","O"];Object.keys(vd).forEach(function(i){lk.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),vd[s]=vd[i]})});function K1(i,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||vd.hasOwnProperty(i)&&vd[i]?(""+s).trim():s+"px"}function G1(i,s){i=i.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,w=K1(f,s[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,w):i[f]=w}}var uk=Xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hy(i,s){if(s){if(uk[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(oe(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(oe(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(oe(61))}if(s.style!=null&&typeof s.style!="object")throw Error(oe(62))}}function vy(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gy=null;function a0(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var my=null,Rc=null,Fc=null;function C_(i){if(i=Wd(i)){if(typeof my!="function")throw Error(oe(280));var s=i.stateNode;s&&(s=Fv(s),my(i.stateNode,i.type,s))}}function Y1(i){Rc?Fc?Fc.push(i):Fc=[i]:Rc=i}function q1(){if(Rc){var i=Rc,s=Fc;if(Fc=Rc=null,C_(i),s)for(i=0;i<s.length;i++)C_(s[i])}}function X1(i,s){return i(s)}function Z1(){}var Nm=!1;function J1(i,s,f){if(Nm)return i(s,f);Nm=!0;try{return X1(i,s,f)}finally{Nm=!1,(Rc!==null||Fc!==null)&&(Z1(),q1())}}function Td(i,s){var f=i.stateNode;if(f===null)return null;var g=Fv(f);if(g===null)return null;f=g[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break t;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(oe(231,s,typeof f));return f}var yy=!1;if(gs)try{var od={};Object.defineProperty(od,"passive",{get:function(){yy=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{yy=!1}function ck(i,s,f,g,w,_,x,S,T){var O=Array.prototype.slice.call(arguments,3);try{s.apply(f,O)}catch(A){this.onError(A)}}var gd=!1,fv=null,dv=!1,wy=null,fk={onError:function(i){gd=!0,fv=i}};function dk(i,s,f,g,w,_,x,S,T){gd=!1,fv=null,ck.apply(fk,arguments)}function pk(i,s,f,g,w,_,x,S,T){if(dk.apply(this,arguments),gd){if(gd){var O=fv;gd=!1,fv=null}else throw Error(oe(198));dv||(dv=!0,wy=O)}}function Cu(i){var s=i,f=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(f=s.return),i=s.return;while(i)}return s.tag===3?f:null}function Q1(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function x_(i){if(Cu(i)!==i)throw Error(oe(188))}function hk(i){var s=i.alternate;if(!s){if(s=Cu(i),s===null)throw Error(oe(188));return s!==i?null:i}for(var f=i,g=s;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(g=w.return,g!==null){f=g;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return x_(w),i;if(_===g)return x_(w),s;_=_.sibling}throw Error(oe(188))}if(f.return!==g.return)f=w,g=_;else{for(var x=!1,S=w.child;S;){if(S===f){x=!0,f=w,g=_;break}if(S===g){x=!0,g=w,f=_;break}S=S.sibling}if(!x){for(S=_.child;S;){if(S===f){x=!0,f=_,g=w;break}if(S===g){x=!0,g=_,f=w;break}S=S.sibling}if(!x)throw Error(oe(189))}}if(f.alternate!==g)throw Error(oe(190))}if(f.tag!==3)throw Error(oe(188));return f.stateNode.current===f?i:s}function tb(i){return i=hk(i),i!==null?eb(i):null}function eb(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=eb(i);if(s!==null)return s;i=i.sibling}return null}var nb=Qo.unstable_scheduleCallback,S_=Qo.unstable_cancelCallback,vk=Qo.unstable_shouldYield,gk=Qo.unstable_requestPaint,ur=Qo.unstable_now,mk=Qo.unstable_getCurrentPriorityLevel,s0=Qo.unstable_ImmediatePriority,rb=Qo.unstable_UserBlockingPriority,pv=Qo.unstable_NormalPriority,yk=Qo.unstable_LowPriority,ob=Qo.unstable_IdlePriority,Nv=null,La=null;function wk(i){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Nv,i,void 0,(i.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:Ck,_k=Math.log,bk=Math.LN2;function Ck(i){return i>>>=0,i===0?32:31-(_k(i)/bk|0)|0}var Fh=64,Hh=4194304;function pd(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function hv(i,s){var f=i.pendingLanes;if(f===0)return 0;var g=0,w=i.suspendedLanes,_=i.pingedLanes,x=f&268435455;if(x!==0){var S=x&~w;S!==0?g=pd(S):(_&=x,_!==0&&(g=pd(_)))}else x=f&~w,x!==0?g=pd(x):_!==0&&(g=pd(_));if(g===0)return 0;if(s!==0&&s!==g&&!(s&w)&&(w=g&-g,_=s&-s,w>=_||w===16&&(_&4194240)!==0))return s;if(g&4&&(g|=f&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=g;0<s;)f=31-Ri(s),w=1<<f,g|=i[f],s&=~w;return g}function xk(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sk(i,s){for(var f=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,_=i.pendingLanes;0<_;){var x=31-Ri(_),S=1<<x,T=w[x];T===-1?(!(S&f)||S&g)&&(w[x]=xk(S,s)):T<=s&&(i.expiredLanes|=S),_&=~S}}function _y(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ib(){var i=Fh;return Fh<<=1,!(Fh&4194240)&&(Fh=64),i}function Im(i){for(var s=[],f=0;31>f;f++)s.push(i);return s}function zd(i,s,f){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Ri(s),i[s]=f}function Ok(i,s){var f=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var w=31-Ri(f),_=1<<w;s[w]=0,g[w]=-1,i[w]=-1,f&=~_}}function l0(i,s){var f=i.entangledLanes|=s;for(i=i.entanglements;f;){var g=31-Ri(f),w=1<<g;w&s|i[g]&s&&(i[g]|=s),f&=~w}}var Cn=0;function ab(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var sb,u0,lb,ub,cb,by=!1,Bh=[],ol=null,il=null,al=null,Ed=new Map,Pd=new Map,tl=[],Tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O_(i,s){switch(i){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Ed.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(s.pointerId)}}function id(i,s,f,g,w,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[w]},s!==null&&(s=Wd(s),s!==null&&u0(s)),i):(i.eventSystemFlags|=g,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function Ek(i,s,f,g,w){switch(s){case"focusin":return ol=id(ol,i,s,f,g,w),!0;case"dragenter":return il=id(il,i,s,f,g,w),!0;case"mouseover":return al=id(al,i,s,f,g,w),!0;case"pointerover":var _=w.pointerId;return Ed.set(_,id(Ed.get(_)||null,i,s,f,g,w)),!0;case"gotpointercapture":return _=w.pointerId,Pd.set(_,id(Pd.get(_)||null,i,s,f,g,w)),!0}return!1}function fb(i){var s=fu(i.target);if(s!==null){var f=Cu(s);if(f!==null){if(s=f.tag,s===13){if(s=Q1(f),s!==null){i.blockedOn=s,cb(i.priority,function(){lb(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function tv(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var f=Cy(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);gy=g,f.target.dispatchEvent(g),gy=null}else return s=Wd(f),s!==null&&u0(s),i.blockedOn=f,!1;s.shift()}return!0}function T_(i,s,f){tv(i)&&f.delete(s)}function Pk(){by=!1,ol!==null&&tv(ol)&&(ol=null),il!==null&&tv(il)&&(il=null),al!==null&&tv(al)&&(al=null),Ed.forEach(T_),Pd.forEach(T_)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,by||(by=!0,Qo.unstable_scheduleCallback(Qo.unstable_NormalPriority,Pk)))}function kd(i){function s(w){return ad(w,i)}if(0<Bh.length){ad(Bh[0],i);for(var f=1;f<Bh.length;f++){var g=Bh[f];g.blockedOn===i&&(g.blockedOn=null)}}for(ol!==null&&ad(ol,i),il!==null&&ad(il,i),al!==null&&ad(al,i),Ed.forEach(s),Pd.forEach(s),f=0;f<tl.length;f++)g=tl[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<tl.length&&(f=tl[0],f.blockedOn===null);)fb(f),f.blockedOn===null&&tl.shift()}var Hc=_s.ReactCurrentBatchConfig,vv=!0;function kk(i,s,f,g){var w=Cn,_=Hc.transition;Hc.transition=null;try{Cn=1,c0(i,s,f,g)}finally{Cn=w,Hc.transition=_}}function Ak(i,s,f,g){var w=Cn,_=Hc.transition;Hc.transition=null;try{Cn=4,c0(i,s,f,g)}finally{Cn=w,Hc.transition=_}}function c0(i,s,f,g){if(vv){var w=Cy(i,s,f,g);if(w===null)Km(i,s,g,gv,f),O_(i,g);else if(Ek(w,i,s,f,g))g.stopPropagation();else if(O_(i,g),s&4&&-1<Tk.indexOf(i)){for(;w!==null;){var _=Wd(w);if(_!==null&&sb(_),_=Cy(i,s,f,g),_===null&&Km(i,s,g,gv,f),_===w)break;w=_}w!==null&&g.stopPropagation()}else Km(i,s,g,null,f)}}var gv=null;function Cy(i,s,f,g){if(gv=null,i=a0(g),i=fu(i),i!==null)if(s=Cu(i),s===null)i=null;else if(f=s.tag,f===13){if(i=Q1(s),i!==null)return i;i=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return gv=i,null}function db(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case s0:return 1;case rb:return 4;case pv:case yk:return 16;case ob:return 536870912;default:return 16}default:return 16}}var nl=null,f0=null,ev=null;function pb(){if(ev)return ev;var i,s=f0,f=s.length,g,w="value"in nl?nl.value:nl.textContent,_=w.length;for(i=0;i<f&&s[i]===w[i];i++);var x=f-i;for(g=1;g<=x&&s[f-g]===w[_-g];g++);return ev=w.slice(i,1<g?1-g:void 0)}function nv(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function zh(){return!0}function E_(){return!1}function ei(i){function s(f,g,w,_,x){this._reactName=f,this._targetInst=w,this.type=g,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(f=i[S],this[S]=f?f(_):_[S]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?zh:E_,this.isPropagationStopped=E_,this}return Xn(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=zh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=zh)},persist:function(){},isPersistent:zh}),s}var Zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=ei(Zc),Ud=Xn({},Zc,{view:0,detail:0}),Mk=ei(Ud),Vm,Rm,sd,Iv=Xn({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==sd&&(sd&&i.type==="mousemove"?(Vm=i.screenX-sd.screenX,Rm=i.screenY-sd.screenY):Rm=Vm=0,sd=i),Vm)},movementY:function(i){return"movementY"in i?i.movementY:Rm}}),P_=ei(Iv),Lk=Xn({},Iv,{dataTransfer:0}),jk=ei(Lk),Dk=Xn({},Ud,{relatedTarget:0}),Fm=ei(Dk),Nk=Xn({},Zc,{animationName:0,elapsedTime:0,pseudoElement:0}),Ik=ei(Nk),Vk=Xn({},Zc,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rk=ei(Vk),Fk=Xn({},Zc,{data:0}),k_=ei(Fk),Hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uk(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zk[i])?!!s[i]:!1}function p0(){return Uk}var Wk=Xn({},Ud,{key:function(i){if(i.key){var s=Hk[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=nv(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(i){return i.type==="keypress"?nv(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nv(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$k=ei(Wk),Kk=Xn({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A_=ei(Kk),Gk=Xn({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),Yk=ei(Gk),qk=Xn({},Zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xk=ei(qk),Zk=Xn({},Iv,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Jk=ei(Zk),Qk=[9,13,27,32],h0=gs&&"CompositionEvent"in window,md=null;gs&&"documentMode"in document&&(md=document.documentMode);var t2=gs&&"TextEvent"in window&&!md,hb=gs&&(!h0||md&&8<md&&11>=md),M_=String.fromCharCode(32),L_=!1;function vb(i,s){switch(i){case"keyup":return Qk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Tc=!1;function e2(i,s){switch(i){case"compositionend":return gb(s);case"keypress":return s.which!==32?null:(L_=!0,M_);case"textInput":return i=s.data,i===M_&&L_?null:i;default:return null}}function n2(i,s){if(Tc)return i==="compositionend"||!h0&&vb(i,s)?(i=pb(),ev=f0=nl=null,Tc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hb&&s.locale!=="ko"?null:s.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!r2[i.type]:s==="textarea"}function mb(i,s,f,g){Y1(g),s=mv(s,"onChange"),0<s.length&&(f=new d0("onChange","change",null,f,g),i.push({event:f,listeners:s}))}var yd=null,Ad=null;function o2(i){Pb(i,0)}function Vv(i){var s=kc(i);if(B1(s))return i}function i2(i,s){if(i==="change")return s}var yb=!1;if(gs){var Hm;if(gs){var Bm="oninput"in document;if(!Bm){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),Bm=typeof D_.oninput=="function"}Hm=Bm}else Hm=!1;yb=Hm&&(!document.documentMode||9<document.documentMode)}function N_(){yd&&(yd.detachEvent("onpropertychange",wb),Ad=yd=null)}function wb(i){if(i.propertyName==="value"&&Vv(Ad)){var s=[];mb(s,Ad,i,a0(i)),J1(o2,s)}}function a2(i,s,f){i==="focusin"?(N_(),yd=s,Ad=f,yd.attachEvent("onpropertychange",wb)):i==="focusout"&&N_()}function s2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vv(Ad)}function l2(i,s){if(i==="click")return Vv(s)}function u2(i,s){if(i==="input"||i==="change")return Vv(s)}function c2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Hi=typeof Object.is=="function"?Object.is:c2;function Md(i,s){if(Hi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var f=Object.keys(i),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var w=f[g];if(!oy.call(s,w)||!Hi(i[w],s[w]))return!1}return!0}function I_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V_(i,s){var f=I_(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=s&&g>=s)return{node:f,offset:s-i};i=g}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=I_(f)}}function _b(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?_b(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function bb(){for(var i=window,s=cv();s instanceof i.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)i=s.contentWindow;else break;s=cv(i.document)}return s}function v0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function f2(i){var s=bb(),f=i.focusedElem,g=i.selectionRange;if(s!==f&&f&&f.ownerDocument&&_b(f.ownerDocument.documentElement,f)){if(g!==null&&v0(f)){if(s=g.start,i=g.end,i===void 0&&(i=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(i,f.value.length);else if(i=(s=f.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var w=f.textContent.length,_=Math.min(g.start,w);g=g.end===void 0?_:Math.min(g.end,w),!i.extend&&_>g&&(w=g,g=_,_=w),w=V_(f,_);var x=V_(f,g);w&&x&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(s=s.createRange(),s.setStart(w.node,w.offset),i.removeAllRanges(),_>g?(i.addRange(s),i.extend(x.node,x.offset)):(s.setEnd(x.node,x.offset),i.addRange(s)))}}for(s=[],i=f;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)i=s[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var d2=gs&&"documentMode"in document&&11>=document.documentMode,Ec=null,xy=null,wd=null,Sy=!1;function R_(i,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Sy||Ec==null||Ec!==cv(g)||(g=Ec,"selectionStart"in g&&v0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),wd&&Md(wd,g)||(wd=g,g=mv(xy,"onSelect"),0<g.length&&(s=new d0("onSelect","select",null,s,f),i.push({event:s,listeners:g}),s.target=Ec)))}function Uh(i,s){var f={};return f[i.toLowerCase()]=s.toLowerCase(),f["Webkit"+i]="webkit"+s,f["Moz"+i]="moz"+s,f}var Pc={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},zm={},Cb={};gs&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function Rv(i){if(zm[i])return zm[i];if(!Pc[i])return i;var s=Pc[i],f;for(f in s)if(s.hasOwnProperty(f)&&f in Cb)return zm[i]=s[f];return i}var xb=Rv("animationend"),Sb=Rv("animationiteration"),Ob=Rv("animationstart"),Tb=Rv("transitionend"),Eb=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(i,s){Eb.set(i,s),bu(s,[i])}for(var Um=0;Um<F_.length;Um++){var Wm=F_[Um],p2=Wm.toLowerCase(),h2=Wm[0].toUpperCase()+Wm.slice(1);hl(p2,"on"+h2)}hl(xb,"onAnimationEnd");hl(Sb,"onAnimationIteration");hl(Ob,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(Tb,"onTransitionEnd");Uc("onMouseEnter",["mouseout","mouseover"]);Uc("onMouseLeave",["mouseout","mouseover"]);Uc("onPointerEnter",["pointerout","pointerover"]);Uc("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function H_(i,s,f){var g=i.type||"unknown-event";i.currentTarget=f,pk(g,s,void 0,i),i.currentTarget=null}function Pb(i,s){s=(s&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],w=g.event;g=g.listeners;t:{var _=void 0;if(s)for(var x=g.length-1;0<=x;x--){var S=g[x],T=S.instance,O=S.currentTarget;if(S=S.listener,T!==_&&w.isPropagationStopped())break t;H_(w,S,O),_=T}else for(x=0;x<g.length;x++){if(S=g[x],T=S.instance,O=S.currentTarget,S=S.listener,T!==_&&w.isPropagationStopped())break t;H_(w,S,O),_=T}}}if(dv)throw i=wy,dv=!1,wy=null,i}function Nn(i,s){var f=s[ky];f===void 0&&(f=s[ky]=new Set);var g=i+"__bubble";f.has(g)||(kb(s,i,2,!1),f.add(g))}function $m(i,s,f){var g=0;s&&(g|=4),kb(f,i,g,s)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Ld(i){if(!i[Wh]){i[Wh]=!0,I1.forEach(function(f){f!=="selectionchange"&&(v2.has(f)||$m(f,!1,i),$m(f,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wh]||(s[Wh]=!0,$m("selectionchange",!1,s))}}function kb(i,s,f,g){switch(db(s)){case 1:var w=kk;break;case 4:w=Ak;break;default:w=c0}f=w.bind(null,s,f,i),w=void 0,!yy||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(s,f,{capture:!0,passive:w}):i.addEventListener(s,f,!0):w!==void 0?i.addEventListener(s,f,{passive:w}):i.addEventListener(s,f,!1)}function Km(i,s,f,g,w){var _=g;if(!(s&1)&&!(s&2)&&g!==null)t:for(;;){if(g===null)return;var x=g.tag;if(x===3||x===4){var S=g.stateNode.containerInfo;if(S===w||S.nodeType===8&&S.parentNode===w)break;if(x===4)for(x=g.return;x!==null;){var T=x.tag;if((T===3||T===4)&&(T=x.stateNode.containerInfo,T===w||T.nodeType===8&&T.parentNode===w))return;x=x.return}for(;S!==null;){if(x=fu(S),x===null)return;if(T=x.tag,T===5||T===6){g=_=x;continue t}S=S.parentNode}}g=g.return}J1(function(){var O=_,A=a0(f),k=[];t:{var L=Eb.get(i);if(L!==void 0){var R=d0,z=i;switch(i){case"keypress":if(nv(f)===0)break t;case"keydown":case"keyup":R=$k;break;case"focusin":z="focus",R=Fm;break;case"focusout":z="blur",R=Fm;break;case"beforeblur":case"afterblur":R=Fm;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=P_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Yk;break;case xb:case Sb:case Ob:R=Ik;break;case Tb:R=Xk;break;case"scroll":R=Mk;break;case"wheel":R=Jk;break;case"copy":case"cut":case"paste":R=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=A_}var ot=(s&4)!==0,dt=!ot&&i==="scroll",tt=ot?L!==null?L+"Capture":null:L;ot=[];for(var U=O,K;U!==null;){K=U;var X=K.stateNode;if(K.tag===5&&X!==null&&(K=X,tt!==null&&(X=Td(U,tt),X!=null&&ot.push(jd(U,X,K)))),dt)break;U=U.return}0<ot.length&&(L=new R(L,z,null,f,A),k.push({event:L,listeners:ot}))}}if(!(s&7)){t:{if(L=i==="mouseover"||i==="pointerover",R=i==="mouseout"||i==="pointerout",L&&f!==gy&&(z=f.relatedTarget||f.fromElement)&&(fu(z)||z[ms]))break t;if((R||L)&&(L=A.window===A?A:(L=A.ownerDocument)?L.defaultView||L.parentWindow:window,R?(z=f.relatedTarget||f.toElement,R=O,z=z?fu(z):null,z!==null&&(dt=Cu(z),z!==dt||z.tag!==5&&z.tag!==6)&&(z=null)):(R=null,z=O),R!==z)){if(ot=P_,X="onMouseLeave",tt="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ot=A_,X="onPointerLeave",tt="onPointerEnter",U="pointer"),dt=R==null?L:kc(R),K=z==null?L:kc(z),L=new ot(X,U+"leave",R,f,A),L.target=dt,L.relatedTarget=K,X=null,fu(A)===O&&(ot=new ot(tt,U+"enter",z,f,A),ot.target=K,ot.relatedTarget=dt,X=ot),dt=X,R&&z)e:{for(ot=R,tt=z,U=0,K=ot;K;K=Cc(K))U++;for(K=0,X=tt;X;X=Cc(X))K++;for(;0<U-K;)ot=Cc(ot),U--;for(;0<K-U;)tt=Cc(tt),K--;for(;U--;){if(ot===tt||tt!==null&&ot===tt.alternate)break e;ot=Cc(ot),tt=Cc(tt)}ot=null}else ot=null;R!==null&&B_(k,L,R,ot,!1),z!==null&&dt!==null&&B_(k,dt,z,ot,!0)}}t:{if(L=O?kc(O):window,R=L.nodeName&&L.nodeName.toLowerCase(),R==="select"||R==="input"&&L.type==="file")var mt=i2;else if(j_(L))if(yb)mt=u2;else{mt=s2;var bt=a2}else(R=L.nodeName)&&R.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(mt=l2);if(mt&&(mt=mt(i,O))){mb(k,mt,f,A);break t}bt&&bt(i,L,O),i==="focusout"&&(bt=L._wrapperState)&&bt.controlled&&L.type==="number"&&fy(L,"number",L.value)}switch(bt=O?kc(O):window,i){case"focusin":(j_(bt)||bt.contentEditable==="true")&&(Ec=bt,xy=O,wd=null);break;case"focusout":wd=xy=Ec=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,R_(k,f,A);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":R_(k,f,A)}var St;if(h0)t:{switch(i){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Tc?vb(i,f)&&(Ot="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ot="onCompositionStart");Ot&&(hb&&f.locale!=="ko"&&(Tc||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Tc&&(St=pb()):(nl=A,f0="value"in nl?nl.value:nl.textContent,Tc=!0)),bt=mv(O,Ot),0<bt.length&&(Ot=new k_(Ot,i,null,f,A),k.push({event:Ot,listeners:bt}),St?Ot.data=St:(St=gb(f),St!==null&&(Ot.data=St)))),(St=t2?e2(i,f):n2(i,f))&&(O=mv(O,"onBeforeInput"),0<O.length&&(A=new k_("onBeforeInput","beforeinput",null,f,A),k.push({event:A,listeners:O}),A.data=St))}Pb(k,s)})}function jd(i,s,f){return{instance:i,listener:s,currentTarget:f}}function mv(i,s){for(var f=s+"Capture",g=[];i!==null;){var w=i,_=w.stateNode;w.tag===5&&_!==null&&(w=_,_=Td(i,f),_!=null&&g.unshift(jd(i,_,w)),_=Td(i,s),_!=null&&g.push(jd(i,_,w))),i=i.return}return g}function Cc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function B_(i,s,f,g,w){for(var _=s._reactName,x=[];f!==null&&f!==g;){var S=f,T=S.alternate,O=S.stateNode;if(T!==null&&T===g)break;S.tag===5&&O!==null&&(S=O,w?(T=Td(f,_),T!=null&&x.unshift(jd(f,T,S))):w||(T=Td(f,_),T!=null&&x.push(jd(f,T,S)))),f=f.return}x.length!==0&&i.push({event:s,listeners:x})}var g2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function z_(i){return(typeof i=="string"?i:""+i).replace(g2,`
`).replace(m2,"")}function $h(i,s,f){if(s=z_(s),z_(i)!==s&&f)throw Error(oe(425))}function yv(){}var Oy=null,Ty=null;function Ey(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Py=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(i){return U_.resolve(null).then(i).catch(_2)}:Py;function _2(i){setTimeout(function(){throw i})}function Gm(i,s){var f=s,g=0;do{var w=f.nextSibling;if(i.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(g===0){i.removeChild(w),kd(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=w}while(f);kd(s)}function sl(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function W_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return i;s--}else f==="/$"&&s++}i=i.previousSibling}return null}var Jc=Math.random().toString(36).slice(2),Ma="__reactFiber$"+Jc,Dd="__reactProps$"+Jc,ms="__reactContainer$"+Jc,ky="__reactEvents$"+Jc,b2="__reactListeners$"+Jc,C2="__reactHandles$"+Jc;function fu(i){var s=i[Ma];if(s)return s;for(var f=i.parentNode;f;){if(s=f[ms]||f[Ma]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(i=W_(i);i!==null;){if(f=i[Ma])return f;i=W_(i)}return s}i=f,f=i.parentNode}return null}function Wd(i){return i=i[Ma]||i[ms],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function kc(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(oe(33))}function Fv(i){return i[Dd]||null}var Ay=[],Ac=-1;function vl(i){return{current:i}}function In(i){0>Ac||(i.current=Ay[Ac],Ay[Ac]=null,Ac--)}function On(i,s){Ac++,Ay[Ac]=i.current,i.current=s}var pl={},no=vl(pl),Vo=vl(!1),gu=pl;function Wc(i,s){var f=i.type.contextTypes;if(!f)return pl;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var w={},_;for(_ in f)w[_]=s[_];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=w),w}function Ro(i){return i=i.childContextTypes,i!=null}function wv(){In(Vo),In(no)}function $_(i,s,f){if(no.current!==pl)throw Error(oe(168));On(no,s),On(Vo,f)}function Ab(i,s,f){var g=i.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var w in g)if(!(w in s))throw Error(oe(108,ak(i)||"Unknown",w));return Xn({},f,g)}function _v(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pl,gu=no.current,On(no,i),On(Vo,Vo.current),!0}function K_(i,s,f){var g=i.stateNode;if(!g)throw Error(oe(169));f?(i=Ab(i,s,gu),g.__reactInternalMemoizedMergedChildContext=i,In(Vo),In(no),On(no,i)):In(Vo),On(Vo,f)}var ds=null,Hv=!1,Ym=!1;function Mb(i){ds===null?ds=[i]:ds.push(i)}function x2(i){Hv=!0,Mb(i)}function gl(){if(!Ym&&ds!==null){Ym=!0;var i=0,s=Cn;try{var f=ds;for(Cn=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}ds=null,Hv=!1}catch(w){throw ds!==null&&(ds=ds.slice(i+1)),nb(s0,gl),w}finally{Cn=s,Ym=!1}}return null}var Mc=[],Lc=0,bv=null,Cv=0,ui=[],ci=0,mu=null,ps=1,hs="";function uu(i,s){Mc[Lc++]=Cv,Mc[Lc++]=bv,bv=i,Cv=s}function Lb(i,s,f){ui[ci++]=ps,ui[ci++]=hs,ui[ci++]=mu,mu=i;var g=ps;i=hs;var w=32-Ri(g)-1;g&=~(1<<w),f+=1;var _=32-Ri(s)+w;if(30<_){var x=w-w%5;_=(g&(1<<x)-1).toString(32),g>>=x,w-=x,ps=1<<32-Ri(s)+w|f<<w|g,hs=_+i}else ps=1<<_|f<<w|g,hs=i}function g0(i){i.return!==null&&(uu(i,1),Lb(i,1,0))}function m0(i){for(;i===bv;)bv=Mc[--Lc],Mc[Lc]=null,Cv=Mc[--Lc],Mc[Lc]=null;for(;i===mu;)mu=ui[--ci],ui[ci]=null,hs=ui[--ci],ui[ci]=null,ps=ui[--ci],ui[ci]=null}var Jo=null,Zo=null,$n=!1,Vi=null;function jb(i,s){var f=fi(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=i,s=i.deletions,s===null?(i.deletions=[f],i.flags|=16):s.push(f)}function G_(i,s){switch(i.tag){case 5:var f=i.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Jo=i,Zo=sl(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Jo=i,Zo=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=mu!==null?{id:ps,overflow:hs}:null,i.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=fi(18,null,null,0),f.stateNode=s,f.return=i,i.child=f,Jo=i,Zo=null,!0):!1;default:return!1}}function My(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ly(i){if($n){var s=Zo;if(s){var f=s;if(!G_(i,s)){if(My(i))throw Error(oe(418));s=sl(f.nextSibling);var g=Jo;s&&G_(i,s)?jb(g,f):(i.flags=i.flags&-4097|2,$n=!1,Jo=i)}}else{if(My(i))throw Error(oe(418));i.flags=i.flags&-4097|2,$n=!1,Jo=i}}}function Y_(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Jo=i}function Kh(i){if(i!==Jo)return!1;if(!$n)return Y_(i),$n=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ey(i.type,i.memoizedProps)),s&&(s=Zo)){if(My(i))throw Db(),Error(oe(418));for(;s;)jb(i,s),s=sl(s.nextSibling)}if(Y_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(s===0){Zo=sl(i.nextSibling);break t}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}i=i.nextSibling}Zo=null}}else Zo=Jo?sl(i.stateNode.nextSibling):null;return!0}function Db(){for(var i=Zo;i;)i=sl(i.nextSibling)}function $c(){Zo=Jo=null,$n=!1}function y0(i){Vi===null?Vi=[i]:Vi.push(i)}var S2=_s.ReactCurrentBatchConfig;function Ni(i,s){if(i&&i.defaultProps){s=Xn({},s),i=i.defaultProps;for(var f in i)s[f]===void 0&&(s[f]=i[f]);return s}return s}var xv=vl(null),Sv=null,jc=null,w0=null;function _0(){w0=jc=Sv=null}function b0(i){var s=xv.current;In(xv),i._currentValue=s}function jy(i,s,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),i===f)break;i=i.return}}function Bc(i,s){Sv=i,w0=jc=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Io=!0),i.firstContext=null)}function pi(i){var s=i._currentValue;if(w0!==i)if(i={context:i,memoizedValue:s,next:null},jc===null){if(Sv===null)throw Error(oe(308));jc=i,Sv.dependencies={lanes:0,firstContext:i}}else jc=jc.next=i;return s}var du=null;function C0(i){du===null?du=[i]:du.push(i)}function Nb(i,s,f,g){var w=s.interleaved;return w===null?(f.next=f,C0(s)):(f.next=w.next,w.next=f),s.interleaved=f,ys(i,g)}function ys(i,s){i.lanes|=s;var f=i.alternate;for(f!==null&&(f.lanes|=s),f=i,i=i.return;i!==null;)i.childLanes|=s,f=i.alternate,f!==null&&(f.childLanes|=s),f=i,i=i.return;return f.tag===3?f.stateNode:null}var Qs=!1;function x0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ib(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vs(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ll(i,s,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,pn&2){var w=g.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),g.pending=s,ys(i,f)}return w=g.interleaved,w===null?(s.next=s,C0(g)):(s.next=w.next,w.next=s),g.interleaved=s,ys(i,f)}function rv(i,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=i.pendingLanes,f|=g,s.lanes=f,l0(i,f)}}function q_(i,s){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var x={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?w=_=x:_=_.next=x,f=f.next}while(f!==null);_===null?w=_=s:_=_.next=s}else w=_=s;f={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=s:i.next=s,f.lastBaseUpdate=s}function Ov(i,s,f,g){var w=i.updateQueue;Qs=!1;var _=w.firstBaseUpdate,x=w.lastBaseUpdate,S=w.shared.pending;if(S!==null){w.shared.pending=null;var T=S,O=T.next;T.next=null,x===null?_=O:x.next=O,x=T;var A=i.alternate;A!==null&&(A=A.updateQueue,S=A.lastBaseUpdate,S!==x&&(S===null?A.firstBaseUpdate=O:S.next=O,A.lastBaseUpdate=T))}if(_!==null){var k=w.baseState;x=0,A=O=T=null,S=_;do{var L=S.lane,R=S.eventTime;if((g&L)===L){A!==null&&(A=A.next={eventTime:R,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});t:{var z=i,ot=S;switch(L=s,R=f,ot.tag){case 1:if(z=ot.payload,typeof z=="function"){k=z.call(R,k,L);break t}k=z;break t;case 3:z.flags=z.flags&-65537|128;case 0:if(z=ot.payload,L=typeof z=="function"?z.call(R,k,L):z,L==null)break t;k=Xn({},k,L);break t;case 2:Qs=!0}}S.callback!==null&&S.lane!==0&&(i.flags|=64,L=w.effects,L===null?w.effects=[S]:L.push(S))}else R={eventTime:R,lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},A===null?(O=A=R,T=k):A=A.next=R,x|=L;if(S=S.next,S===null){if(S=w.shared.pending,S===null)break;L=S,S=L.next,L.next=null,w.lastBaseUpdate=L,w.shared.pending=null}}while(1);if(A===null&&(T=k),w.baseState=T,w.firstBaseUpdate=O,w.lastBaseUpdate=A,s=w.shared.interleaved,s!==null){w=s;do x|=w.lane,w=w.next;while(w!==s)}else _===null&&(w.shared.lanes=0);wu|=x,i.lanes=x,i.memoizedState=k}}function X_(i,s,f){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var g=i[s],w=g.callback;if(w!==null){if(g.callback=null,g=f,typeof w!="function")throw Error(oe(191,w));w.call(g)}}}var Vb=new N1.Component().refs;function Dy(i,s,f,g){s=i.memoizedState,f=f(g,s),f=f==null?s:Xn({},s,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Bv={isMounted:function(i){return(i=i._reactInternals)?Cu(i)===i:!1},enqueueSetState:function(i,s,f){i=i._reactInternals;var g=bo(),w=cl(i),_=vs(g,w);_.payload=s,f!=null&&(_.callback=f),s=ll(i,_,w),s!==null&&(Fi(s,i,w,g),rv(s,i,w))},enqueueReplaceState:function(i,s,f){i=i._reactInternals;var g=bo(),w=cl(i),_=vs(g,w);_.tag=1,_.payload=s,f!=null&&(_.callback=f),s=ll(i,_,w),s!==null&&(Fi(s,i,w,g),rv(s,i,w))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var f=bo(),g=cl(i),w=vs(f,g);w.tag=2,s!=null&&(w.callback=s),s=ll(i,w,g),s!==null&&(Fi(s,i,g,f),rv(s,i,g))}};function Z_(i,s,f,g,w,_,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,x):s.prototype&&s.prototype.isPureReactComponent?!Md(f,g)||!Md(w,_):!0}function Rb(i,s,f){var g=!1,w=pl,_=s.contextType;return typeof _=="object"&&_!==null?_=pi(_):(w=Ro(s)?gu:no.current,g=s.contextTypes,_=(g=g!=null)?Wc(i,w):pl),s=new s(f,_),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bv,i.stateNode=s,s._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=_),s}function J_(i,s,f,g){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==i&&Bv.enqueueReplaceState(s,s.state,null)}function Ny(i,s,f,g){var w=i.stateNode;w.props=f,w.state=i.memoizedState,w.refs=Vb,x0(i);var _=s.contextType;typeof _=="object"&&_!==null?w.context=pi(_):(_=Ro(s)?gu:no.current,w.context=Wc(i,_)),w.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Dy(i,s,_,f),w.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(s=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),s!==w.state&&Bv.enqueueReplaceState(w,w.state,null),Ov(i,f,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function ld(i,s,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(oe(309));var g=f.stateNode}if(!g)throw Error(oe(147,i));var w=g,_=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(x){var S=w.refs;S===Vb&&(S=w.refs={}),x===null?delete S[_]:S[_]=x},s._stringRef=_,s)}if(typeof i!="string")throw Error(oe(284));if(!f._owner)throw Error(oe(290,i))}return i}function Gh(i,s){throw i=Object.prototype.toString.call(s),Error(oe(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Q_(i){var s=i._init;return s(i._payload)}function Fb(i){function s(tt,U){if(i){var K=tt.deletions;K===null?(tt.deletions=[U],tt.flags|=16):K.push(U)}}function f(tt,U){if(!i)return null;for(;U!==null;)s(tt,U),U=U.sibling;return null}function g(tt,U){for(tt=new Map;U!==null;)U.key!==null?tt.set(U.key,U):tt.set(U.index,U),U=U.sibling;return tt}function w(tt,U){return tt=fl(tt,U),tt.index=0,tt.sibling=null,tt}function _(tt,U,K){return tt.index=K,i?(K=tt.alternate,K!==null?(K=K.index,K<U?(tt.flags|=2,U):K):(tt.flags|=2,U)):(tt.flags|=1048576,U)}function x(tt){return i&&tt.alternate===null&&(tt.flags|=2),tt}function S(tt,U,K,X){return U===null||U.tag!==6?(U=ey(K,tt.mode,X),U.return=tt,U):(U=w(U,K),U.return=tt,U)}function T(tt,U,K,X){var mt=K.type;return mt===Oc?A(tt,U,K.props.children,X,K.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Js&&Q_(mt)===U.type)?(X=w(U,K.props),X.ref=ld(tt,U,K),X.return=tt,X):(X=uv(K.type,K.key,K.props,null,tt.mode,X),X.ref=ld(tt,U,K),X.return=tt,X)}function O(tt,U,K,X){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=ny(K,tt.mode,X),U.return=tt,U):(U=w(U,K.children||[]),U.return=tt,U)}function A(tt,U,K,X,mt){return U===null||U.tag!==7?(U=vu(K,tt.mode,X,mt),U.return=tt,U):(U=w(U,K),U.return=tt,U)}function k(tt,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=ey(""+U,tt.mode,K),U.return=tt,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ih:return K=uv(U.type,U.key,U.props,null,tt.mode,K),K.ref=ld(tt,null,U),K.return=tt,K;case Sc:return U=ny(U,tt.mode,K),U.return=tt,U;case Js:var X=U._init;return k(tt,X(U._payload),K)}if(dd(U)||rd(U))return U=vu(U,tt.mode,K,null),U.return=tt,U;Gh(tt,U)}return null}function L(tt,U,K,X){var mt=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return mt!==null?null:S(tt,U,""+K,X);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Ih:return K.key===mt?T(tt,U,K,X):null;case Sc:return K.key===mt?O(tt,U,K,X):null;case Js:return mt=K._init,L(tt,U,mt(K._payload),X)}if(dd(K)||rd(K))return mt!==null?null:A(tt,U,K,X,null);Gh(tt,K)}return null}function R(tt,U,K,X,mt){if(typeof X=="string"&&X!==""||typeof X=="number")return tt=tt.get(K)||null,S(U,tt,""+X,mt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Ih:return tt=tt.get(X.key===null?K:X.key)||null,T(U,tt,X,mt);case Sc:return tt=tt.get(X.key===null?K:X.key)||null,O(U,tt,X,mt);case Js:var bt=X._init;return R(tt,U,K,bt(X._payload),mt)}if(dd(X)||rd(X))return tt=tt.get(K)||null,A(U,tt,X,mt,null);Gh(U,X)}return null}function z(tt,U,K,X){for(var mt=null,bt=null,St=U,Ot=U=0,$=null;St!==null&&Ot<K.length;Ot++){St.index>Ot?($=St,St=null):$=St.sibling;var Y=L(tt,St,K[Ot],X);if(Y===null){St===null&&(St=$);break}i&&St&&Y.alternate===null&&s(tt,St),U=_(Y,U,Ot),bt===null?mt=Y:bt.sibling=Y,bt=Y,St=$}if(Ot===K.length)return f(tt,St),$n&&uu(tt,Ot),mt;if(St===null){for(;Ot<K.length;Ot++)St=k(tt,K[Ot],X),St!==null&&(U=_(St,U,Ot),bt===null?mt=St:bt.sibling=St,bt=St);return $n&&uu(tt,Ot),mt}for(St=g(tt,St);Ot<K.length;Ot++)$=R(St,tt,Ot,K[Ot],X),$!==null&&(i&&$.alternate!==null&&St.delete($.key===null?Ot:$.key),U=_($,U,Ot),bt===null?mt=$:bt.sibling=$,bt=$);return i&&St.forEach(function(q){return s(tt,q)}),$n&&uu(tt,Ot),mt}function ot(tt,U,K,X){var mt=rd(K);if(typeof mt!="function")throw Error(oe(150));if(K=mt.call(K),K==null)throw Error(oe(151));for(var bt=mt=null,St=U,Ot=U=0,$=null,Y=K.next();St!==null&&!Y.done;Ot++,Y=K.next()){St.index>Ot?($=St,St=null):$=St.sibling;var q=L(tt,St,Y.value,X);if(q===null){St===null&&(St=$);break}i&&St&&q.alternate===null&&s(tt,St),U=_(q,U,Ot),bt===null?mt=q:bt.sibling=q,bt=q,St=$}if(Y.done)return f(tt,St),$n&&uu(tt,Ot),mt;if(St===null){for(;!Y.done;Ot++,Y=K.next())Y=k(tt,Y.value,X),Y!==null&&(U=_(Y,U,Ot),bt===null?mt=Y:bt.sibling=Y,bt=Y);return $n&&uu(tt,Ot),mt}for(St=g(tt,St);!Y.done;Ot++,Y=K.next())Y=R(St,tt,Ot,Y.value,X),Y!==null&&(i&&Y.alternate!==null&&St.delete(Y.key===null?Ot:Y.key),U=_(Y,U,Ot),bt===null?mt=Y:bt.sibling=Y,bt=Y);return i&&St.forEach(function(Z){return s(tt,Z)}),$n&&uu(tt,Ot),mt}function dt(tt,U,K,X){if(typeof K=="object"&&K!==null&&K.type===Oc&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Ih:t:{for(var mt=K.key,bt=U;bt!==null;){if(bt.key===mt){if(mt=K.type,mt===Oc){if(bt.tag===7){f(tt,bt.sibling),U=w(bt,K.props.children),U.return=tt,tt=U;break t}}else if(bt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===Js&&Q_(mt)===bt.type){f(tt,bt.sibling),U=w(bt,K.props),U.ref=ld(tt,bt,K),U.return=tt,tt=U;break t}f(tt,bt);break}else s(tt,bt);bt=bt.sibling}K.type===Oc?(U=vu(K.props.children,tt.mode,X,K.key),U.return=tt,tt=U):(X=uv(K.type,K.key,K.props,null,tt.mode,X),X.ref=ld(tt,U,K),X.return=tt,tt=X)}return x(tt);case Sc:t:{for(bt=K.key;U!==null;){if(U.key===bt)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){f(tt,U.sibling),U=w(U,K.children||[]),U.return=tt,tt=U;break t}else{f(tt,U);break}else s(tt,U);U=U.sibling}U=ny(K,tt.mode,X),U.return=tt,tt=U}return x(tt);case Js:return bt=K._init,dt(tt,U,bt(K._payload),X)}if(dd(K))return z(tt,U,K,X);if(rd(K))return ot(tt,U,K,X);Gh(tt,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(f(tt,U.sibling),U=w(U,K),U.return=tt,tt=U):(f(tt,U),U=ey(K,tt.mode,X),U.return=tt,tt=U),x(tt)):f(tt,U)}return dt}var Kc=Fb(!0),Hb=Fb(!1),$d={},ja=vl($d),Nd=vl($d),Id=vl($d);function pu(i){if(i===$d)throw Error(oe(174));return i}function S0(i,s){switch(On(Id,s),On(Nd,i),On(ja,$d),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:py(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=py(s,i)}In(ja),On(ja,s)}function Gc(){In(ja),In(Nd),In(Id)}function Bb(i){pu(Id.current);var s=pu(ja.current),f=py(s,i.type);s!==f&&(On(Nd,i),On(ja,f))}function O0(i){Nd.current===i&&(In(ja),In(Nd))}var Yn=vl(0);function Tv(i){for(var s=i;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qm=[];function T0(){for(var i=0;i<qm.length;i++)qm[i]._workInProgressVersionPrimary=null;qm.length=0}var ov=_s.ReactCurrentDispatcher,Xm=_s.ReactCurrentBatchConfig,yu=0,qn=null,Sr=null,Lr=null,Ev=!1,_d=!1,Vd=0,O2=0;function Qr(){throw Error(oe(321))}function E0(i,s){if(s===null)return!1;for(var f=0;f<s.length&&f<i.length;f++)if(!Hi(i[f],s[f]))return!1;return!0}function P0(i,s,f,g,w,_){if(yu=_,qn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ov.current=i===null||i.memoizedState===null?k2:A2,i=f(g,w),_d){_=0;do{if(_d=!1,Vd=0,25<=_)throw Error(oe(301));_+=1,Lr=Sr=null,s.updateQueue=null,ov.current=M2,i=f(g,w)}while(_d)}if(ov.current=Pv,s=Sr!==null&&Sr.next!==null,yu=0,Lr=Sr=qn=null,Ev=!1,s)throw Error(oe(300));return i}function k0(){var i=Vd!==0;return Vd=0,i}function Aa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?qn.memoizedState=Lr=i:Lr=Lr.next=i,Lr}function hi(){if(Sr===null){var i=qn.alternate;i=i!==null?i.memoizedState:null}else i=Sr.next;var s=Lr===null?qn.memoizedState:Lr.next;if(s!==null)Lr=s,Sr=i;else{if(i===null)throw Error(oe(310));Sr=i,i={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Lr===null?qn.memoizedState=Lr=i:Lr=Lr.next=i}return Lr}function Rd(i,s){return typeof s=="function"?s(i):s}function Zm(i){var s=hi(),f=s.queue;if(f===null)throw Error(oe(311));f.lastRenderedReducer=i;var g=Sr,w=g.baseQueue,_=f.pending;if(_!==null){if(w!==null){var x=w.next;w.next=_.next,_.next=x}g.baseQueue=w=_,f.pending=null}if(w!==null){_=w.next,g=g.baseState;var S=x=null,T=null,O=_;do{var A=O.lane;if((yu&A)===A)T!==null&&(T=T.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),g=O.hasEagerState?O.eagerState:i(g,O.action);else{var k={lane:A,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};T===null?(S=T=k,x=g):T=T.next=k,qn.lanes|=A,wu|=A}O=O.next}while(O!==null&&O!==_);T===null?x=g:T.next=S,Hi(g,s.memoizedState)||(Io=!0),s.memoizedState=g,s.baseState=x,s.baseQueue=T,f.lastRenderedState=g}if(i=f.interleaved,i!==null){w=i;do _=w.lane,qn.lanes|=_,wu|=_,w=w.next;while(w!==i)}else w===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Jm(i){var s=hi(),f=s.queue;if(f===null)throw Error(oe(311));f.lastRenderedReducer=i;var g=f.dispatch,w=f.pending,_=s.memoizedState;if(w!==null){f.pending=null;var x=w=w.next;do _=i(_,x.action),x=x.next;while(x!==w);Hi(_,s.memoizedState)||(Io=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),f.lastRenderedState=_}return[_,g]}function zb(){}function Ub(i,s){var f=qn,g=hi(),w=s(),_=!Hi(g.memoizedState,w);if(_&&(g.memoizedState=w,Io=!0),g=g.queue,A0(Kb.bind(null,f,g,i),[i]),g.getSnapshot!==s||_||Lr!==null&&Lr.memoizedState.tag&1){if(f.flags|=2048,Fd(9,$b.bind(null,f,g,w,s),void 0,null),jr===null)throw Error(oe(349));yu&30||Wb(f,s,w)}return w}function Wb(i,s,f){i.flags|=16384,i={getSnapshot:s,value:f},s=qn.updateQueue,s===null?(s={lastEffect:null,stores:null},qn.updateQueue=s,s.stores=[i]):(f=s.stores,f===null?s.stores=[i]:f.push(i))}function $b(i,s,f,g){s.value=f,s.getSnapshot=g,Gb(s)&&Yb(i)}function Kb(i,s,f){return f(function(){Gb(s)&&Yb(i)})}function Gb(i){var s=i.getSnapshot;i=i.value;try{var f=s();return!Hi(i,f)}catch{return!0}}function Yb(i){var s=ys(i,1);s!==null&&Fi(s,i,1,-1)}function t1(i){var s=Aa();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:i},s.queue=i,i=i.dispatch=P2.bind(null,qn,i),[s.memoizedState,i]}function Fd(i,s,f,g){return i={tag:i,create:s,destroy:f,deps:g,next:null},s=qn.updateQueue,s===null?(s={lastEffect:null,stores:null},qn.updateQueue=s,s.lastEffect=i.next=i):(f=s.lastEffect,f===null?s.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,s.lastEffect=i)),i}function qb(){return hi().memoizedState}function iv(i,s,f,g){var w=Aa();qn.flags|=i,w.memoizedState=Fd(1|s,f,void 0,g===void 0?null:g)}function zv(i,s,f,g){var w=hi();g=g===void 0?null:g;var _=void 0;if(Sr!==null){var x=Sr.memoizedState;if(_=x.destroy,g!==null&&E0(g,x.deps)){w.memoizedState=Fd(s,f,_,g);return}}qn.flags|=i,w.memoizedState=Fd(1|s,f,_,g)}function e1(i,s){return iv(8390656,8,i,s)}function A0(i,s){return zv(2048,8,i,s)}function Xb(i,s){return zv(4,2,i,s)}function Zb(i,s){return zv(4,4,i,s)}function Jb(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Qb(i,s,f){return f=f!=null?f.concat([i]):null,zv(4,4,Jb.bind(null,s,i),f)}function M0(){}function tC(i,s){var f=hi();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&E0(s,g[1])?g[0]:(f.memoizedState=[i,s],i)}function eC(i,s){var f=hi();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&E0(s,g[1])?g[0]:(i=i(),f.memoizedState=[i,s],i)}function nC(i,s,f){return yu&21?(Hi(f,s)||(f=ib(),qn.lanes|=f,wu|=f,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Io=!0),i.memoizedState=f)}function T2(i,s){var f=Cn;Cn=f!==0&&4>f?f:4,i(!0);var g=Xm.transition;Xm.transition={};try{i(!1),s()}finally{Cn=f,Xm.transition=g}}function rC(){return hi().memoizedState}function E2(i,s,f){var g=cl(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},oC(i))iC(s,f);else if(f=Nb(i,s,f,g),f!==null){var w=bo();Fi(f,i,g,w),aC(f,s,g)}}function P2(i,s,f){var g=cl(i),w={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(oC(i))iC(s,w);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,S=_(x,f);if(w.hasEagerState=!0,w.eagerState=S,Hi(S,x)){var T=s.interleaved;T===null?(w.next=w,C0(s)):(w.next=T.next,T.next=w),s.interleaved=w;return}}catch{}finally{}f=Nb(i,s,w,g),f!==null&&(w=bo(),Fi(f,i,g,w),aC(f,s,g))}}function oC(i){var s=i.alternate;return i===qn||s!==null&&s===qn}function iC(i,s){_d=Ev=!0;var f=i.pending;f===null?s.next=s:(s.next=f.next,f.next=s),i.pending=s}function aC(i,s,f){if(f&4194240){var g=s.lanes;g&=i.pendingLanes,f|=g,s.lanes=f,l0(i,f)}}var Pv={readContext:pi,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},k2={readContext:pi,useCallback:function(i,s){return Aa().memoizedState=[i,s===void 0?null:s],i},useContext:pi,useEffect:e1,useImperativeHandle:function(i,s,f){return f=f!=null?f.concat([i]):null,iv(4194308,4,Jb.bind(null,s,i),f)},useLayoutEffect:function(i,s){return iv(4194308,4,i,s)},useInsertionEffect:function(i,s){return iv(4,2,i,s)},useMemo:function(i,s){var f=Aa();return s=s===void 0?null:s,i=i(),f.memoizedState=[i,s],i},useReducer:function(i,s,f){var g=Aa();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},g.queue=i,i=i.dispatch=E2.bind(null,qn,i),[g.memoizedState,i]},useRef:function(i){var s=Aa();return i={current:i},s.memoizedState=i},useState:t1,useDebugValue:M0,useDeferredValue:function(i){return Aa().memoizedState=i},useTransition:function(){var i=t1(!1),s=i[0];return i=T2.bind(null,i[1]),Aa().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,f){var g=qn,w=Aa();if($n){if(f===void 0)throw Error(oe(407));f=f()}else{if(f=s(),jr===null)throw Error(oe(349));yu&30||Wb(g,s,f)}w.memoizedState=f;var _={value:f,getSnapshot:s};return w.queue=_,e1(Kb.bind(null,g,_,i),[i]),g.flags|=2048,Fd(9,$b.bind(null,g,_,f,s),void 0,null),f},useId:function(){var i=Aa(),s=jr.identifierPrefix;if($n){var f=hs,g=ps;f=(g&~(1<<32-Ri(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=Vd++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=O2++,s=":"+s+"r"+f.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},A2={readContext:pi,useCallback:tC,useContext:pi,useEffect:A0,useImperativeHandle:Qb,useInsertionEffect:Xb,useLayoutEffect:Zb,useMemo:eC,useReducer:Zm,useRef:qb,useState:function(){return Zm(Rd)},useDebugValue:M0,useDeferredValue:function(i){var s=hi();return nC(s,Sr.memoizedState,i)},useTransition:function(){var i=Zm(Rd)[0],s=hi().memoizedState;return[i,s]},useMutableSource:zb,useSyncExternalStore:Ub,useId:rC,unstable_isNewReconciler:!1},M2={readContext:pi,useCallback:tC,useContext:pi,useEffect:A0,useImperativeHandle:Qb,useInsertionEffect:Xb,useLayoutEffect:Zb,useMemo:eC,useReducer:Jm,useRef:qb,useState:function(){return Jm(Rd)},useDebugValue:M0,useDeferredValue:function(i){var s=hi();return Sr===null?s.memoizedState=i:nC(s,Sr.memoizedState,i)},useTransition:function(){var i=Jm(Rd)[0],s=hi().memoizedState;return[i,s]},useMutableSource:zb,useSyncExternalStore:Ub,useId:rC,unstable_isNewReconciler:!1};function Yc(i,s){try{var f="",g=s;do f+=ik(g),g=g.return;while(g);var w=f}catch(_){w=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:s,stack:w,digest:null}}function Qm(i,s,f){return{value:i,source:null,stack:f??null,digest:s??null}}function Iy(i,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var L2=typeof WeakMap=="function"?WeakMap:Map;function sC(i,s,f){f=vs(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){Av||(Av=!0,Ky=g),Iy(i,s)},f}function lC(i,s,f){f=vs(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=s.value;f.payload=function(){return g(w)},f.callback=function(){Iy(i,s)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Iy(i,s),typeof g!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})}),f}function n1(i,s,f){var g=i.pingCache;if(g===null){g=i.pingCache=new L2;var w=new Set;g.set(s,w)}else w=g.get(s),w===void 0&&(w=new Set,g.set(s,w));w.has(f)||(w.add(f),i=K2.bind(null,i,s,f),s.then(i,i))}function r1(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function o1(i,s,f,g,w){return i.mode&1?(i.flags|=65536,i.lanes=w,i):(i===s?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=vs(-1,1),s.tag=2,ll(f,s,1))),f.lanes|=1),i)}var j2=_s.ReactCurrentOwner,Io=!1;function _o(i,s,f,g){s.child=i===null?Hb(s,null,f,g):Kc(s,i.child,f,g)}function i1(i,s,f,g,w){f=f.render;var _=s.ref;return Bc(s,w),g=P0(i,s,f,g,_,w),f=k0(),i!==null&&!Io?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,ws(i,s,w)):($n&&f&&g0(s),s.flags|=1,_o(i,s,g,w),s.child)}function a1(i,s,f,g,w){if(i===null){var _=f.type;return typeof _=="function"&&!F0(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=_,uC(i,s,_,g,w)):(i=uv(f.type,null,g,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!(i.lanes&w)){var x=_.memoizedProps;if(f=f.compare,f=f!==null?f:Md,f(x,g)&&i.ref===s.ref)return ws(i,s,w)}return s.flags|=1,i=fl(_,g),i.ref=s.ref,i.return=s,s.child=i}function uC(i,s,f,g,w){if(i!==null){var _=i.memoizedProps;if(Md(_,g)&&i.ref===s.ref)if(Io=!1,s.pendingProps=g=_,(i.lanes&w)!==0)i.flags&131072&&(Io=!0);else return s.lanes=i.lanes,ws(i,s,w)}return Vy(i,s,f,g,w)}function cC(i,s,f){var g=s.pendingProps,w=g.children,_=i!==null?i.memoizedState:null;if(g.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(Nc,Xo),Xo|=f;else{if(!(f&1073741824))return i=_!==null?_.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,On(Nc,Xo),Xo|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,On(Nc,Xo),Xo|=g}else _!==null?(g=_.baseLanes|f,s.memoizedState=null):g=f,On(Nc,Xo),Xo|=g;return _o(i,s,w,f),s.child}function fC(i,s){var f=s.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Vy(i,s,f,g,w){var _=Ro(f)?gu:no.current;return _=Wc(s,_),Bc(s,w),f=P0(i,s,f,g,_,w),g=k0(),i!==null&&!Io?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,ws(i,s,w)):($n&&g&&g0(s),s.flags|=1,_o(i,s,f,w),s.child)}function s1(i,s,f,g,w){if(Ro(f)){var _=!0;_v(s)}else _=!1;if(Bc(s,w),s.stateNode===null)av(i,s),Rb(s,f,g),Ny(s,f,g,w),g=!0;else if(i===null){var x=s.stateNode,S=s.memoizedProps;x.props=S;var T=x.context,O=f.contextType;typeof O=="object"&&O!==null?O=pi(O):(O=Ro(f)?gu:no.current,O=Wc(s,O));var A=f.getDerivedStateFromProps,k=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function";k||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==g||T!==O)&&J_(s,x,g,O),Qs=!1;var L=s.memoizedState;x.state=L,Ov(s,g,x,w),T=s.memoizedState,S!==g||L!==T||Vo.current||Qs?(typeof A=="function"&&(Dy(s,f,A,g),T=s.memoizedState),(S=Qs||Z_(s,f,S,g,L,T,O))?(k||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=T),x.props=g,x.state=T,x.context=O,g=S):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{x=s.stateNode,Ib(i,s),S=s.memoizedProps,O=s.type===s.elementType?S:Ni(s.type,S),x.props=O,k=s.pendingProps,L=x.context,T=f.contextType,typeof T=="object"&&T!==null?T=pi(T):(T=Ro(f)?gu:no.current,T=Wc(s,T));var R=f.getDerivedStateFromProps;(A=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==k||L!==T)&&J_(s,x,g,T),Qs=!1,L=s.memoizedState,x.state=L,Ov(s,g,x,w);var z=s.memoizedState;S!==k||L!==z||Vo.current||Qs?(typeof R=="function"&&(Dy(s,f,R,g),z=s.memoizedState),(O=Qs||Z_(s,f,O,g,L,z,T)||!1)?(A||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,z,T),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,z,T)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=z),x.props=g,x.state=z,x.context=T,g=O):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&L===i.memoizedState||(s.flags|=1024),g=!1)}return Ry(i,s,f,g,_,w)}function Ry(i,s,f,g,w,_){fC(i,s);var x=(s.flags&128)!==0;if(!g&&!x)return w&&K_(s,f,!1),ws(i,s,_);g=s.stateNode,j2.current=s;var S=x&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,i!==null&&x?(s.child=Kc(s,i.child,null,_),s.child=Kc(s,null,S,_)):_o(i,s,S,_),s.memoizedState=g.state,w&&K_(s,f,!0),s.child}function dC(i){var s=i.stateNode;s.pendingContext?$_(i,s.pendingContext,s.pendingContext!==s.context):s.context&&$_(i,s.context,!1),S0(i,s.containerInfo)}function l1(i,s,f,g,w){return $c(),y0(w),s.flags|=256,_o(i,s,f,g),s.child}var Fy={dehydrated:null,treeContext:null,retryLane:0};function Hy(i){return{baseLanes:i,cachePool:null,transitions:null}}function pC(i,s,f){var g=s.pendingProps,w=Yn.current,_=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=i!==null&&i.memoizedState===null?!1:(w&2)!==0),S?(_=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),On(Yn,w&1),i===null)return Ly(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(x=g.children,i=g.fallback,_?(g=s.mode,_=s.child,x={mode:"hidden",children:x},!(g&1)&&_!==null?(_.childLanes=0,_.pendingProps=x):_=$v(x,g,0,null),i=vu(i,g,f,null),_.return=s,i.return=s,_.sibling=i,s.child=_,s.child.memoizedState=Hy(f),s.memoizedState=Fy,i):L0(s,x));if(w=i.memoizedState,w!==null&&(S=w.dehydrated,S!==null))return D2(i,s,x,g,S,w,f);if(_){_=g.fallback,x=s.mode,w=i.child,S=w.sibling;var T={mode:"hidden",children:g.children};return!(x&1)&&s.child!==w?(g=s.child,g.childLanes=0,g.pendingProps=T,s.deletions=null):(g=fl(w,T),g.subtreeFlags=w.subtreeFlags&14680064),S!==null?_=fl(S,_):(_=vu(_,x,f,null),_.flags|=2),_.return=s,g.return=s,g.sibling=_,s.child=g,g=_,_=s.child,x=i.child.memoizedState,x=x===null?Hy(f):{baseLanes:x.baseLanes|f,cachePool:null,transitions:x.transitions},_.memoizedState=x,_.childLanes=i.childLanes&~f,s.memoizedState=Fy,g}return _=i.child,i=_.sibling,g=fl(_,{mode:"visible",children:g.children}),!(s.mode&1)&&(g.lanes=f),g.return=s,g.sibling=null,i!==null&&(f=s.deletions,f===null?(s.deletions=[i],s.flags|=16):f.push(i)),s.child=g,s.memoizedState=null,g}function L0(i,s){return s=$v({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Yh(i,s,f,g){return g!==null&&y0(g),Kc(s,i.child,null,f),i=L0(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function D2(i,s,f,g,w,_,x){if(f)return s.flags&256?(s.flags&=-257,g=Qm(Error(oe(422))),Yh(i,s,x,g)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(_=g.fallback,w=s.mode,g=$v({mode:"visible",children:g.children},w,0,null),_=vu(_,w,x,null),_.flags|=2,g.return=s,_.return=s,g.sibling=_,s.child=g,s.mode&1&&Kc(s,i.child,null,x),s.child.memoizedState=Hy(x),s.memoizedState=Fy,_);if(!(s.mode&1))return Yh(i,s,x,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var S=g.dgst;return g=S,_=Error(oe(419)),g=Qm(_,g,void 0),Yh(i,s,x,g)}if(S=(x&i.childLanes)!==0,Io||S){if(g=jr,g!==null){switch(x&-x){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(g.suspendedLanes|x)?0:w,w!==0&&w!==_.retryLane&&(_.retryLane=w,ys(i,w),Fi(g,i,w,-1))}return R0(),g=Qm(Error(oe(421))),Yh(i,s,x,g)}return w.data==="$?"?(s.flags|=128,s.child=i.child,s=G2.bind(null,i),w._reactRetry=s,null):(i=_.treeContext,Zo=sl(w.nextSibling),Jo=s,$n=!0,Vi=null,i!==null&&(ui[ci++]=ps,ui[ci++]=hs,ui[ci++]=mu,ps=i.id,hs=i.overflow,mu=s),s=L0(s,g.children),s.flags|=4096,s)}function u1(i,s,f){i.lanes|=s;var g=i.alternate;g!==null&&(g.lanes|=s),jy(i.return,s,f)}function ty(i,s,f,g,w){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:w}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=w)}function hC(i,s,f){var g=s.pendingProps,w=g.revealOrder,_=g.tail;if(_o(i,s,g.children,f),g=Yn.current,g&2)g=g&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u1(i,f,s);else if(i.tag===19)u1(i,f,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(On(Yn,g),!(s.mode&1))s.memoizedState=null;else switch(w){case"forwards":for(f=s.child,w=null;f!==null;)i=f.alternate,i!==null&&Tv(i)===null&&(w=f),f=f.sibling;f=w,f===null?(w=s.child,s.child=null):(w=f.sibling,f.sibling=null),ty(s,!1,w,f,_);break;case"backwards":for(f=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&Tv(i)===null){s.child=w;break}i=w.sibling,w.sibling=f,f=w,w=i}ty(s,!0,f,null,_);break;case"together":ty(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function av(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ws(i,s,f){if(i!==null&&(s.dependencies=i.dependencies),wu|=s.lanes,!(f&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(oe(153));if(s.child!==null){for(i=s.child,f=fl(i,i.pendingProps),s.child=f,f.return=s;i.sibling!==null;)i=i.sibling,f=f.sibling=fl(i,i.pendingProps),f.return=s;f.sibling=null}return s.child}function N2(i,s,f){switch(s.tag){case 3:dC(s),$c();break;case 5:Bb(s);break;case 1:Ro(s.type)&&_v(s);break;case 4:S0(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,w=s.memoizedProps.value;On(xv,g._currentValue),g._currentValue=w;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(On(Yn,Yn.current&1),s.flags|=128,null):f&s.child.childLanes?pC(i,s,f):(On(Yn,Yn.current&1),i=ws(i,s,f),i!==null?i.sibling:null);On(Yn,Yn.current&1);break;case 19:if(g=(f&s.childLanes)!==0,i.flags&128){if(g)return hC(i,s,f);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),On(Yn,Yn.current),g)break;return null;case 22:case 23:return s.lanes=0,cC(i,s,f)}return ws(i,s,f)}var vC,By,gC,mC;vC=function(i,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};By=function(){};gC=function(i,s,f,g){var w=i.memoizedProps;if(w!==g){i=s.stateNode,pu(ja.current);var _=null;switch(f){case"input":w=uy(i,w),g=uy(i,g),_=[];break;case"select":w=Xn({},w,{value:void 0}),g=Xn({},g,{value:void 0}),_=[];break;case"textarea":w=dy(i,w),g=dy(i,g),_=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=yv)}hy(f,g);var x;f=null;for(O in w)if(!g.hasOwnProperty(O)&&w.hasOwnProperty(O)&&w[O]!=null)if(O==="style"){var S=w[O];for(x in S)S.hasOwnProperty(x)&&(f||(f={}),f[x]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(Sd.hasOwnProperty(O)?_||(_=[]):(_=_||[]).push(O,null));for(O in g){var T=g[O];if(S=w!=null?w[O]:void 0,g.hasOwnProperty(O)&&T!==S&&(T!=null||S!=null))if(O==="style")if(S){for(x in S)!S.hasOwnProperty(x)||T&&T.hasOwnProperty(x)||(f||(f={}),f[x]="");for(x in T)T.hasOwnProperty(x)&&S[x]!==T[x]&&(f||(f={}),f[x]=T[x])}else f||(_||(_=[]),_.push(O,f)),f=T;else O==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,S=S?S.__html:void 0,T!=null&&S!==T&&(_=_||[]).push(O,T)):O==="children"?typeof T!="string"&&typeof T!="number"||(_=_||[]).push(O,""+T):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(Sd.hasOwnProperty(O)?(T!=null&&O==="onScroll"&&Nn("scroll",i),_||S===T||(_=[])):(_=_||[]).push(O,T))}f&&(_=_||[]).push("style",f);var O=_;(s.updateQueue=O)&&(s.flags|=4)}};mC=function(i,s,f,g){f!==g&&(s.flags|=4)};function ud(i,s){if(!$n)switch(i.tailMode){case"hidden":s=i.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function to(i){var s=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(s)for(var w=i.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=f,s}function I2(i,s,f){var g=s.pendingProps;switch(m0(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(s),null;case 1:return Ro(s.type)&&wv(),to(s),null;case 3:return g=s.stateNode,Gc(),In(Vo),In(no),T0(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Kh(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Vi!==null&&(qy(Vi),Vi=null))),By(i,s),to(s),null;case 5:O0(s);var w=pu(Id.current);if(f=s.type,i!==null&&s.stateNode!=null)gC(i,s,f,g,w),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(oe(166));return to(s),null}if(i=pu(ja.current),Kh(s)){g=s.stateNode,f=s.type;var _=s.memoizedProps;switch(g[Ma]=s,g[Dd]=_,i=(s.mode&1)!==0,f){case"dialog":Nn("cancel",g),Nn("close",g);break;case"iframe":case"object":case"embed":Nn("load",g);break;case"video":case"audio":for(w=0;w<hd.length;w++)Nn(hd[w],g);break;case"source":Nn("error",g);break;case"img":case"image":case"link":Nn("error",g),Nn("load",g);break;case"details":Nn("toggle",g);break;case"input":y_(g,_),Nn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},Nn("invalid",g);break;case"textarea":__(g,_),Nn("invalid",g)}hy(f,_),w=null;for(var x in _)if(_.hasOwnProperty(x)){var S=_[x];x==="children"?typeof S=="string"?g.textContent!==S&&(_.suppressHydrationWarning!==!0&&$h(g.textContent,S,i),w=["children",S]):typeof S=="number"&&g.textContent!==""+S&&(_.suppressHydrationWarning!==!0&&$h(g.textContent,S,i),w=["children",""+S]):Sd.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&Nn("scroll",g)}switch(f){case"input":Vh(g),w_(g,_,!0);break;case"textarea":Vh(g),b_(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=yv)}g=w,s.updateQueue=g,g!==null&&(s.flags|=4)}else{x=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=W1(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=x.createElement(f,{is:g.is}):(i=x.createElement(f),f==="select"&&(x=i,g.multiple?x.multiple=!0:g.size&&(x.size=g.size))):i=x.createElementNS(i,f),i[Ma]=s,i[Dd]=g,vC(i,s,!1,!1),s.stateNode=i;t:{switch(x=vy(f,g),f){case"dialog":Nn("cancel",i),Nn("close",i),w=g;break;case"iframe":case"object":case"embed":Nn("load",i),w=g;break;case"video":case"audio":for(w=0;w<hd.length;w++)Nn(hd[w],i);w=g;break;case"source":Nn("error",i),w=g;break;case"img":case"image":case"link":Nn("error",i),Nn("load",i),w=g;break;case"details":Nn("toggle",i),w=g;break;case"input":y_(i,g),w=uy(i,g),Nn("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=Xn({},g,{value:void 0}),Nn("invalid",i);break;case"textarea":__(i,g),w=dy(i,g),Nn("invalid",i);break;default:w=g}hy(f,w),S=w;for(_ in S)if(S.hasOwnProperty(_)){var T=S[_];_==="style"?G1(i,T):_==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&$1(i,T)):_==="children"?typeof T=="string"?(f!=="textarea"||T!=="")&&Od(i,T):typeof T=="number"&&Od(i,""+T):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Sd.hasOwnProperty(_)?T!=null&&_==="onScroll"&&Nn("scroll",i):T!=null&&n0(i,_,T,x))}switch(f){case"input":Vh(i),w_(i,g,!1);break;case"textarea":Vh(i),b_(i);break;case"option":g.value!=null&&i.setAttribute("value",""+dl(g.value));break;case"select":i.multiple=!!g.multiple,_=g.value,_!=null?Vc(i,!!g.multiple,_,!1):g.defaultValue!=null&&Vc(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=yv)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return to(s),null;case 6:if(i&&s.stateNode!=null)mC(i,s,i.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(oe(166));if(f=pu(Id.current),pu(ja.current),Kh(s)){if(g=s.stateNode,f=s.memoizedProps,g[Ma]=s,(_=g.nodeValue!==f)&&(i=Jo,i!==null))switch(i.tag){case 3:$h(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$h(g.nodeValue,f,(i.mode&1)!==0)}_&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[Ma]=s,s.stateNode=g}return to(s),null;case 13:if(In(Yn),g=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($n&&Zo!==null&&s.mode&1&&!(s.flags&128))Db(),$c(),s.flags|=98560,_=!1;else if(_=Kh(s),g!==null&&g.dehydrated!==null){if(i===null){if(!_)throw Error(oe(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(oe(317));_[Ma]=s}else $c(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;to(s),_=!1}else Vi!==null&&(qy(Vi),Vi=null),_=!0;if(!_)return s.flags&65536?s:null}return s.flags&128?(s.lanes=f,s):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(s.child.flags|=8192,s.mode&1&&(i===null||Yn.current&1?Or===0&&(Or=3):R0())),s.updateQueue!==null&&(s.flags|=4),to(s),null);case 4:return Gc(),By(i,s),i===null&&Ld(s.stateNode.containerInfo),to(s),null;case 10:return b0(s.type._context),to(s),null;case 17:return Ro(s.type)&&wv(),to(s),null;case 19:if(In(Yn),_=s.memoizedState,_===null)return to(s),null;if(g=(s.flags&128)!==0,x=_.rendering,x===null)if(g)ud(_,!1);else{if(Or!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(x=Tv(i),x!==null){for(s.flags|=128,ud(_,!1),g=x.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)_=f,i=g,_.flags&=14680066,x=_.alternate,x===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,_.type=x.type,i=x.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return On(Yn,Yn.current&1|2),s.child}i=i.sibling}_.tail!==null&&ur()>qc&&(s.flags|=128,g=!0,ud(_,!1),s.lanes=4194304)}else{if(!g)if(i=Tv(x),i!==null){if(s.flags|=128,g=!0,f=i.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),ud(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!$n)return to(s),null}else 2*ur()-_.renderingStartTime>qc&&f!==1073741824&&(s.flags|=128,g=!0,ud(_,!1),s.lanes=4194304);_.isBackwards?(x.sibling=s.child,s.child=x):(f=_.last,f!==null?f.sibling=x:s.child=x,_.last=x)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=ur(),s.sibling=null,f=Yn.current,On(Yn,g?f&1|2:f&1),s):(to(s),null);case 22:case 23:return V0(),g=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(s.flags|=8192),g&&s.mode&1?Xo&1073741824&&(to(s),s.subtreeFlags&6&&(s.flags|=8192)):to(s),null;case 24:return null;case 25:return null}throw Error(oe(156,s.tag))}function V2(i,s){switch(m0(s),s.tag){case 1:return Ro(s.type)&&wv(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Gc(),In(Vo),In(no),T0(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return O0(s),null;case 13:if(In(Yn),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(oe(340));$c()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return In(Yn),null;case 4:return Gc(),null;case 10:return b0(s.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var qh=!1,eo=!1,R2=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Dc(i,s){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){rr(i,s,g)}else f.current=null}function zy(i,s,f){try{f()}catch(g){rr(i,s,g)}}var c1=!1;function F2(i,s){if(Oy=vv,i=bb(),v0(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else t:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var w=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break t}var x=0,S=-1,T=-1,O=0,A=0,k=i,L=null;e:for(;;){for(var R;k!==f||w!==0&&k.nodeType!==3||(S=x+w),k!==_||g!==0&&k.nodeType!==3||(T=x+g),k.nodeType===3&&(x+=k.nodeValue.length),(R=k.firstChild)!==null;)L=k,k=R;for(;;){if(k===i)break e;if(L===f&&++O===w&&(S=x),L===_&&++A===g&&(T=x),(R=k.nextSibling)!==null)break;k=L,L=k.parentNode}k=R}f=S===-1||T===-1?null:{start:S,end:T}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ty={focusedElem:i,selectionRange:f},vv=!1,Oe=s;Oe!==null;)if(s=Oe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Oe=i;else for(;Oe!==null;){s=Oe;try{var z=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var ot=z.memoizedProps,dt=z.memoizedState,tt=s.stateNode,U=tt.getSnapshotBeforeUpdate(s.elementType===s.type?ot:Ni(s.type,ot),dt);tt.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(X){rr(s,s.return,X)}if(i=s.sibling,i!==null){i.return=s.return,Oe=i;break}Oe=s.return}return z=c1,c1=!1,z}function bd(i,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var _=w.destroy;w.destroy=void 0,_!==void 0&&zy(s,f,_)}w=w.next}while(w!==g)}}function Uv(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function Uy(i){var s=i.ref;if(s!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof s=="function"?s(i):s.current=i}}function yC(i){var s=i.alternate;s!==null&&(i.alternate=null,yC(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Ma],delete s[Dd],delete s[ky],delete s[b2],delete s[C2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function wC(i){return i.tag===5||i.tag===3||i.tag===4}function f1(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||wC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wy(i,s,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(i,s):f.insertBefore(i,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(i,f)):(s=f,s.appendChild(i)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=yv));else if(g!==4&&(i=i.child,i!==null))for(Wy(i,s,f),i=i.sibling;i!==null;)Wy(i,s,f),i=i.sibling}function $y(i,s,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?f.insertBefore(i,s):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for($y(i,s,f),i=i.sibling;i!==null;)$y(i,s,f),i=i.sibling}var Br=null,Ii=!1;function Zs(i,s,f){for(f=f.child;f!==null;)_C(i,s,f),f=f.sibling}function _C(i,s,f){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Nv,f)}catch{}switch(f.tag){case 5:eo||Dc(f,s);case 6:var g=Br,w=Ii;Br=null,Zs(i,s,f),Br=g,Ii=w,Br!==null&&(Ii?(i=Br,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Br.removeChild(f.stateNode));break;case 18:Br!==null&&(Ii?(i=Br,f=f.stateNode,i.nodeType===8?Gm(i.parentNode,f):i.nodeType===1&&Gm(i,f),kd(i)):Gm(Br,f.stateNode));break;case 4:g=Br,w=Ii,Br=f.stateNode.containerInfo,Ii=!0,Zs(i,s,f),Br=g,Ii=w;break;case 0:case 11:case 14:case 15:if(!eo&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var _=w,x=_.destroy;_=_.tag,x!==void 0&&(_&2||_&4)&&zy(f,s,x),w=w.next}while(w!==g)}Zs(i,s,f);break;case 1:if(!eo&&(Dc(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(S){rr(f,s,S)}Zs(i,s,f);break;case 21:Zs(i,s,f);break;case 22:f.mode&1?(eo=(g=eo)||f.memoizedState!==null,Zs(i,s,f),eo=g):Zs(i,s,f);break;default:Zs(i,s,f)}}function d1(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new R2),s.forEach(function(g){var w=Y2.bind(null,i,g);f.has(g)||(f.add(g),g.then(w,w))})}}function Di(i,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];try{var _=i,x=s,S=x;t:for(;S!==null;){switch(S.tag){case 5:Br=S.stateNode,Ii=!1;break t;case 3:Br=S.stateNode.containerInfo,Ii=!0;break t;case 4:Br=S.stateNode.containerInfo,Ii=!0;break t}S=S.return}if(Br===null)throw Error(oe(160));_C(_,x,w),Br=null,Ii=!1;var T=w.alternate;T!==null&&(T.return=null),w.return=null}catch(O){rr(w,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)bC(s,i),s=s.sibling}function bC(i,s){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Di(s,i),ka(i),g&4){try{bd(3,i,i.return),Uv(3,i)}catch(ot){rr(i,i.return,ot)}try{bd(5,i,i.return)}catch(ot){rr(i,i.return,ot)}}break;case 1:Di(s,i),ka(i),g&512&&f!==null&&Dc(f,f.return);break;case 5:if(Di(s,i),ka(i),g&512&&f!==null&&Dc(f,f.return),i.flags&32){var w=i.stateNode;try{Od(w,"")}catch(ot){rr(i,i.return,ot)}}if(g&4&&(w=i.stateNode,w!=null)){var _=i.memoizedProps,x=f!==null?f.memoizedProps:_,S=i.type,T=i.updateQueue;if(i.updateQueue=null,T!==null)try{S==="input"&&_.type==="radio"&&_.name!=null&&z1(w,_),vy(S,x);var O=vy(S,_);for(x=0;x<T.length;x+=2){var A=T[x],k=T[x+1];A==="style"?G1(w,k):A==="dangerouslySetInnerHTML"?$1(w,k):A==="children"?Od(w,k):n0(w,A,k,O)}switch(S){case"input":cy(w,_);break;case"textarea":U1(w,_);break;case"select":var L=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!_.multiple;var R=_.value;R!=null?Vc(w,!!_.multiple,R,!1):L!==!!_.multiple&&(_.defaultValue!=null?Vc(w,!!_.multiple,_.defaultValue,!0):Vc(w,!!_.multiple,_.multiple?[]:"",!1))}w[Dd]=_}catch(ot){rr(i,i.return,ot)}}break;case 6:if(Di(s,i),ka(i),g&4){if(i.stateNode===null)throw Error(oe(162));w=i.stateNode,_=i.memoizedProps;try{w.nodeValue=_}catch(ot){rr(i,i.return,ot)}}break;case 3:if(Di(s,i),ka(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{kd(s.containerInfo)}catch(ot){rr(i,i.return,ot)}break;case 4:Di(s,i),ka(i);break;case 13:Di(s,i),ka(i),w=i.child,w.flags&8192&&(_=w.memoizedState!==null,w.stateNode.isHidden=_,!_||w.alternate!==null&&w.alternate.memoizedState!==null||(N0=ur())),g&4&&d1(i);break;case 22:if(A=f!==null&&f.memoizedState!==null,i.mode&1?(eo=(O=eo)||A,Di(s,i),eo=O):Di(s,i),ka(i),g&8192){if(O=i.memoizedState!==null,(i.stateNode.isHidden=O)&&!A&&i.mode&1)for(Oe=i,A=i.child;A!==null;){for(k=Oe=A;Oe!==null;){switch(L=Oe,R=L.child,L.tag){case 0:case 11:case 14:case 15:bd(4,L,L.return);break;case 1:Dc(L,L.return);var z=L.stateNode;if(typeof z.componentWillUnmount=="function"){g=L,f=L.return;try{s=g,z.props=s.memoizedProps,z.state=s.memoizedState,z.componentWillUnmount()}catch(ot){rr(g,f,ot)}}break;case 5:Dc(L,L.return);break;case 22:if(L.memoizedState!==null){h1(k);continue}}R!==null?(R.return=L,Oe=R):h1(k)}A=A.sibling}t:for(A=null,k=i;;){if(k.tag===5){if(A===null){A=k;try{w=k.stateNode,O?(_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(S=k.stateNode,T=k.memoizedProps.style,x=T!=null&&T.hasOwnProperty("display")?T.display:null,S.style.display=K1("display",x))}catch(ot){rr(i,i.return,ot)}}}else if(k.tag===6){if(A===null)try{k.stateNode.nodeValue=O?"":k.memoizedProps}catch(ot){rr(i,i.return,ot)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===i)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===i)break t;for(;k.sibling===null;){if(k.return===null||k.return===i)break t;A===k&&(A=null),k=k.return}A===k&&(A=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:Di(s,i),ka(i),g&4&&d1(i);break;case 21:break;default:Di(s,i),ka(i)}}function ka(i){var s=i.flags;if(s&2){try{t:{for(var f=i.return;f!==null;){if(wC(f)){var g=f;break t}f=f.return}throw Error(oe(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Od(w,""),g.flags&=-33);var _=f1(i);$y(i,_,w);break;case 3:case 4:var x=g.stateNode.containerInfo,S=f1(i);Wy(i,S,x);break;default:throw Error(oe(161))}}catch(T){rr(i,i.return,T)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function H2(i,s,f){Oe=i,CC(i)}function CC(i,s,f){for(var g=(i.mode&1)!==0;Oe!==null;){var w=Oe,_=w.child;if(w.tag===22&&g){var x=w.memoizedState!==null||qh;if(!x){var S=w.alternate,T=S!==null&&S.memoizedState!==null||eo;S=qh;var O=eo;if(qh=x,(eo=T)&&!O)for(Oe=w;Oe!==null;)x=Oe,T=x.child,x.tag===22&&x.memoizedState!==null?v1(w):T!==null?(T.return=x,Oe=T):v1(w);for(;_!==null;)Oe=_,CC(_),_=_.sibling;Oe=w,qh=S,eo=O}p1(i)}else w.subtreeFlags&8772&&_!==null?(_.return=w,Oe=_):p1(i)}}function p1(i){for(;Oe!==null;){var s=Oe;if(s.flags&8772){var f=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:eo||Uv(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!eo)if(f===null)g.componentDidMount();else{var w=s.elementType===s.type?f.memoizedProps:Ni(s.type,f.memoizedProps);g.componentDidUpdate(w,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&X_(s,_,g);break;case 3:var x=s.updateQueue;if(x!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}X_(s,x,f)}break;case 5:var S=s.stateNode;if(f===null&&s.flags&4){f=S;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&f.focus();break;case"img":T.src&&(f.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var A=O.memoizedState;if(A!==null){var k=A.dehydrated;k!==null&&kd(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}eo||s.flags&512&&Uy(s)}catch(L){rr(s,s.return,L)}}if(s===i){Oe=null;break}if(f=s.sibling,f!==null){f.return=s.return,Oe=f;break}Oe=s.return}}function h1(i){for(;Oe!==null;){var s=Oe;if(s===i){Oe=null;break}var f=s.sibling;if(f!==null){f.return=s.return,Oe=f;break}Oe=s.return}}function v1(i){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{Uv(4,s)}catch(T){rr(s,f,T)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var w=s.return;try{g.componentDidMount()}catch(T){rr(s,w,T)}}var _=s.return;try{Uy(s)}catch(T){rr(s,_,T)}break;case 5:var x=s.return;try{Uy(s)}catch(T){rr(s,x,T)}}}catch(T){rr(s,s.return,T)}if(s===i){Oe=null;break}var S=s.sibling;if(S!==null){S.return=s.return,Oe=S;break}Oe=s.return}}var B2=Math.ceil,kv=_s.ReactCurrentDispatcher,j0=_s.ReactCurrentOwner,di=_s.ReactCurrentBatchConfig,pn=0,jr=null,vr=null,zr=0,Xo=0,Nc=vl(0),Or=0,Hd=null,wu=0,Wv=0,D0=0,Cd=null,No=null,N0=0,qc=1/0,fs=null,Av=!1,Ky=null,ul=null,Xh=!1,rl=null,Mv=0,xd=0,Gy=null,sv=-1,lv=0;function bo(){return pn&6?ur():sv!==-1?sv:sv=ur()}function cl(i){return i.mode&1?pn&2&&zr!==0?zr&-zr:S2.transition!==null?(lv===0&&(lv=ib()),lv):(i=Cn,i!==0||(i=window.event,i=i===void 0?16:db(i.type)),i):1}function Fi(i,s,f,g){if(50<xd)throw xd=0,Gy=null,Error(oe(185));zd(i,f,g),(!(pn&2)||i!==jr)&&(i===jr&&(!(pn&2)&&(Wv|=f),Or===4&&el(i,zr)),Fo(i,g),f===1&&pn===0&&!(s.mode&1)&&(qc=ur()+500,Hv&&gl()))}function Fo(i,s){var f=i.callbackNode;Sk(i,s);var g=hv(i,i===jr?zr:0);if(g===0)f!==null&&S_(f),i.callbackNode=null,i.callbackPriority=0;else if(s=g&-g,i.callbackPriority!==s){if(f!=null&&S_(f),s===1)i.tag===0?x2(g1.bind(null,i)):Mb(g1.bind(null,i)),w2(function(){!(pn&6)&&gl()}),f=null;else{switch(ab(g)){case 1:f=s0;break;case 4:f=rb;break;case 16:f=pv;break;case 536870912:f=ob;break;default:f=pv}f=AC(f,xC.bind(null,i))}i.callbackPriority=s,i.callbackNode=f}}function xC(i,s){if(sv=-1,lv=0,pn&6)throw Error(oe(327));var f=i.callbackNode;if(zc()&&i.callbackNode!==f)return null;var g=hv(i,i===jr?zr:0);if(g===0)return null;if(g&30||g&i.expiredLanes||s)s=Lv(i,g);else{s=g;var w=pn;pn|=2;var _=OC();(jr!==i||zr!==s)&&(fs=null,qc=ur()+500,hu(i,s));do try{W2();break}catch(S){SC(i,S)}while(1);_0(),kv.current=_,pn=w,vr!==null?s=0:(jr=null,zr=0,s=Or)}if(s!==0){if(s===2&&(w=_y(i),w!==0&&(g=w,s=Yy(i,w))),s===1)throw f=Hd,hu(i,0),el(i,g),Fo(i,ur()),f;if(s===6)el(i,g);else{if(w=i.current.alternate,!(g&30)&&!z2(w)&&(s=Lv(i,g),s===2&&(_=_y(i),_!==0&&(g=_,s=Yy(i,_))),s===1))throw f=Hd,hu(i,0),el(i,g),Fo(i,ur()),f;switch(i.finishedWork=w,i.finishedLanes=g,s){case 0:case 1:throw Error(oe(345));case 2:cu(i,No,fs);break;case 3:if(el(i,g),(g&130023424)===g&&(s=N0+500-ur(),10<s)){if(hv(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){bo(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Py(cu.bind(null,i,No,fs),s);break}cu(i,No,fs);break;case 4:if(el(i,g),(g&4194240)===g)break;for(s=i.eventTimes,w=-1;0<g;){var x=31-Ri(g);_=1<<x,x=s[x],x>w&&(w=x),g&=~_}if(g=w,g=ur()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*B2(g/1960))-g,10<g){i.timeoutHandle=Py(cu.bind(null,i,No,fs),g);break}cu(i,No,fs);break;case 5:cu(i,No,fs);break;default:throw Error(oe(329))}}}return Fo(i,ur()),i.callbackNode===f?xC.bind(null,i):null}function Yy(i,s){var f=Cd;return i.current.memoizedState.isDehydrated&&(hu(i,s).flags|=256),i=Lv(i,s),i!==2&&(s=No,No=f,s!==null&&qy(s)),i}function qy(i){No===null?No=i:No.push.apply(No,i)}function z2(i){for(var s=i;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var w=f[g],_=w.getSnapshot;w=w.value;try{if(!Hi(_(),w))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function el(i,s){for(s&=~D0,s&=~Wv,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var f=31-Ri(s),g=1<<f;i[f]=-1,s&=~g}}function g1(i){if(pn&6)throw Error(oe(327));zc();var s=hv(i,0);if(!(s&1))return Fo(i,ur()),null;var f=Lv(i,s);if(i.tag!==0&&f===2){var g=_y(i);g!==0&&(s=g,f=Yy(i,g))}if(f===1)throw f=Hd,hu(i,0),el(i,s),Fo(i,ur()),f;if(f===6)throw Error(oe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,cu(i,No,fs),Fo(i,ur()),null}function I0(i,s){var f=pn;pn|=1;try{return i(s)}finally{pn=f,pn===0&&(qc=ur()+500,Hv&&gl())}}function _u(i){rl!==null&&rl.tag===0&&!(pn&6)&&zc();var s=pn;pn|=1;var f=di.transition,g=Cn;try{if(di.transition=null,Cn=1,i)return i()}finally{Cn=g,di.transition=f,pn=s,!(pn&6)&&gl()}}function V0(){Xo=Nc.current,In(Nc)}function hu(i,s){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,y2(f)),vr!==null)for(f=vr.return;f!==null;){var g=f;switch(m0(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&wv();break;case 3:Gc(),In(Vo),In(no),T0();break;case 5:O0(g);break;case 4:Gc();break;case 13:In(Yn);break;case 19:In(Yn);break;case 10:b0(g.type._context);break;case 22:case 23:V0()}f=f.return}if(jr=i,vr=i=fl(i.current,null),zr=Xo=s,Or=0,Hd=null,D0=Wv=wu=0,No=Cd=null,du!==null){for(s=0;s<du.length;s++)if(f=du[s],g=f.interleaved,g!==null){f.interleaved=null;var w=g.next,_=f.pending;if(_!==null){var x=_.next;_.next=w,g.next=x}f.pending=g}du=null}return i}function SC(i,s){do{var f=vr;try{if(_0(),ov.current=Pv,Ev){for(var g=qn.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}Ev=!1}if(yu=0,Lr=Sr=qn=null,_d=!1,Vd=0,j0.current=null,f===null||f.return===null){Or=1,Hd=s,vr=null;break}t:{var _=i,x=f.return,S=f,T=s;if(s=zr,S.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var O=T,A=S,k=A.tag;if(!(A.mode&1)&&(k===0||k===11||k===15)){var L=A.alternate;L?(A.updateQueue=L.updateQueue,A.memoizedState=L.memoizedState,A.lanes=L.lanes):(A.updateQueue=null,A.memoizedState=null)}var R=r1(x);if(R!==null){R.flags&=-257,o1(R,x,S,_,s),R.mode&1&&n1(_,O,s),s=R,T=O;var z=s.updateQueue;if(z===null){var ot=new Set;ot.add(T),s.updateQueue=ot}else z.add(T);break t}else{if(!(s&1)){n1(_,O,s),R0();break t}T=Error(oe(426))}}else if($n&&S.mode&1){var dt=r1(x);if(dt!==null){!(dt.flags&65536)&&(dt.flags|=256),o1(dt,x,S,_,s),y0(Yc(T,S));break t}}_=T=Yc(T,S),Or!==4&&(Or=2),Cd===null?Cd=[_]:Cd.push(_),_=x;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var tt=sC(_,T,s);q_(_,tt);break t;case 1:S=T;var U=_.type,K=_.stateNode;if(!(_.flags&128)&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ul===null||!ul.has(K)))){_.flags|=65536,s&=-s,_.lanes|=s;var X=lC(_,S,s);q_(_,X);break t}}_=_.return}while(_!==null)}EC(f)}catch(mt){s=mt,vr===f&&f!==null&&(vr=f=f.return);continue}break}while(1)}function OC(){var i=kv.current;return kv.current=Pv,i===null?Pv:i}function R0(){(Or===0||Or===3||Or===2)&&(Or=4),jr===null||!(wu&268435455)&&!(Wv&268435455)||el(jr,zr)}function Lv(i,s){var f=pn;pn|=2;var g=OC();(jr!==i||zr!==s)&&(fs=null,hu(i,s));do try{U2();break}catch(w){SC(i,w)}while(1);if(_0(),pn=f,kv.current=g,vr!==null)throw Error(oe(261));return jr=null,zr=0,Or}function U2(){for(;vr!==null;)TC(vr)}function W2(){for(;vr!==null&&!vk();)TC(vr)}function TC(i){var s=kC(i.alternate,i,Xo);i.memoizedProps=i.pendingProps,s===null?EC(i):vr=s,j0.current=null}function EC(i){var s=i;do{var f=s.alternate;if(i=s.return,s.flags&32768){if(f=V2(f,s),f!==null){f.flags&=32767,vr=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Or=6,vr=null;return}}else if(f=I2(f,s,Xo),f!==null){vr=f;return}if(s=s.sibling,s!==null){vr=s;return}vr=s=i}while(s!==null);Or===0&&(Or=5)}function cu(i,s,f){var g=Cn,w=di.transition;try{di.transition=null,Cn=1,$2(i,s,f,g)}finally{di.transition=w,Cn=g}return null}function $2(i,s,f,g){do zc();while(rl!==null);if(pn&6)throw Error(oe(327));f=i.finishedWork;var w=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(oe(177));i.callbackNode=null,i.callbackPriority=0;var _=f.lanes|f.childLanes;if(Ok(i,_),i===jr&&(vr=jr=null,zr=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Xh||(Xh=!0,AC(pv,function(){return zc(),null})),_=(f.flags&15990)!==0,f.subtreeFlags&15990||_){_=di.transition,di.transition=null;var x=Cn;Cn=1;var S=pn;pn|=4,j0.current=null,F2(i,f),bC(f,i),f2(Ty),vv=!!Oy,Ty=Oy=null,i.current=f,H2(f),gk(),pn=S,Cn=x,di.transition=_}else i.current=f;if(Xh&&(Xh=!1,rl=i,Mv=w),_=i.pendingLanes,_===0&&(ul=null),wk(f.stateNode),Fo(i,ur()),s!==null)for(g=i.onRecoverableError,f=0;f<s.length;f++)w=s[f],g(w.value,{componentStack:w.stack,digest:w.digest});if(Av)throw Av=!1,i=Ky,Ky=null,i;return Mv&1&&i.tag!==0&&zc(),_=i.pendingLanes,_&1?i===Gy?xd++:(xd=0,Gy=i):xd=0,gl(),null}function zc(){if(rl!==null){var i=ab(Mv),s=di.transition,f=Cn;try{if(di.transition=null,Cn=16>i?16:i,rl===null)var g=!1;else{if(i=rl,rl=null,Mv=0,pn&6)throw Error(oe(331));var w=pn;for(pn|=4,Oe=i.current;Oe!==null;){var _=Oe,x=_.child;if(Oe.flags&16){var S=_.deletions;if(S!==null){for(var T=0;T<S.length;T++){var O=S[T];for(Oe=O;Oe!==null;){var A=Oe;switch(A.tag){case 0:case 11:case 15:bd(8,A,_)}var k=A.child;if(k!==null)k.return=A,Oe=k;else for(;Oe!==null;){A=Oe;var L=A.sibling,R=A.return;if(yC(A),A===O){Oe=null;break}if(L!==null){L.return=R,Oe=L;break}Oe=R}}}var z=_.alternate;if(z!==null){var ot=z.child;if(ot!==null){z.child=null;do{var dt=ot.sibling;ot.sibling=null,ot=dt}while(ot!==null)}}Oe=_}}if(_.subtreeFlags&2064&&x!==null)x.return=_,Oe=x;else t:for(;Oe!==null;){if(_=Oe,_.flags&2048)switch(_.tag){case 0:case 11:case 15:bd(9,_,_.return)}var tt=_.sibling;if(tt!==null){tt.return=_.return,Oe=tt;break t}Oe=_.return}}var U=i.current;for(Oe=U;Oe!==null;){x=Oe;var K=x.child;if(x.subtreeFlags&2064&&K!==null)K.return=x,Oe=K;else t:for(x=U;Oe!==null;){if(S=Oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Uv(9,S)}}catch(mt){rr(S,S.return,mt)}if(S===x){Oe=null;break t}var X=S.sibling;if(X!==null){X.return=S.return,Oe=X;break t}Oe=S.return}}if(pn=w,gl(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Nv,i)}catch{}g=!0}return g}finally{Cn=f,di.transition=s}}return!1}function m1(i,s,f){s=Yc(f,s),s=sC(i,s,1),i=ll(i,s,1),s=bo(),i!==null&&(zd(i,1,s),Fo(i,s))}function rr(i,s,f){if(i.tag===3)m1(i,i,f);else for(;s!==null;){if(s.tag===3){m1(s,i,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ul===null||!ul.has(g))){i=Yc(f,i),i=lC(s,i,1),s=ll(s,i,1),i=bo(),s!==null&&(zd(s,1,i),Fo(s,i));break}}s=s.return}}function K2(i,s,f){var g=i.pingCache;g!==null&&g.delete(s),s=bo(),i.pingedLanes|=i.suspendedLanes&f,jr===i&&(zr&f)===f&&(Or===4||Or===3&&(zr&130023424)===zr&&500>ur()-N0?hu(i,0):D0|=f),Fo(i,s)}function PC(i,s){s===0&&(i.mode&1?(s=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):s=1);var f=bo();i=ys(i,s),i!==null&&(zd(i,s,f),Fo(i,f))}function G2(i){var s=i.memoizedState,f=0;s!==null&&(f=s.retryLane),PC(i,f)}function Y2(i,s){var f=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(f=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(oe(314))}g!==null&&g.delete(s),PC(i,f)}var kC;kC=function(i,s,f){if(i!==null)if(i.memoizedProps!==s.pendingProps||Vo.current)Io=!0;else{if(!(i.lanes&f)&&!(s.flags&128))return Io=!1,N2(i,s,f);Io=!!(i.flags&131072)}else Io=!1,$n&&s.flags&1048576&&Lb(s,Cv,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;av(i,s),i=s.pendingProps;var w=Wc(s,no.current);Bc(s,f),w=P0(null,s,g,i,w,f);var _=k0();return s.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ro(g)?(_=!0,_v(s)):_=!1,s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,x0(s),w.updater=Bv,s.stateNode=w,w._reactInternals=s,Ny(s,g,i,f),s=Ry(null,s,g,!0,_,f)):(s.tag=0,$n&&_&&g0(s),_o(null,s,w,f),s=s.child),s;case 16:g=s.elementType;t:{switch(av(i,s),i=s.pendingProps,w=g._init,g=w(g._payload),s.type=g,w=s.tag=X2(g),i=Ni(g,i),w){case 0:s=Vy(null,s,g,i,f);break t;case 1:s=s1(null,s,g,i,f);break t;case 11:s=i1(null,s,g,i,f);break t;case 14:s=a1(null,s,g,Ni(g.type,i),f);break t}throw Error(oe(306,g,""))}return s;case 0:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:Ni(g,w),Vy(i,s,g,w,f);case 1:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:Ni(g,w),s1(i,s,g,w,f);case 3:t:{if(dC(s),i===null)throw Error(oe(387));g=s.pendingProps,_=s.memoizedState,w=_.element,Ib(i,s),Ov(s,g,null,f);var x=s.memoizedState;if(g=x.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){w=Yc(Error(oe(423)),s),s=l1(i,s,g,f,w);break t}else if(g!==w){w=Yc(Error(oe(424)),s),s=l1(i,s,g,f,w);break t}else for(Zo=sl(s.stateNode.containerInfo.firstChild),Jo=s,$n=!0,Vi=null,f=Hb(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($c(),g===w){s=ws(i,s,f);break t}_o(i,s,g,f)}s=s.child}return s;case 5:return Bb(s),i===null&&Ly(s),g=s.type,w=s.pendingProps,_=i!==null?i.memoizedProps:null,x=w.children,Ey(g,w)?x=null:_!==null&&Ey(g,_)&&(s.flags|=32),fC(i,s),_o(i,s,x,f),s.child;case 6:return i===null&&Ly(s),null;case 13:return pC(i,s,f);case 4:return S0(s,s.stateNode.containerInfo),g=s.pendingProps,i===null?s.child=Kc(s,null,g,f):_o(i,s,g,f),s.child;case 11:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:Ni(g,w),i1(i,s,g,w,f);case 7:return _o(i,s,s.pendingProps,f),s.child;case 8:return _o(i,s,s.pendingProps.children,f),s.child;case 12:return _o(i,s,s.pendingProps.children,f),s.child;case 10:t:{if(g=s.type._context,w=s.pendingProps,_=s.memoizedProps,x=w.value,On(xv,g._currentValue),g._currentValue=x,_!==null)if(Hi(_.value,x)){if(_.children===w.children&&!Vo.current){s=ws(i,s,f);break t}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var S=_.dependencies;if(S!==null){x=_.child;for(var T=S.firstContext;T!==null;){if(T.context===g){if(_.tag===1){T=vs(-1,f&-f),T.tag=2;var O=_.updateQueue;if(O!==null){O=O.shared;var A=O.pending;A===null?T.next=T:(T.next=A.next,A.next=T),O.pending=T}}_.lanes|=f,T=_.alternate,T!==null&&(T.lanes|=f),jy(_.return,f,s),S.lanes|=f;break}T=T.next}}else if(_.tag===10)x=_.type===s.type?null:_.child;else if(_.tag===18){if(x=_.return,x===null)throw Error(oe(341));x.lanes|=f,S=x.alternate,S!==null&&(S.lanes|=f),jy(x,f,s),x=_.sibling}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===s){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}_o(i,s,w.children,f),s=s.child}return s;case 9:return w=s.type,g=s.pendingProps.children,Bc(s,f),w=pi(w),g=g(w),s.flags|=1,_o(i,s,g,f),s.child;case 14:return g=s.type,w=Ni(g,s.pendingProps),w=Ni(g.type,w),a1(i,s,g,w,f);case 15:return uC(i,s,s.type,s.pendingProps,f);case 17:return g=s.type,w=s.pendingProps,w=s.elementType===g?w:Ni(g,w),av(i,s),s.tag=1,Ro(g)?(i=!0,_v(s)):i=!1,Bc(s,f),Rb(s,g,w),Ny(s,g,w,f),Ry(null,s,g,!0,i,f);case 19:return hC(i,s,f);case 22:return cC(i,s,f)}throw Error(oe(156,s.tag))};function AC(i,s){return nb(i,s)}function q2(i,s,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(i,s,f,g){return new q2(i,s,f,g)}function F0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function X2(i){if(typeof i=="function")return F0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===o0)return 11;if(i===i0)return 14}return 2}function fl(i,s){var f=i.alternate;return f===null?(f=fi(i.tag,s,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=s,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,s=i.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function uv(i,s,f,g,w,_){var x=2;if(g=i,typeof i=="function")F0(i)&&(x=1);else if(typeof i=="string")x=5;else t:switch(i){case Oc:return vu(f.children,w,_,s);case r0:x=8,w|=8;break;case iy:return i=fi(12,f,s,w|2),i.elementType=iy,i.lanes=_,i;case ay:return i=fi(13,f,s,w),i.elementType=ay,i.lanes=_,i;case sy:return i=fi(19,f,s,w),i.elementType=sy,i.lanes=_,i;case F1:return $v(f,w,_,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V1:x=10;break t;case R1:x=9;break t;case o0:x=11;break t;case i0:x=14;break t;case Js:x=16,g=null;break t}throw Error(oe(130,i==null?i:typeof i,""))}return s=fi(x,f,s,w),s.elementType=i,s.type=g,s.lanes=_,s}function vu(i,s,f,g){return i=fi(7,i,g,s),i.lanes=f,i}function $v(i,s,f,g){return i=fi(22,i,g,s),i.elementType=F1,i.lanes=f,i.stateNode={isHidden:!1},i}function ey(i,s,f){return i=fi(6,i,null,s),i.lanes=f,i}function ny(i,s,f){return s=fi(4,i.children!==null?i.children:[],i.key,s),s.lanes=f,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Z2(i,s,f,g,w){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function H0(i,s,f,g,w,_,x,S,T){return i=new Z2(i,s,f,S,T),s===1?(s=1,_===!0&&(s|=8)):s=0,_=fi(3,null,null,s),i.current=_,_.stateNode=i,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(_),i}function J2(i,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sc,key:g==null?null:""+g,children:i,containerInfo:s,implementation:f}}function MC(i){if(!i)return pl;i=i._reactInternals;t:{if(Cu(i)!==i||i.tag!==1)throw Error(oe(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ro(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(oe(171))}if(i.tag===1){var f=i.type;if(Ro(f))return Ab(i,f,s)}return s}function LC(i,s,f,g,w,_,x,S,T){return i=H0(f,g,!0,i,w,_,x,S,T),i.context=MC(null),f=i.current,g=bo(),w=cl(f),_=vs(g,w),_.callback=s??null,ll(f,_,w),i.current.lanes=w,zd(i,w,g),Fo(i,g),i}function Kv(i,s,f,g){var w=s.current,_=bo(),x=cl(w);return f=MC(f),s.context===null?s.context=f:s.pendingContext=f,s=vs(_,x),s.payload={element:i},g=g===void 0?null:g,g!==null&&(s.callback=g),i=ll(w,s,x),i!==null&&(Fi(i,w,x,_),rv(i,w,x)),x}function jv(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function y1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<s?f:s}}function B0(i,s){y1(i,s),(i=i.alternate)&&y1(i,s)}function Q2(){return null}var jC=typeof reportError=="function"?reportError:function(i){console.error(i)};function z0(i){this._internalRoot=i}Gv.prototype.render=z0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(oe(409));Kv(i,s,null,null)};Gv.prototype.unmount=z0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;_u(function(){Kv(null,i,null,null)}),s[ms]=null}};function Gv(i){this._internalRoot=i}Gv.prototype.unstable_scheduleHydration=function(i){if(i){var s=ub();i={blockedOn:null,target:i,priority:s};for(var f=0;f<tl.length&&s!==0&&s<tl[f].priority;f++);tl.splice(f,0,i),f===0&&fb(i)}};function U0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function w1(){}function tA(i,s,f,g,w){if(w){if(typeof g=="function"){var _=g;g=function(){var O=jv(x);_.call(O)}}var x=LC(s,g,i,0,null,!1,!1,"",w1);return i._reactRootContainer=x,i[ms]=x.current,Ld(i.nodeType===8?i.parentNode:i),_u(),x}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var S=g;g=function(){var O=jv(T);S.call(O)}}var T=H0(i,0,!1,null,null,!1,!1,"",w1);return i._reactRootContainer=T,i[ms]=T.current,Ld(i.nodeType===8?i.parentNode:i),_u(function(){Kv(s,T,f,g)}),T}function qv(i,s,f,g,w){var _=f._reactRootContainer;if(_){var x=_;if(typeof w=="function"){var S=w;w=function(){var T=jv(x);S.call(T)}}Kv(s,x,i,w)}else x=tA(f,s,i,w,g);return jv(x)}sb=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var f=pd(s.pendingLanes);f!==0&&(l0(s,f|1),Fo(s,ur()),!(pn&6)&&(qc=ur()+500,gl()))}break;case 13:_u(function(){var g=ys(i,1);if(g!==null){var w=bo();Fi(g,i,1,w)}}),B0(i,1)}};u0=function(i){if(i.tag===13){var s=ys(i,134217728);if(s!==null){var f=bo();Fi(s,i,134217728,f)}B0(i,134217728)}};lb=function(i){if(i.tag===13){var s=cl(i),f=ys(i,s);if(f!==null){var g=bo();Fi(f,i,s,g)}B0(i,s)}};ub=function(){return Cn};cb=function(i,s){var f=Cn;try{return Cn=i,s()}finally{Cn=f}};my=function(i,s,f){switch(s){case"input":if(cy(i,f),s=f.name,f.type==="radio"&&s!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==i&&g.form===i.form){var w=Fv(g);if(!w)throw Error(oe(90));B1(g),cy(g,w)}}}break;case"textarea":U1(i,f);break;case"select":s=f.value,s!=null&&Vc(i,!!f.multiple,s,!1)}};X1=I0;Z1=_u;var eA={usingClientEntryPoint:!1,Events:[Wd,kc,Fv,Y1,q1,I0]},cd={findFiberByHostInstance:fu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nA={bundleType:cd.bundleType,version:cd.version,rendererPackageName:cd.rendererPackageName,rendererConfig:cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=tb(i),i===null?null:i.stateNode},findFiberByHostInstance:cd.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{Nv=Zh.inject(nA),La=Zh}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;ti.createPortal=function(i,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U0(s))throw Error(oe(200));return J2(i,s,null,f)};ti.createRoot=function(i,s){if(!U0(i))throw Error(oe(299));var f=!1,g="",w=jC;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=H0(i,1,!1,null,null,f,!1,g,w),i[ms]=s.current,Ld(i.nodeType===8?i.parentNode:i),new z0(s)};ti.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(oe(188)):(i=Object.keys(i).join(","),Error(oe(268,i)));return i=tb(s),i=i===null?null:i.stateNode,i};ti.flushSync=function(i){return _u(i)};ti.hydrate=function(i,s,f){if(!Yv(s))throw Error(oe(200));return qv(null,i,s,!0,f)};ti.hydrateRoot=function(i,s,f){if(!U0(i))throw Error(oe(405));var g=f!=null&&f.hydratedSources||null,w=!1,_="",x=jC;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(x=f.onRecoverableError)),s=LC(s,null,i,1,f??null,w,!1,_,x),i[ms]=s.current,Ld(i),g)for(i=0;i<g.length;i++)f=g[i],w=f._getVersion,w=w(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,w]:s.mutableSourceEagerHydrationData.push(f,w);return new Gv(s)};ti.render=function(i,s,f){if(!Yv(s))throw Error(oe(200));return qv(null,i,s,!1,f)};ti.unmountComponentAtNode=function(i){if(!Yv(i))throw Error(oe(40));return i._reactRootContainer?(_u(function(){qv(null,null,i,!1,function(){i._reactRootContainer=null,i[ms]=null})}),!0):!1};ti.unstable_batchedUpdates=I0;ti.unstable_renderSubtreeIntoContainer=function(i,s,f,g){if(!Yv(f))throw Error(oe(200));if(i==null||i._reactInternals===void 0)throw Error(oe(38));return qv(i,s,f,!1,g)};ti.version="18.2.0-next-9e3b772b8-20220608";function DC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DC)}catch(i){console.error(i)}}DC(),L1.exports=ti;var rA=L1.exports,_1=rA;ry.createRoot=_1.createRoot,ry.hydrateRoot=_1.hydrateRoot;var oA={410:(i,s,f)=>{var g,w,_;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(x){w=[f(50),f(316)],g=x,_=typeof g=="function"?g.apply(s,w):g,_!==void 0&&(i.exports=_)})(function(x,S){var T=Array.prototype.slice;function O($,Y,q){return q.length<=4?$.call(Y,q[0],q[1],q[2],q[3]):$.apply(Y,q)}function A($,Y){return T.call($,Y)}function k($,Y){return $==null?!1:(x.isArray(Y)||(Y=A(arguments,1)),x.all(Y,function(q){return q in $}))}var L=function(){var $=!1,Y=-1;function q(){Y++,$=!0,x.defer(function(){$=!1})}return function(){return $||q(),Y}}();function R(){this.registeredObjects=[],this.cidIndexes=[]}R.prototype={isRegistered:function($){return $&&$.cid?this.registeredObjects[$.cid]:x.contains(this.registeredObjects,$)},register:function($){return this.isRegistered($)?!1:($&&$.cid?(this.registeredObjects[$.cid]=$,this.cidIndexes.push($.cid)):this.registeredObjects.push($),!0)},unregister:function($){if(this.isRegistered($)){if($&&$.cid)delete this.registeredObjects[$.cid],this.cidIndexes.splice(x.indexOf(this.cidIndexes,$.cid),1);else{var Y=x.indexOf(this.registeredObjects,$);this.registeredObjects.splice(Y,1)}return!0}return!1},get:function(){return x.map(this.cidIndexes,function($){return this.registeredObjects[$]},this).concat(this.registeredObjects)}};function z($,Y,q,Z){for(var ht=0,J=Y.length,xt;ht<J;ht++)if(xt=Y[ht],!!xt){if($==="on"){if(!Z.objectRegistry.register(xt))continue}else if(!Z.objectRegistry.unregister(xt))continue;x.isFunction(xt[$])&&xt[$]("all",q,Z)}}function ot($,Y){var q=Y.type,Z=Y.undoTypes,ht=!Z[q]||Z[q][$];x.isFunction(ht)&&ht(Y.object,Y.before,Y.after,Y.options)}function dt($,Y,q,Z,ht){if(!(q.isCurrentlyUndoRedoing||$==="undo"&&q.pointer===-1||$==="redo"&&q.pointer===q.length-1)){q.isCurrentlyUndoRedoing=!0;var J,xt,D=$==="undo";for(ht?xt=D&&q.pointer===q.length-1||!D&&q.pointer===-1?x.clone(q.models):T.apply(q.models,D?[0,q.pointer]:[q.pointer,q.length-1]):(J=q.at(D?q.pointer:q.pointer+1),xt=Z?q.where({magicFusionIndex:J.get("magicFusionIndex")}):[J]),q.pointer+=(D?-1:1)*xt.length;J=D?xt.pop():xt.shift();)J[$]();q.isCurrentlyUndoRedoing=!1,Y.trigger($,Y)}}function tt($,Y){var q=$.condition,Z=typeof q;return Z==="function"?!!O(q,$,Y):Z==="boolean"?q:!0}function U($,Y,q,Z){if($.track&&!$.isCurrentlyUndoRedoing&&Y in Z&&tt(Z[Y],q)){var ht=O(Z[Y].on,Z[Y],q),J;if(k(ht,"object","before","after")){if(ht.type=Y,ht.magicFusionIndex=L(),ht.undoTypes=Z,$.pointer<$.length-1)for(var J=$.length-$.pointer-1;J--;)$.pop();$.pointer=$.length,$.add(ht),$.length>$.maximumStackLength&&($.shift(),$.pointer--)}}}var K={add:{undo:function($,Y,q,Z){$.remove(q,Z)},redo:function($,Y,q,Z){Z.index&&(Z.at=Z.index),$.add(q,Z)},on:function($,Y,q){return{object:Y,before:void 0,after:$,options:x.clone(q)}}},remove:{undo:function($,Y,q,Z){"index"in Z&&(Z.at=Z.index),$.add(Y,Z)},redo:function($,Y,q,Z){$.remove(Y,Z)},on:function($,Y,q){return{object:Y,before:$,after:void 0,options:x.clone(q)}}},change:{undo:function($,Y,q,Z){x.isEmpty(Y)?x.each(x.keys(q),$.unset,$):($.set(Y),Z&&Z.unsetData&&Z.unsetData.before&&Z.unsetData.before.length&&x.each(Z.unsetData.before,$.unset,$))},redo:function($,Y,q,Z){x.isEmpty(q)?x.each(x.keys(Y),$.unset,$):($.set(q),Z&&Z.unsetData&&Z.unsetData.after&&Z.unsetData.after.length&&x.each(Z.unsetData.after,$.unset,$))},on:function($,Y){var q=$.changedAttributes(),Z=x.keys(q),ht=x.pick($.previousAttributes(),Z),J=x.keys(ht),xt=(Y||(Y={})).unsetData={after:[],before:[]};return Z.length!=J.length&&(Z.length>J.length?x.each(Z,function(D){D in ht||xt.before.push(D)},this):x.each(J,function(D){D in q||xt.after.push(D)})),{object:$,before:ht,after:q,options:x.clone(Y)}}},reset:{undo:function($,Y,q){$.reset(Y)},redo:function($,Y,q){$.reset(q)},on:function($,Y){return{object:$,before:Y.previousModels,after:x.clone($.models)}}}};function X(){}X.prototype=K;function mt($,Y,q,Z){if(typeof Y=="object")return x.each(Y,function(ht,J){$===2?mt($,ht,q,Z):mt($,J,ht,q)});switch($){case 0:k(q,"undo","redo","on")&&x.all(x.pick(q,"undo","redo","on"),x.isFunction)&&(Z[Y]=q);break;case 1:Z[Y]&&x.isObject(q)&&(Z[Y]=x.extend({},Z[Y],q));break;case 2:delete Z[Y];break}return this}var bt=S.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function($){ot("undo",this.attributes)},redo:function($){ot("redo",this.attributes)}}),St=S.Collection.extend({model:bt,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function($){this.maximumStackLength=$}}),Ot=S.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function($){this.stack=new St,this.objectRegistry=new R,this.undoTypes=new X,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(Y,q){this.stack.setMaxLength(q)},this),$&&$.track&&this.startTracking(),$&&$.register&&(x.isArray($.register)||x.isArguments($.register)?O(this.register,this,$.register):this.register($.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function($){U(this.stack,$,A(arguments,1),this.undoTypes)},register:function(){z("on",arguments,this._addToStack,this)},unregister:function(){z("off",arguments,this._addToStack,this)},unregisterAll:function(){O(this.unregister,this,this.objectRegistry.get())},undo:function($){dt("undo",this,this.stack,$)},undoAll:function(){dt("undo",this,this.stack,!1,!0)},redo:function($){dt("redo",this,this.stack,$)},redoAll:function(){dt("redo",this,this.stack,!1,!0)},isAvailable:function($){var Y=this.stack,q=Y.length;switch($){case"undo":return q>0&&Y.pointer>-1;case"redo":return q>0&&Y.pointer<q-1;default:return!1}},merge:function($){for(var Y=x.isArray($)?$:A(arguments),q;q=Y.pop();)q instanceof Ot&&q.stack instanceof St&&(q.stack=this.stack)},addUndoType:function($,Y){mt(0,$,Y,this.undoTypes)},changeUndoType:function($,Y){mt(1,$,Y,this.undoTypes)},removeUndoType:function($){mt(2,$,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return x.extend(Ot,{defaults:function($){x.extend(Ot.prototype.defaults,$)},addUndoType:function($,Y){mt(0,$,Y,K)},changeUndoType:function($,Y){mt(1,$,Y,K)},removeUndoType:function($){mt(2,$,void 0,K)}}),S.UndoManager=Ot})},316:(i,s,f)=>{var g,w;(function(_){var x=typeof self=="object"&&self.self===self&&self||typeof f.g=="object"&&f.g.global===f.g&&f.g;g=[f(50),f(895),s],w=(function(S,T,O){x.Backbone=_(x,O,S,T)}).apply(s,g),w!==void 0&&(i.exports=w)})(function(_,x,S,T){var O=_.Backbone,A=Array.prototype.slice;x.VERSION="1.4.1",x.$=T,x.noConflict=function(){return _.Backbone=O,this},x.emulateHTTP=!1,x.emulateJSON=!1;var k=x.Events={},L=/\s+/,R,z=function(F,nt,vt,Lt,Ft){var ct=0,Vt;if(vt&&typeof vt=="object")for(Lt!==void 0&&("context"in Ft)&&Ft.context===void 0&&(Ft.context=Lt),Vt=S.keys(vt);ct<Vt.length;ct++)nt=z(F,nt,Vt[ct],vt[Vt[ct]],Ft);else if(vt&&L.test(vt))for(Vt=vt.split(L);ct<Vt.length;ct++)nt=F(nt,Vt[ct],Lt,Ft);else nt=F(nt,vt,Lt,Ft);return nt};k.on=function(F,nt,vt){if(this._events=z(ot,this._events||{},F,nt,{context:vt,ctx:this,listening:R}),R){var Lt=this._listeners||(this._listeners={});Lt[R.id]=R,R.interop=!1}return this},k.listenTo=function(F,nt,vt){if(!F)return this;var Lt=F._listenId||(F._listenId=S.uniqueId("l")),Ft=this._listeningTo||(this._listeningTo={}),ct=R=Ft[Lt];ct||(this._listenId||(this._listenId=S.uniqueId("l")),ct=R=Ft[Lt]=new mt(this,F));var Vt=dt(F,nt,vt,this);if(R=void 0,Vt)throw Vt;return ct.interop&&ct.on(nt,vt),this};var ot=function(F,nt,vt,Lt){if(vt){var Ft=F[nt]||(F[nt]=[]),ct=Lt.context,Vt=Lt.ctx,Pt=Lt.listening;Pt&&Pt.count++,Ft.push({callback:vt,context:ct,ctx:ct||Vt,listening:Pt})}return F},dt=function(F,nt,vt,Lt){try{F.on(nt,vt,Lt)}catch(Ft){return Ft}};k.off=function(F,nt,vt){return this._events?(this._events=z(tt,this._events,F,nt,{context:vt,listeners:this._listeners}),this):this},k.stopListening=function(F,nt,vt){var Lt=this._listeningTo;if(!Lt)return this;for(var Ft=F?[F._listenId]:S.keys(Lt),ct=0;ct<Ft.length;ct++){var Vt=Lt[Ft[ct]];if(!Vt)break;Vt.obj.off(nt,vt,this),Vt.interop&&Vt.off(nt,vt)}return S.isEmpty(Lt)&&(this._listeningTo=void 0),this};var tt=function(F,nt,vt,Lt){if(F){var Ft=Lt.context,ct=Lt.listeners,Vt=0,Pt;if(!nt&&!Ft&&!vt){for(Pt=S.keys(ct);Vt<Pt.length;Vt++)ct[Pt[Vt]].cleanup();return}for(Pt=nt?[nt]:S.keys(F);Vt<Pt.length;Vt++){nt=Pt[Vt];var Ce=F[nt];if(!Ce)break;for(var Ae=[],Te=0;Te<Ce.length;Te++){var Fe=Ce[Te];if(vt&&vt!==Fe.callback&&vt!==Fe.callback._callback||Ft&&Ft!==Fe.context)Ae.push(Fe);else{var qe=Fe.listening;qe&&qe.off(nt,vt)}}Ae.length?F[nt]=Ae:delete F[nt]}return F}};k.once=function(F,nt,vt){var Lt=z(U,{},F,nt,this.off.bind(this));return typeof F=="string"&&vt==null&&(nt=void 0),this.on(Lt,nt,vt)},k.listenToOnce=function(F,nt,vt){var Lt=z(U,{},nt,vt,this.stopListening.bind(this,F));return this.listenTo(F,Lt)};var U=function(F,nt,vt,Lt){if(vt){var Ft=F[nt]=S.once(function(){Lt(nt,Ft),vt.apply(this,arguments)});Ft._callback=vt}return F};k.trigger=function(F){if(!this._events)return this;for(var nt=Math.max(0,arguments.length-1),vt=Array(nt),Lt=0;Lt<nt;Lt++)vt[Lt]=arguments[Lt+1];return z(K,this._events,F,void 0,vt),this};var K=function(F,nt,vt,Lt){if(F){var Ft=F[nt],ct=F.all;Ft&&ct&&(ct=ct.slice()),Ft&&X(Ft,Lt),ct&&X(ct,[nt].concat(Lt))}return F},X=function(F,nt){var vt,Lt=-1,Ft=F.length,ct=nt[0],Vt=nt[1],Pt=nt[2];switch(nt.length){case 0:for(;++Lt<Ft;)(vt=F[Lt]).callback.call(vt.ctx);return;case 1:for(;++Lt<Ft;)(vt=F[Lt]).callback.call(vt.ctx,ct);return;case 2:for(;++Lt<Ft;)(vt=F[Lt]).callback.call(vt.ctx,ct,Vt);return;case 3:for(;++Lt<Ft;)(vt=F[Lt]).callback.call(vt.ctx,ct,Vt,Pt);return;default:for(;++Lt<Ft;)(vt=F[Lt]).callback.apply(vt.ctx,nt);return}},mt=function(F,nt){this.id=F._listenId,this.listener=F,this.obj=nt,this.interop=!0,this.count=0,this._events=void 0};mt.prototype.on=k.on,mt.prototype.off=function(F,nt){var vt;this.interop?(this._events=z(tt,this._events,F,nt,{context:void 0,listeners:void 0}),vt=!this._events):(this.count--,vt=this.count===0),vt&&this.cleanup()},mt.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},k.bind=k.on,k.unbind=k.off,S.extend(x,k);var bt=x.Model=function(F,nt){var vt=F||{};nt||(nt={}),this.preinitialize.apply(this,arguments),this.cid=S.uniqueId(this.cidPrefix),this.attributes={},nt.collection&&(this.collection=nt.collection),nt.parse&&(vt=this.parse(vt,nt)||{});var Lt=S.result(this,"defaults");vt=S.defaults(S.extend({},Lt,vt),Lt),this.set(vt,nt),this.changed={},this.initialize.apply(this,arguments)};S.extend(bt.prototype,k,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(F){return S.clone(this.attributes)},sync:function(){return x.sync.apply(this,arguments)},get:function(F){return this.attributes[F]},escape:function(F){return S.escape(this.get(F))},has:function(F){return this.get(F)!=null},matches:function(F){return!!S.iteratee(F,this)(this.attributes)},set:function(F,nt,vt){if(F==null)return this;var Lt;if(typeof F=="object"?(Lt=F,vt=nt):(Lt={})[F]=nt,vt||(vt={}),!this._validate(Lt,vt))return!1;var Ft=vt.unset,ct=vt.silent,Vt=[],Pt=this._changing;this._changing=!0,Pt||(this._previousAttributes=S.clone(this.attributes),this.changed={});var Ce=this.attributes,Ae=this.changed,Te=this._previousAttributes;for(var Fe in Lt)nt=Lt[Fe],S.isEqual(Ce[Fe],nt)||Vt.push(Fe),S.isEqual(Te[Fe],nt)?delete Ae[Fe]:Ae[Fe]=nt,Ft?delete Ce[Fe]:Ce[Fe]=nt;if(this.idAttribute in Lt){var qe=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,qe,vt)}if(!ct){Vt.length&&(this._pending=vt);for(var we=0;we<Vt.length;we++)this.trigger("change:"+Vt[we],this,Ce[Vt[we]],vt)}if(Pt)return this;if(!ct)for(;this._pending;)vt=this._pending,this._pending=!1,this.trigger("change",this,vt);return this._pending=!1,this._changing=!1,this},unset:function(F,nt){return this.set(F,void 0,S.extend({},nt,{unset:!0}))},clear:function(F){var nt={};for(var vt in this.attributes)nt[vt]=void 0;return this.set(nt,S.extend({},F,{unset:!0}))},hasChanged:function(F){return F==null?!S.isEmpty(this.changed):S.has(this.changed,F)},changedAttributes:function(F){if(!F)return this.hasChanged()?S.clone(this.changed):!1;var nt=this._changing?this._previousAttributes:this.attributes,vt={},Lt;for(var Ft in F){var ct=F[Ft];S.isEqual(nt[Ft],ct)||(vt[Ft]=ct,Lt=!0)}return Lt?vt:!1},previous:function(F){return F==null||!this._previousAttributes?null:this._previousAttributes[F]},previousAttributes:function(){return S.clone(this._previousAttributes)},fetch:function(F){F=S.extend({parse:!0},F);var nt=this,vt=F.success;return F.success=function(Lt){var Ft=F.parse?nt.parse(Lt,F):Lt;if(!nt.set(Ft,F))return!1;vt&&vt.call(F.context,nt,Lt,F),nt.trigger("sync",nt,Lt,F)},ie(this,F),this.sync("read",this,F)},save:function(F,nt,vt){var Lt;F==null||typeof F=="object"?(Lt=F,vt=nt):(Lt={})[F]=nt,vt=S.extend({validate:!0,parse:!0},vt);var Ft=vt.wait;if(Lt&&!Ft){if(!this.set(Lt,vt))return!1}else if(!this._validate(Lt,vt))return!1;var ct=this,Vt=vt.success,Pt=this.attributes;vt.success=function(Te){ct.attributes=Pt;var Fe=vt.parse?ct.parse(Te,vt):Te;if(Ft&&(Fe=S.extend({},Lt,Fe)),Fe&&!ct.set(Fe,vt))return!1;Vt&&Vt.call(vt.context,ct,Te,vt),ct.trigger("sync",ct,Te,vt)},ie(this,vt),Lt&&Ft&&(this.attributes=S.extend({},Pt,Lt));var Ce=this.isNew()?"create":vt.patch?"patch":"update";Ce==="patch"&&!vt.attrs&&(vt.attrs=Lt);var Ae=this.sync(Ce,this,vt);return this.attributes=Pt,Ae},destroy:function(F){F=F?S.clone(F):{};var nt=this,vt=F.success,Lt=F.wait,Ft=function(){nt.stopListening(),nt.trigger("destroy",nt,nt.collection,F)};F.success=function(Vt){Lt&&Ft(),vt&&vt.call(F.context,nt,Vt,F),nt.isNew()||nt.trigger("sync",nt,Vt,F)};var ct=!1;return this.isNew()?S.defer(F.success):(ie(this,F),ct=this.sync("delete",this,F)),Lt||Ft(),ct},url:function(){var F=S.result(this,"urlRoot")||S.result(this.collection,"url")||en();if(this.isNew())return F;var nt=this.get(this.idAttribute);return F.replace(/[^\/]$/,"$&/")+encodeURIComponent(nt)},parse:function(F,nt){return F},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(F){return this._validate({},S.extend({},F,{validate:!0}))},_validate:function(F,nt){if(!nt.validate||!this.validate)return!0;F=S.extend({},this.attributes,F);var vt=this.validationError=this.validate(F,nt)||null;return vt?(this.trigger("invalid",this,vt,S.extend(nt,{validationError:vt})),!1):!0}});var St=x.Collection=function(F,nt){nt||(nt={}),this.preinitialize.apply(this,arguments),nt.model&&(this.model=nt.model),nt.comparator!==void 0&&(this.comparator=nt.comparator),this._reset(),this.initialize.apply(this,arguments),F&&this.reset(F,S.extend({silent:!0},nt))},Ot={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},Y=function(F,nt,vt){vt=Math.min(Math.max(vt,0),F.length);var Lt=Array(F.length-vt),Ft=nt.length,ct;for(ct=0;ct<Lt.length;ct++)Lt[ct]=F[ct+vt];for(ct=0;ct<Ft;ct++)F[ct+vt]=nt[ct];for(ct=0;ct<Lt.length;ct++)F[ct+Ft+vt]=Lt[ct]};S.extend(St.prototype,k,{model:bt,preinitialize:function(){},initialize:function(){},toJSON:function(F){return this.map(function(nt){return nt.toJSON(F)})},sync:function(){return x.sync.apply(this,arguments)},add:function(F,nt){return this.set(F,S.extend({merge:!1},nt,$))},remove:function(F,nt){nt=S.extend({},nt);var vt=!S.isArray(F);F=vt?[F]:F.slice();var Lt=this._removeModels(F,nt);return!nt.silent&&Lt.length&&(nt.changes={added:[],merged:[],removed:Lt},this.trigger("update",this,nt)),vt?Lt[0]:Lt},set:function(F,nt){if(F!=null){nt=S.extend({},Ot,nt),nt.parse&&!this._isModel(F)&&(F=this.parse(F,nt)||[]);var vt=!S.isArray(F);F=vt?[F]:F.slice();var Lt=nt.at;Lt!=null&&(Lt=+Lt),Lt>this.length&&(Lt=this.length),Lt<0&&(Lt+=this.length+1);var Ft=[],ct=[],Vt=[],Pt=[],Ce={},Ae=nt.add,Te=nt.merge,Fe=nt.remove,qe=!1,we=this.comparator&&Lt==null&&nt.sort!==!1,Vn=S.isString(this.comparator)?this.comparator:null,nn,Ze;for(Ze=0;Ze<F.length;Ze++){nn=F[Ze];var Zn=this.get(nn);if(Zn){if(Te&&nn!==Zn){var xe=this._isModel(nn)?nn.attributes:nn;nt.parse&&(xe=Zn.parse(xe,nt)),Zn.set(xe,nt),Vt.push(Zn),we&&!qe&&(qe=Zn.hasChanged(Vn))}Ce[Zn.cid]||(Ce[Zn.cid]=!0,Ft.push(Zn)),F[Ze]=Zn}else Ae&&(nn=F[Ze]=this._prepareModel(nn,nt),nn&&(ct.push(nn),this._addReference(nn,nt),Ce[nn.cid]=!0,Ft.push(nn)))}if(Fe){for(Ze=0;Ze<this.length;Ze++)nn=this.models[Ze],Ce[nn.cid]||Pt.push(nn);Pt.length&&this._removeModels(Pt,nt)}var Tn=!1,Le=!we&&Ae&&Fe;if(Ft.length&&Le?(Tn=this.length!==Ft.length||S.some(this.models,function(sn,hn){return sn!==Ft[hn]}),this.models.length=0,Y(this.models,Ft,0),this.length=this.models.length):ct.length&&(we&&(qe=!0),Y(this.models,ct,Lt??this.length),this.length=this.models.length),qe&&this.sort({silent:!0}),!nt.silent){for(Ze=0;Ze<ct.length;Ze++)Lt!=null&&(nt.index=Lt+Ze),nn=ct[Ze],nn.trigger("add",nn,this,nt);(qe||Tn)&&this.trigger("sort",this,nt),(ct.length||Pt.length||Vt.length)&&(nt.changes={added:ct,removed:Pt,merged:Vt},this.trigger("update",this,nt))}return vt?F[0]:F}},reset:function(F,nt){nt=nt?S.clone(nt):{};for(var vt=0;vt<this.models.length;vt++)this._removeReference(this.models[vt],nt);return nt.previousModels=this.models,this._reset(),F=this.add(F,S.extend({silent:!0},nt)),nt.silent||this.trigger("reset",this,nt),F},push:function(F,nt){return this.add(F,S.extend({at:this.length},nt))},pop:function(F){var nt=this.at(this.length-1);return this.remove(nt,F)},unshift:function(F,nt){return this.add(F,S.extend({at:0},nt))},shift:function(F){var nt=this.at(0);return this.remove(nt,F)},slice:function(){return A.apply(this.models,arguments)},get:function(F){if(F!=null)return this._byId[F]||this._byId[this.modelId(this._isModel(F)?F.attributes:F,F.idAttribute)]||F.cid&&this._byId[F.cid]},has:function(F){return this.get(F)!=null},at:function(F){return F<0&&(F+=this.length),this.models[F]},where:function(F,nt){return this[nt?"find":"filter"](F)},findWhere:function(F){return this.where(F,!0)},sort:function(F){var nt=this.comparator;if(!nt)throw new Error("Cannot sort a set without a comparator");F||(F={});var vt=nt.length;return S.isFunction(nt)&&(nt=nt.bind(this)),vt===1||S.isString(nt)?this.models=this.sortBy(nt):this.models.sort(nt),F.silent||this.trigger("sort",this,F),this},pluck:function(F){return this.map(F+"")},fetch:function(F){F=S.extend({parse:!0},F);var nt=F.success,vt=this;return F.success=function(Lt){var Ft=F.reset?"reset":"set";vt[Ft](Lt,F),nt&&nt.call(F.context,vt,Lt,F),vt.trigger("sync",vt,Lt,F)},ie(this,F),this.sync("read",this,F)},create:function(F,nt){nt=nt?S.clone(nt):{};var vt=nt.wait;if(F=this._prepareModel(F,nt),!F)return!1;vt||this.add(F,nt);var Lt=this,Ft=nt.success;return nt.success=function(ct,Vt,Pt){vt&&Lt.add(ct,Pt),Ft&&Ft.call(Pt.context,ct,Vt,Pt)},F.save(null,nt),F},parse:function(F,nt){return F},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(F,nt){return F[nt||this.model.prototype.idAttribute||"id"]},values:function(){return new Z(this,ht)},keys:function(){return new Z(this,J)},entries:function(){return new Z(this,xt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(F,nt){if(this._isModel(F))return F.collection||(F.collection=this),F;nt=nt?S.clone(nt):{},nt.collection=this;var vt;return this.model.prototype?vt=new this.model(F,nt):vt=this.model(F,nt),vt.validationError?(this.trigger("invalid",this,vt.validationError,nt),!1):vt},_removeModels:function(F,nt){for(var vt=[],Lt=0;Lt<F.length;Lt++){var Ft=this.get(F[Lt]);if(Ft){var ct=this.indexOf(Ft);this.models.splice(ct,1),this.length--,delete this._byId[Ft.cid];var Vt=this.modelId(Ft.attributes,Ft.idAttribute);Vt!=null&&delete this._byId[Vt],nt.silent||(nt.index=ct,Ft.trigger("remove",Ft,this,nt)),vt.push(Ft),this._removeReference(Ft,nt)}}return vt},_isModel:function(F){return F instanceof bt},_addReference:function(F,nt){this._byId[F.cid]=F;var vt=this.modelId(F.attributes,F.idAttribute);vt!=null&&(this._byId[vt]=F),F.on("all",this._onModelEvent,this)},_removeReference:function(F,nt){delete this._byId[F.cid];var vt=this.modelId(F.attributes,F.idAttribute);vt!=null&&delete this._byId[vt],this===F.collection&&delete F.collection,F.off("all",this._onModelEvent,this)},_onModelEvent:function(F,nt,vt,Lt){if(nt){if((F==="add"||F==="remove")&&vt!==this)return;if(F==="destroy"&&this.remove(nt,Lt),F==="changeId"){var Ft=this.modelId(nt.previousAttributes(),nt.idAttribute),ct=this.modelId(nt.attributes,nt.idAttribute);Ft!=null&&delete this._byId[Ft],ct!=null&&(this._byId[ct]=nt)}}this.trigger.apply(this,arguments)}});var q=typeof Symbol=="function"&&Symbol.iterator;q&&(St.prototype[q]=St.prototype.values);var Z=function(F,nt){this._collection=F,this._kind=nt,this._index=0},ht=1,J=2,xt=3;q&&(Z.prototype[q]=function(){return this}),Z.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var F=this._collection.at(this._index);this._index++;var nt;if(this._kind===ht)nt=F;else{var vt=this._collection.modelId(F.attributes,F.idAttribute);this._kind===J?nt=vt:nt=[vt,F]}return{value:nt,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var D=x.View=function(F){this.cid=S.uniqueId("view"),this.preinitialize.apply(this,arguments),S.extend(this,S.pick(F,rt)),this._ensureElement(),this.initialize.apply(this,arguments)},yt=/^(\S+)\s*(.*)$/,rt=["model","collection","el","id","attributes","className","tagName","events"];S.extend(D.prototype,k,{tagName:"div",$:function(F){return this.$el.find(F)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(F){return this.undelegateEvents(),this._setElement(F),this.delegateEvents(),this},_setElement:function(F){this.$el=F instanceof x.$?F:x.$(F),this.el=this.$el[0]},delegateEvents:function(F){if(F||(F=S.result(this,"events")),!F)return this;this.undelegateEvents();for(var nt in F){var vt=F[nt];if(S.isFunction(vt)||(vt=this[vt]),!!vt){var Lt=nt.match(yt);this.delegate(Lt[1],Lt[2],vt.bind(this))}}return this},delegate:function(F,nt,vt){return this.$el.on(F+".delegateEvents"+this.cid,nt,vt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(F,nt,vt){return this.$el.off(F+".delegateEvents"+this.cid,nt,vt),this},_createElement:function(F){return document.createElement(F)},_ensureElement:function(){if(this.el)this.setElement(S.result(this,"el"));else{var F=S.extend({},S.result(this,"attributes"));this.id&&(F.id=S.result(this,"id")),this.className&&(F.class=S.result(this,"className")),this.setElement(this._createElement(S.result(this,"tagName"))),this._setAttributes(F)}},_setAttributes:function(F){this.$el.attr(F)}});var et=function(F,nt,vt,Lt){switch(nt){case 1:return function(){return F[vt](this[Lt])};case 2:return function(Ft){return F[vt](this[Lt],Ft)};case 3:return function(Ft,ct){return F[vt](this[Lt],zt(Ft,this),ct)};case 4:return function(Ft,ct,Vt){return F[vt](this[Lt],zt(Ft,this),ct,Vt)};default:return function(){var Ft=A.call(arguments);return Ft.unshift(this[Lt]),F[vt].apply(F,Ft)}}},Mt=function(F,nt,vt,Lt){S.each(vt,function(Ft,ct){nt[ct]&&(F.prototype[ct]=et(nt,Ft,ct,Lt))})},zt=function(F,nt){return S.isFunction(F)?F:S.isObject(F)&&!nt._isModel(F)?Zt(F):S.isString(F)?function(vt){return vt.get(F)}:F},Zt=function(F){var nt=S.matches(F);return function(vt){return nt(vt.attributes)}},Et={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Ht={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};S.each([[St,Et,"models"],[bt,Ht,"attributes"]],function(F){var nt=F[0],vt=F[1],Lt=F[2];nt.mixin=function(Ft){var ct=S.reduce(S.functions(Ft),function(Vt,Pt){return Vt[Pt]=0,Vt},{});Mt(nt,Ft,ct,Lt)},Mt(nt,S,vt,Lt)}),x.sync=function(F,nt,vt){var Lt=Wt[F];S.defaults(vt||(vt={}),{emulateHTTP:x.emulateHTTP,emulateJSON:x.emulateJSON});var Ft={type:Lt,dataType:"json"};if(vt.url||(Ft.url=S.result(nt,"url")||en()),vt.data==null&&nt&&(F==="create"||F==="update"||F==="patch")&&(Ft.contentType="application/json",Ft.data=JSON.stringify(vt.attrs||nt.toJSON(vt))),vt.emulateJSON&&(Ft.contentType="application/x-www-form-urlencoded",Ft.data=Ft.data?{model:Ft.data}:{}),vt.emulateHTTP&&(Lt==="PUT"||Lt==="DELETE"||Lt==="PATCH")){Ft.type="POST",vt.emulateJSON&&(Ft.data._method=Lt);var ct=vt.beforeSend;vt.beforeSend=function(Ce){if(Ce.setRequestHeader("X-HTTP-Method-Override",Lt),ct)return ct.apply(this,arguments)}}Ft.type!=="GET"&&!vt.emulateJSON&&(Ft.processData=!1);var Vt=vt.error;vt.error=function(Ce,Ae,Te){vt.textStatus=Ae,vt.errorThrown=Te,Vt&&Vt.call(vt.context,Ce,Ae,Te)};var Pt=vt.xhr=x.ajax(S.extend(Ft,vt));return nt.trigger("request",nt,Pt,vt),Pt};var Wt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};x.ajax=function(){return x.$.ajax.apply(x.$,arguments)};var $t=x.Router=function(F){F||(F={}),this.preinitialize.apply(this,arguments),F.routes&&(this.routes=F.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Kt=/\((.*?)\)/g,qt=/(\(\?)?:\w+/g,ge=/\*\w+/g,be=/[\-{}\[\]+?.,\\\^$|#\s]/g;S.extend($t.prototype,k,{preinitialize:function(){},initialize:function(){},route:function(F,nt,vt){S.isRegExp(F)||(F=this._routeToRegExp(F)),S.isFunction(nt)&&(vt=nt,nt=""),vt||(vt=this[nt]);var Lt=this;return x.history.route(F,function(Ft){var ct=Lt._extractParameters(F,Ft);Lt.execute(vt,ct,nt)!==!1&&(Lt.trigger.apply(Lt,["route:"+nt].concat(ct)),Lt.trigger("route",nt,ct),x.history.trigger("route",Lt,nt,ct))}),this},execute:function(F,nt,vt){F&&F.apply(this,nt)},navigate:function(F,nt){return x.history.navigate(F,nt),this},_bindRoutes:function(){if(this.routes){this.routes=S.result(this,"routes");for(var F,nt=S.keys(this.routes);(F=nt.pop())!=null;)this.route(F,this.routes[F])}},_routeToRegExp:function(F){return F=F.replace(be,"\\$&").replace(Kt,"(?:$1)?").replace(qt,function(nt,vt){return vt?nt:"([^/?]+)"}).replace(ge,"([^?]*?)"),new RegExp("^"+F+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(F,nt){var vt=F.exec(nt).slice(1);return S.map(vt,function(Lt,Ft){return Ft===vt.length-1?Lt||null:Lt?decodeURIComponent(Lt):null})}});var se=x.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ve=/^[#\/]|\s+$/g,Ue=/^\/+|\/+$/g,mn=/#.*$/;se.started=!1,S.extend(se.prototype,k,{interval:50,atRoot:function(){var F=this.location.pathname.replace(/[^\/]$/,"$&/");return F===this.root&&!this.getSearch()},matchRoot:function(){var F=this.decodeFragment(this.location.pathname),nt=F.slice(0,this.root.length-1)+"/";return nt===this.root},decodeFragment:function(F){return decodeURI(F.replace(/%25/g,"%2525"))},getSearch:function(){var F=this.location.href.replace(/#.*/,"").match(/\?.+/);return F?F[0]:""},getHash:function(F){var nt=(F||this).location.href.match(/#(.*)$/);return nt?nt[1]:""},getPath:function(){var F=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return F.charAt(0)==="/"?F.slice(1):F},getFragment:function(F){return F==null&&(this._usePushState||!this._wantsHashChange?F=this.getPath():F=this.getHash()),F.replace(ve,"")},start:function(F){if(se.started)throw new Error("Backbone.history has already been started");if(se.started=!0,this.options=S.extend({root:"/"},this.options,F),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ue,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var nt=this.root.slice(0,-1)||"/";return this.location.replace(nt+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var vt=document.body,Lt=vt.insertBefore(this.iframe,vt.firstChild).contentWindow;Lt.document.open(),Lt.document.close(),Lt.location.hash="#"+this.fragment}var Ft=window.addEventListener||function(ct,Vt){return attachEvent("on"+ct,Vt)};if(this._usePushState?Ft("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ft("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var F=window.removeEventListener||function(nt,vt){return detachEvent("on"+nt,vt)};this._usePushState?F("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&F("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),se.started=!1},route:function(F,nt){this.handlers.unshift({route:F,callback:nt})},checkUrl:function(F){var nt=this.getFragment();if(nt===this.fragment&&this.iframe&&(nt=this.getHash(this.iframe.contentWindow)),nt===this.fragment)return!1;this.iframe&&this.navigate(nt),this.loadUrl()},loadUrl:function(F){return this.matchRoot()?(F=this.fragment=this.getFragment(F),S.some(this.handlers,function(nt){if(nt.route.test(F))return nt.callback(F),!0})):!1},navigate:function(F,nt){if(!se.started)return!1;(!nt||nt===!0)&&(nt={trigger:!!nt}),F=this.getFragment(F||"");var vt=this.root;(F===""||F.charAt(0)==="?")&&(vt=vt.slice(0,-1)||"/");var Lt=vt+F;F=F.replace(mn,"");var Ft=this.decodeFragment(F);if(this.fragment!==Ft){if(this.fragment=Ft,this._usePushState)this.history[nt.replace?"replaceState":"pushState"]({},document.title,Lt);else if(this._wantsHashChange){if(this._updateHash(this.location,F,nt.replace),this.iframe&&F!==this.getHash(this.iframe.contentWindow)){var ct=this.iframe.contentWindow;nt.replace||(ct.document.open(),ct.document.close()),this._updateHash(ct.location,F,nt.replace)}}else return this.location.assign(Lt);if(nt.trigger)return this.loadUrl(F)}},_updateHash:function(F,nt,vt){if(vt){var Lt=F.href.replace(/(javascript:|#).*$/,"");F.replace(Lt+"#"+nt)}else F.hash="#"+nt}}),x.history=new se;var an=function(F,nt){var vt=this,Lt;return F&&S.has(F,"constructor")?Lt=F.constructor:Lt=function(){return vt.apply(this,arguments)},S.extend(Lt,vt,nt),Lt.prototype=S.create(vt.prototype,F),Lt.prototype.constructor=Lt,Lt.__super__=vt.prototype,Lt};bt.extend=St.extend=$t.extend=D.extend=se.extend=an;var en=function(){throw new Error('A "url" property or function must be specified')},ie=function(F,nt){var vt=nt.error;nt.error=function(Lt){vt&&vt.call(nt.context,F,Lt,nt),F.trigger("error",F,Lt,nt)}};return x})},210:(i,s,f)=>{(function(g){g(f(631))})(function(g){g.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_,x){return/^[;{}]$/.test(x)}}),g.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_,x,S,T){return this.jsonMode?/^[\[,{]$/.test(x)||/^}/.test(S):x==";"&&T.lexical&&T.lexical.type==")"?!1:/^[;{}]$/.test(x)&&!/^;/.test(S)}});var w=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;g.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(_,x,S,T){var O=!1;return this.configuration=="html"&&(O=T.context?w.test(T.context.tagName):!1),!O&&(_=="tag"&&/>$/.test(x)&&T.context||/^</.test(S))}}),g.defineExtension("commentRange",function(_,x,S){var T=this,O=g.innerMode(T.getMode(),T.getTokenAt(x).state).mode;T.operation(function(){if(_)T.replaceRange(O.commentEnd,S),T.replaceRange(O.commentStart,x),x.line==S.line&&x.ch==S.ch&&T.setCursor(x.line,x.ch+O.commentStart.length);else{var A=T.getRange(x,S),k=A.indexOf(O.commentStart),L=A.lastIndexOf(O.commentEnd);k>-1&&L>-1&&L>k&&(A=A.substr(0,k)+A.substring(k+O.commentStart.length,L)+A.substr(L+O.commentEnd.length)),T.replaceRange(A,x,S)}})}),g.defineExtension("autoIndentRange",function(_,x){var S=this;this.operation(function(){for(var T=_.line;T<=x.line;T++)S.indentLine(T,"smart")})}),g.defineExtension("autoFormatRange",function(_,x){var S=this,T=S.getMode(),O=S.getRange(_,x).split(`
`),A=g.copyState(T,S.getTokenAt(_).state),k=S.getOption("tabSize"),L="",R=0,z=_.ch===0;function ot(){L+=`
`,z=!0,++R}for(var dt=0;dt<O.length;++dt){for(var tt=new g.StringStream(O[dt],k);!tt.eol();){var U=g.innerMode(T,A),K=T.token(tt,A),X=tt.current();tt.start=tt.pos,(!z||/\S/.test(X))&&(L+=X,z=!1),!z&&U.mode.newlineAfterToken&&U.mode.newlineAfterToken(K,X,tt.string.slice(tt.pos)||O[dt+1]||"",U.state)&&ot()}!tt.pos&&T.blankLine&&T.blankLine(A),!z&&dt<O.length-1&&ot()}S.operation(function(){S.replaceRange(L,_,x);for(var mt=_.line+1,bt=_.line+R;mt<=bt;++mt)S.indentLine(mt,"smart");S.setSelection(_,S.getCursor(!1))})})})},631:function(i){(function(s,f){i.exports=f()})(this,function(){var s=navigator.userAgent,f=navigator.platform,g=/gecko\/\d/i.test(s),w=/MSIE \d/.test(s),_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),x=/Edge\/(\d+)/.exec(s),S=w||_||x,T=S&&(w?document.documentMode||6:+(x||_)[1]),O=!x&&/WebKit\//.test(s),A=O&&/Qt\/\d+\.\d+/.test(s),k=!x&&/Chrome\/(\d+)/.exec(s),L=k&&+k[1],R=/Opera\//.test(s),z=/Apple Computer/.test(navigator.vendor),ot=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),dt=/PhantomJS/.test(s),tt=z&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),U=/Android/.test(s),K=tt||U||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),X=tt||/Mac/.test(f),mt=/\bCrOS\b/.test(s),bt=/win/i.test(f),St=R&&s.match(/Version\/(\d*\.\d*)/);St&&(St=Number(St[1])),St&&St>=15&&(R=!1,O=!0);var Ot=X&&(A||R&&(St==null||St<12.11)),$=g||S&&T>=9;function Y(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var q=function(a,u){var p=a.className,d=Y(u).exec(p);if(d){var v=p.slice(d.index+d[0].length);a.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function Z(a){for(var u=a.childNodes.length;u>0;--u)a.removeChild(a.firstChild);return a}function ht(a,u){return Z(a).appendChild(u)}function J(a,u,p,d){var v=document.createElement(a);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof u=="string")v.appendChild(document.createTextNode(u));else if(u)for(var b=0;b<u.length;++b)v.appendChild(u[b]);return v}function xt(a,u,p,d){var v=J(a,u,p,d);return v.setAttribute("role","presentation"),v}var D;document.createRange?D=function(a,u,p,d){var v=document.createRange();return v.setEnd(d||a,p),v.setStart(a,u),v}:D=function(a,u,p){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",u),d};function yt(a,u){if(u.nodeType==3&&(u=u.parentNode),a.contains)return a.contains(u);do if(u.nodeType==11&&(u=u.host),u==a)return!0;while(u=u.parentNode)}function rt(a){var u;try{u=a.activeElement}catch{u=a.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function et(a,u){var p=a.className;Y(u).test(p)||(a.className+=(p?" ":"")+u)}function Mt(a,u){for(var p=a.split(" "),d=0;d<p.length;d++)p[d]&&!Y(p[d]).test(u)&&(u+=" "+p[d]);return u}var zt=function(a){a.select()};tt?zt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:S&&(zt=function(a){try{a.select()}catch{}});function Zt(a){return a.display.wrapper.ownerDocument}function Et(a){return Zt(a).defaultView}function Ht(a){var u=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,u)}}function Wt(a,u,p){u||(u={});for(var d in a)a.hasOwnProperty(d)&&(p!==!1||!u.hasOwnProperty(d))&&(u[d]=a[d]);return u}function $t(a,u,p,d,v){u==null&&(u=a.search(/[^\s\u00a0]/),u==-1&&(u=a.length));for(var b=d||0,E=v||0;;){var M=a.indexOf("	",b);if(M<0||M>=u)return E+(u-b);E+=M-b,E+=p-E%p,b=M+1}}var Kt=function(){this.id=null,this.f=null,this.time=0,this.handler=Ht(this.onTimeout,this)};Kt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Kt.prototype.set=function(a,u){this.f=u;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function qt(a,u){for(var p=0;p<a.length;++p)if(a[p]==u)return p;return-1}var ge=50,be={toString:function(){return"CodeMirror.Pass"}},se={scroll:!1},ve={origin:"*mouse"},Ue={origin:"+move"};function mn(a,u,p){for(var d=0,v=0;;){var b=a.indexOf("	",d);b==-1&&(b=a.length);var E=b-d;if(b==a.length||v+E>=u)return d+Math.min(E,u-v);if(v+=b-d,v+=p-v%p,d=b+1,v>=u)return d}}var an=[""];function en(a){for(;an.length<=a;)an.push(ie(an)+" ");return an[a]}function ie(a){return a[a.length-1]}function F(a,u){for(var p=[],d=0;d<a.length;d++)p[d]=u(a[d],d);return p}function nt(a,u,p){for(var d=0,v=p(u);d<a.length&&p(a[d])<=v;)d++;a.splice(d,0,u)}function vt(){}function Lt(a,u){var p;return Object.create?p=Object.create(a):(vt.prototype=a,p=new vt),u&&Wt(u,p),p}var Ft=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ct(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||Ft.test(a))}function Vt(a,u){return u?u.source.indexOf("\\w")>-1&&ct(a)?!0:u.test(a):ct(a)}function Pt(a){for(var u in a)if(a.hasOwnProperty(u)&&a[u])return!1;return!0}var Ce=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ae(a){return a.charCodeAt(0)>=768&&Ce.test(a)}function Te(a,u,p){for(;(p<0?u>0:u<a.length)&&Ae(a.charAt(u));)u+=p;return u}function Fe(a,u,p){for(var d=u>p?-1:1;;){if(u==p)return u;var v=(u+p)/2,b=d<0?Math.ceil(v):Math.floor(v);if(b==u)return a(b)?u:p;a(b)?p=b:u=b+d}}function qe(a,u,p,d){if(!a)return d(u,p,"ltr",0);for(var v=!1,b=0;b<a.length;++b){var E=a[b];(E.from<p&&E.to>u||u==p&&E.to==u)&&(d(Math.max(E.from,u),Math.min(E.to,p),E.level==1?"rtl":"ltr",b),v=!0)}v||d(u,p,"ltr")}var we=null;function Vn(a,u,p){var d;we=null;for(var v=0;v<a.length;++v){var b=a[v];if(b.from<u&&b.to>u)return v;b.to==u&&(b.from!=b.to&&p=="before"?d=v:we=v),b.from==u&&(b.from!=b.to&&p!="before"?d=v:we=v)}return d??we}var nn=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(H){return H<=247?a.charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?u.charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,b=/[LRr]/,E=/[Lb1n]/,M=/[1n]/;function j(H,st,gt){this.level=H,this.from=st,this.to=gt}return function(H,st){var gt=st=="ltr"?"L":"R";if(H.length==0||st=="ltr"&&!d.test(H))return!1;for(var jt=H.length,Tt=[],Bt=0;Bt<jt;++Bt)Tt.push(p(H.charCodeAt(Bt)));for(var Xt=0,te=gt;Xt<jt;++Xt){var le=Tt[Xt];le=="m"?Tt[Xt]=te:te=le}for(var he=0,ce=gt;he<jt;++he){var me=Tt[he];me=="1"&&ce=="r"?Tt[he]="n":b.test(me)&&(ce=me,me=="r"&&(Tt[he]="R"))}for(var ke=1,Ee=Tt[0];ke<jt-1;++ke){var Ke=Tt[ke];Ke=="+"&&Ee=="1"&&Tt[ke+1]=="1"?Tt[ke]="1":Ke==","&&Ee==Tt[ke+1]&&(Ee=="1"||Ee=="n")&&(Tt[ke]=Ee),Ee=Ke}for(var yn=0;yn<jt;++yn){var tr=Tt[yn];if(tr==",")Tt[yn]="N";else if(tr=="%"){var _n=void 0;for(_n=yn+1;_n<jt&&Tt[_n]=="%";++_n);for(var Zr=yn&&Tt[yn-1]=="!"||_n<jt&&Tt[_n]=="1"?"1":"N",kr=yn;kr<_n;++kr)Tt[kr]=Zr;yn=_n-1}}for(var Un=0,Hr=gt;Un<jt;++Un){var fr=Tt[Un];Hr=="L"&&fr=="1"?Tt[Un]="L":b.test(fr)&&(Hr=fr)}for(var er=0;er<jt;++er)if(v.test(Tt[er])){var Kn=void 0;for(Kn=er+1;Kn<jt&&v.test(Tt[Kn]);++Kn);for(var Mn=(er?Tt[er-1]:gt)=="L",sr=(Kn<jt?Tt[Kn]:gt)=="L",Ai=Mn==sr?Mn?"L":"R":gt,ma=er;ma<Kn;++ma)Tt[ma]=Ai;er=Kn-1}for(var dr=[],li,lr=0;lr<jt;)if(E.test(Tt[lr])){var Rf=lr;for(++lr;lr<jt&&E.test(Tt[lr]);++lr);dr.push(new j(0,Rf,lr))}else{var Mi=lr,ya=dr.length,is=st=="rtl"?1:0;for(++lr;lr<jt&&Tt[lr]!="L";++lr);for(var Ar=Mi;Ar<lr;)if(M.test(Tt[Ar])){Mi<Ar&&(dr.splice(ya,0,new j(1,Mi,Ar)),ya+=is);var as=Ar;for(++Ar;Ar<lr&&M.test(Tt[Ar]);++Ar);dr.splice(ya,0,new j(2,as,Ar)),ya+=is,Mi=Ar}else++Ar;Mi<lr&&dr.splice(ya,0,new j(1,Mi,lr))}return st=="ltr"&&(dr[0].level==1&&(li=H.match(/^\s+/))&&(dr[0].from=li[0].length,dr.unshift(new j(0,0,li[0].length))),ie(dr).level==1&&(li=H.match(/\s+$/))&&(ie(dr).to-=li[0].length,dr.push(new j(0,jt-li[0].length,jt)))),st=="rtl"?dr.reverse():dr}}();function Ze(a,u){var p=a.order;return p==null&&(p=a.order=nn(a.text,u)),p}var Zn=[],xe=function(a,u,p){if(a.addEventListener)a.addEventListener(u,p,!1);else if(a.attachEvent)a.attachEvent("on"+u,p);else{var d=a._handlers||(a._handlers={});d[u]=(d[u]||Zn).concat(p)}};function Tn(a,u){return a._handlers&&a._handlers[u]||Zn}function Le(a,u,p){if(a.removeEventListener)a.removeEventListener(u,p,!1);else if(a.detachEvent)a.detachEvent("on"+u,p);else{var d=a._handlers,v=d&&d[u];if(v){var b=qt(v,p);b>-1&&(d[u]=v.slice(0,b).concat(v.slice(b+1)))}}}function sn(a,u){var p=Tn(a,u);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function hn(a,u,p){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),sn(a,p||u.type,a,u),At(u)||u.codemirrorIgnore}function or(a){var u=a._handlers&&a._handlers.cursorActivity;if(u)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<u.length;++d)qt(p,u[d])==-1&&p.push(u[d])}function En(a,u){return Tn(a,u).length>0}function ro(a){a.prototype.on=function(u,p){xe(this,u,p)},a.prototype.off=function(u,p){Le(this,u,p)}}function Q(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function _t(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function At(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function Gt(a){Q(a),_t(a)}function pe(a){return a.target||a.srcElement}function je(a){var u=a.which;return u==null&&(a.button&1?u=1:a.button&2?u=3:a.button&4&&(u=2)),X&&a.ctrlKey&&u==1&&(u=3),u}var Xe=function(){if(S&&T<9)return!1;var a=J("div");return"draggable"in a||"dragDrop"in a}(),gr;function Dr(a){if(gr==null){var u=J("span","");ht(a,J("span",[u,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(gr=u.offsetWidth<=1&&u.offsetHeight>2&&!(S&&T<8))}var p=gr?J("span",""):J("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var ln;function Bi(a){if(ln!=null)return ln;var u=ht(a,document.createTextNode("AA")),p=D(u,0,1).getBoundingClientRect(),d=D(u,1,2).getBoundingClientRect();return Z(a),!p||p.left==p.right?!1:ln=d.right-p.right<3}var Nr=`

b`.split(/\n/).length!=3?function(a){for(var u=0,p=[],d=a.length;u<=d;){var v=a.indexOf(`
`,u);v==-1&&(v=a.length);var b=a.slice(u,a.charAt(v-1)=="\r"?v-1:v),E=b.indexOf("\r");E!=-1?(p.push(b.slice(0,E)),u+=E+1):(p.push(b),u=v+1)}return p}:function(a){return a.split(/\r\n?|\n/)},Wr=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var u;try{u=a.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=a?!1:u.compareEndPoints("StartToEnd",u)!=0},Ho=function(){var a=J("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),Rn=null;function Tr(a){if(Rn!=null)return Rn;var u=ht(a,J("span","x")),p=u.getBoundingClientRect(),d=D(u,0,1).getBoundingClientRect();return Rn=Math.abs(p.left-d.left)>1}var fn={},ee={};function So(a,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),fn[a]=u}function Na(a,u){ee[a]=u}function oo(a){if(typeof a=="string"&&ee.hasOwnProperty(a))a=ee[a];else if(a&&typeof a.name=="string"&&ee.hasOwnProperty(a.name)){var u=ee[a.name];typeof u=="string"&&(u={name:u}),a=Lt(u,a),a.name=u.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return oo("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return oo("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function Oo(a,u){u=oo(u);var p=fn[u.name];if(!p)return Oo(a,"text/plain");var d=p(a,u);if(Jn.hasOwnProperty(u.name)){var v=Jn[u.name];for(var b in v)v.hasOwnProperty(b)&&(d.hasOwnProperty(b)&&(d["_"+b]=d[b]),d[b]=v[b])}if(d.name=u.name,u.helperType&&(d.helperType=u.helperType),u.modeProps)for(var E in u.modeProps)d[E]=u.modeProps[E];return d}var Jn={};function Bo(a,u){var p=Jn.hasOwnProperty(a)?Jn[a]:Jn[a]={};Wt(u,p)}function $r(a,u){if(u===!0)return u;if(a.copyState)return a.copyState(u);var p={};for(var d in u){var v=u[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function Kr(a,u){for(var p;a.innerMode&&(p=a.innerMode(u),!(!p||p.mode==a));)u=p.state,a=p.mode;return p||{mode:a,state:u}}function gi(a,u,p){return a.startState?a.startState(u,p):!0}var un=function(a,u,p){this.pos=this.start=0,this.string=a,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};un.prototype.eol=function(){return this.pos>=this.string.length},un.prototype.sol=function(){return this.pos==this.lineStart},un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},un.prototype.eat=function(a){var u=this.string.charAt(this.pos),p;if(typeof a=="string"?p=u==a:p=u&&(a.test?a.test(u):a(u)),p)return++this.pos,u},un.prototype.eatWhile=function(a){for(var u=this.pos;this.eat(a););return this.pos>u},un.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},un.prototype.skipToEnd=function(){this.pos=this.string.length},un.prototype.skipTo=function(a){var u=this.string.indexOf(a,this.pos);if(u>-1)return this.pos=u,!0},un.prototype.backUp=function(a){this.pos-=a},un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$t(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$t(this.string,this.lineStart,this.tabSize):0)},un.prototype.indentation=function(){return $t(this.string,null,this.tabSize)-(this.lineStart?$t(this.string,this.lineStart,this.tabSize):0)},un.prototype.match=function(a,u,p){if(typeof a=="string"){var d=function(E){return p?E.toLowerCase():E},v=this.string.substr(this.pos,a.length);if(d(v)==d(a))return u!==!1&&(this.pos+=a.length),!0}else{var b=this.string.slice(this.pos).match(a);return b&&b.index>0?null:(b&&u!==!1&&(this.pos+=b[0].length),b)}},un.prototype.current=function(){return this.string.slice(this.start,this.pos)},un.prototype.hideFirstChars=function(a,u){this.lineStart+=a;try{return u()}finally{this.lineStart-=a}},un.prototype.lookAhead=function(a){var u=this.lineOracle;return u&&u.lookAhead(a)},un.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function _e(a,u){if(u-=a.first,u<0||u>=a.size)throw new Error("There is no line "+(u+a.first)+" in the document.");for(var p=a;!p.lines;)for(var d=0;;++d){var v=p.children[d],b=v.chunkSize();if(u<b){p=v;break}u-=b}return p.lines[u]}function Gr(a,u,p){var d=[],v=u.line;return a.iter(u.line,p.line+1,function(b){var E=b.text;v==p.line&&(E=E.slice(0,p.ch)),v==u.line&&(E=E.slice(u.ch)),d.push(E),++v}),d}function Pn(a,u,p){var d=[];return a.iter(u,p,function(v){d.push(v.text)}),d}function mr(a,u){var p=u-a.height;if(p)for(var d=a;d;d=d.parent)d.height+=p}function Qe(a){if(a.parent==null)return null;for(var u=a.parent,p=qt(u.lines,a),d=u.parent;d;u=d,d=d.parent)for(var v=0;d.children[v]!=u;++v)p+=d.children[v].chunkSize();return p+u.first}function To(a,u){var p=a.first;t:do{for(var d=0;d<a.children.length;++d){var v=a.children[d],b=v.height;if(u<b){a=v;continue t}u-=b,p+=v.chunkSize()}return p}while(!a.lines);for(var E=0;E<a.lines.length;++E){var M=a.lines[E],j=M.height;if(u<j)break;u-=j}return p+E}function ni(a,u){return u>=a.first&&u<a.first+a.size}function Qn(a,u){return String(a.lineNumberFormatter(u+a.firstLineNumber))}function V(a,u,p){if(p===void 0&&(p=null),!(this instanceof V))return new V(a,u,p);this.line=a,this.ch=u,this.sticky=p}function it(a,u){return a.line-u.line||a.ch-u.ch}function Ut(a,u){return a.sticky==u.sticky&&it(a,u)==0}function Qt(a){return V(a.line,a.ch)}function Ne(a,u){return it(a,u)<0?u:a}function Be(a,u){return it(a,u)<0?a:u}function rn(a,u){return Math.max(a.first,Math.min(u,a.first+a.size-1))}function Se(a,u){if(u.line<a.first)return V(a.first,0);var p=a.first+a.size-1;return u.line>p?V(p,_e(a,p).text.length):Yr(u,_e(a,u.line).text.length)}function Yr(a,u){var p=a.ch;return p==null||p>u?V(a.line,u):p<0?V(a.line,0):a}function bs(a,u){for(var p=[],d=0;d<u.length;d++)p[d]=Se(a,u[d]);return p}var Cs=function(a,u){this.state=a,this.lookAhead=u},Eo=function(a,u,p,d){this.state=u,this.doc=a,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};Eo.prototype.lookAhead=function(a){var u=this.doc.getLine(this.line+a);return u!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),u},Eo.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Eo.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Eo.fromSaved=function(a,u,p){return u instanceof Cs?new Eo(a,$r(a.mode,u.state),p,u.lookAhead):new Eo(a,$r(a.mode,u),p)},Eo.prototype.save=function(a){var u=a!==!1?$r(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Cs(u,this.maxLookAhead):u};function zi(a,u,p,d){var v=[a.state.modeGen],b={};yr(a,u.text,a.doc.mode,p,function(H,st){return v.push(H,st)},b,d);for(var E=p.state,M=function(H){p.baseTokens=v;var st=a.state.overlays[H],gt=1,jt=0;p.state=!0,yr(a,u.text,st.mode,p,function(Tt,Bt){for(var Xt=gt;jt<Tt;){var te=v[gt];te>Tt&&v.splice(gt,1,Tt,v[gt+1],te),gt+=2,jt=Math.min(Tt,te)}if(Bt)if(st.opaque)v.splice(Xt,gt-Xt,Tt,"overlay "+Bt),gt=Xt+2;else for(;Xt<gt;Xt+=2){var le=v[Xt+1];v[Xt+1]=(le?le+" ":"")+"overlay "+Bt}},b),p.state=E,p.baseTokens=null,p.baseTokenPos=1},j=0;j<a.state.overlays.length;++j)M(j);return{styles:v,classes:b.bgClass||b.textClass?b:null}}function ml(a,u,p){if(!u.styles||u.styles[0]!=a.state.modeGen){var d=Ia(a,Qe(u)),v=u.text.length>a.options.maxHighlightLength&&$r(a.doc.mode,d.state),b=zi(a,u,d);v&&(d.state=v),u.stateAfter=d.save(!v),u.styles=b.styles,b.classes?u.styleClasses=b.classes:u.styleClasses&&(u.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return u.styles}function Ia(a,u,p){var d=a.doc,v=a.display;if(!d.mode.startState)return new Eo(d,!0,u);var b=mi(a,u,p),E=b>d.first&&_e(d,b-1).stateAfter,M=E?Eo.fromSaved(d,E,b):new Eo(d,gi(d.mode),b);return d.iter(b,u,function(j){xs(a,j.text,M);var H=M.line;j.stateAfter=H==u-1||H%5==0||H>=v.viewFrom&&H<v.viewTo?M.save():null,M.nextLine()}),p&&(d.modeFrontier=M.line),M}function xs(a,u,p,d){var v=a.doc.mode,b=new un(u,a.options.tabSize,p);for(b.start=b.pos=d||0,u==""&&zo(v,p.state);!b.eol();)Ss(v,b,p.state),b.start=b.pos}function zo(a,u){if(a.blankLine)return a.blankLine(u);if(a.innerMode){var p=Kr(a,u);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Ss(a,u,p,d){for(var v=0;v<10;v++){d&&(d[0]=Kr(a,p).mode);var b=a.token(u,p);if(u.pos>u.start)return b}throw new Error("Mode "+a.name+" failed to advance stream.")}var Os=function(a,u,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=u||null,this.state=p};function Ui(a,u,p,d){var v=a.doc,b=v.mode,E;u=Se(v,u);var M=_e(v,u.line),j=Ia(a,u.line,p),H=new un(M.text,a.options.tabSize,j),st;for(d&&(st=[]);(d||H.pos<u.ch)&&!H.eol();)H.start=H.pos,E=Ss(b,H,j.state),d&&st.push(new Os(H,E,$r(v.mode,j.state)));return d?st:new Os(H,E,j.state)}function Va(a,u){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";u[d]==null?u[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(u[d])||(u[d]+=" "+p[2])}return a}function yr(a,u,p,d,v,b,E){var M=p.flattenSpans;M==null&&(M=a.options.flattenSpans);var j=0,H=null,st=new un(u,a.options.tabSize,d),gt,jt=a.options.addModeClass&&[null];for(u==""&&Va(zo(p,d.state),b);!st.eol();){if(st.pos>a.options.maxHighlightLength?(M=!1,E&&xs(a,u,d,st.pos),st.pos=u.length,gt=null):gt=Va(Ss(p,st,d.state,jt),b),jt){var Tt=jt[0].name;Tt&&(gt="m-"+(gt?Tt+" "+gt:Tt))}if(!M||H!=gt){for(;j<st.start;)j=Math.min(st.start,j+5e3),v(j,H);H=gt}st.start=st.pos}for(;j<st.pos;){var Bt=Math.min(st.pos,j+5e3);v(Bt,H),j=Bt}}function mi(a,u,p){for(var d,v,b=a.doc,E=p?-1:u-(a.doc.mode.innerMode?1e3:100),M=u;M>E;--M){if(M<=b.first)return b.first;var j=_e(b,M-1),H=j.stateAfter;if(H&&(!p||M+(H instanceof Cs?H.lookAhead:0)<=b.modeFrontier))return M;var st=$t(j.text,null,a.options.tabSize);(v==null||d>st)&&(v=M-1,d=st)}return v}function xu(a,u){if(a.modeFrontier=Math.min(a.modeFrontier,u),!(a.highlightFrontier<u-10)){for(var p=a.first,d=u-1;d>p;d--){var v=_e(a,d).stateAfter;if(v&&(!(v instanceof Cs)||d+v.lookAhead<u)){p=d+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var io=!1,ao=!1;function yl(){io=!0}function Su(){ao=!0}function Wi(a,u,p){this.marker=a,this.from=u,this.to=p}function $i(a,u){if(a)for(var p=0;p<a.length;++p){var d=a[p];if(d.marker==u)return d}}function Po(a,u){for(var p,d=0;d<a.length;++d)a[d]!=u&&(p||(p=[])).push(a[d]);return p}function Ou(a,u,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&a.markedSpans&&d.has(a.markedSpans)?a.markedSpans.push(u):(a.markedSpans=a.markedSpans?a.markedSpans.concat([u]):[u],d&&d.add(a.markedSpans)),u.marker.attachLine(a)}function Ts(a,u,p){var d;if(a)for(var v=0;v<a.length;++v){var b=a[v],E=b.marker,M=b.from==null||(E.inclusiveLeft?b.from<=u:b.from<u);if(M||b.from==u&&E.type=="bookmark"&&(!p||!b.marker.insertLeft)){var j=b.to==null||(E.inclusiveRight?b.to>=u:b.to>u);(d||(d=[])).push(new Wi(E,b.from,j?null:b.to))}}return d}function wl(a,u,p){var d;if(a)for(var v=0;v<a.length;++v){var b=a[v],E=b.marker,M=b.to==null||(E.inclusiveRight?b.to>=u:b.to>u);if(M||b.from==u&&E.type=="bookmark"&&(!p||b.marker.insertLeft)){var j=b.from==null||(E.inclusiveLeft?b.from<=u:b.from<u);(d||(d=[])).push(new Wi(E,j?null:b.from-u,b.to==null?null:b.to-u))}}return d}function Ra(a,u){if(u.full)return null;var p=ni(a,u.from.line)&&_e(a,u.from.line).markedSpans,d=ni(a,u.to.line)&&_e(a,u.to.line).markedSpans;if(!p&&!d)return null;var v=u.from.ch,b=u.to.ch,E=it(u.from,u.to)==0,M=Ts(p,v,E),j=wl(d,b,E),H=u.text.length==1,st=ie(u.text).length+(H?v:0);if(M)for(var gt=0;gt<M.length;++gt){var jt=M[gt];if(jt.to==null){var Tt=$i(j,jt.marker);Tt?H&&(jt.to=Tt.to==null?null:Tt.to+st):jt.to=v}}if(j)for(var Bt=0;Bt<j.length;++Bt){var Xt=j[Bt];if(Xt.to!=null&&(Xt.to+=st),Xt.from==null){var te=$i(M,Xt.marker);te||(Xt.from=st,H&&(M||(M=[])).push(Xt))}else Xt.from+=st,H&&(M||(M=[])).push(Xt)}M&&(M=Es(M)),j&&j!=M&&(j=Es(j));var le=[M];if(!H){var he=u.text.length-2,ce;if(he>0&&M)for(var me=0;me<M.length;++me)M[me].to==null&&(ce||(ce=[])).push(new Wi(M[me].marker,null,null));for(var ke=0;ke<he;++ke)le.push(ce);le.push(j)}return le}function Es(a){for(var u=0;u<a.length;++u){var p=a[u];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(u--,1)}return a.length?a:null}function so(a,u,p){var d=null;if(a.iter(u.line,p.line+1,function(Tt){if(Tt.markedSpans)for(var Bt=0;Bt<Tt.markedSpans.length;++Bt){var Xt=Tt.markedSpans[Bt].marker;Xt.readOnly&&(!d||qt(d,Xt)==-1)&&(d||(d=[])).push(Xt)}}),!d)return null;for(var v=[{from:u,to:p}],b=0;b<d.length;++b)for(var E=d[b],M=E.find(0),j=0;j<v.length;++j){var H=v[j];if(!(it(H.to,M.from)<0||it(H.from,M.to)>0)){var st=[j,1],gt=it(H.from,M.from),jt=it(H.to,M.to);(gt<0||!E.inclusiveLeft&&!gt)&&st.push({from:H.from,to:M.from}),(jt>0||!E.inclusiveRight&&!jt)&&st.push({from:M.to,to:H.to}),v.splice.apply(v,st),j+=st.length-3}}return v}function Ki(a){var u=a.markedSpans;if(u){for(var p=0;p<u.length;++p)u[p].marker.detachLine(a);a.markedSpans=null}}function Gi(a,u){if(u){for(var p=0;p<u.length;++p)u[p].marker.attachLine(a);a.markedSpans=u}}function lo(a){return a.inclusiveLeft?-1:0}function Yi(a){return a.inclusiveRight?1:0}function Fa(a,u){var p=a.lines.length-u.lines.length;if(p!=0)return p;var d=a.find(),v=u.find(),b=it(d.from,v.from)||lo(a)-lo(u);if(b)return-b;var E=it(d.to,v.to)||Yi(a)-Yi(u);return E||u.id-a.id}function qi(a,u){var p=ao&&a.markedSpans,d;if(p)for(var v=void 0,b=0;b<p.length;++b)v=p[b],v.marker.collapsed&&(u?v.from:v.to)==null&&(!d||Fa(d,v.marker)<0)&&(d=v.marker);return d}function Xi(a){return qi(a,!0)}function ri(a){return qi(a,!1)}function Ir(a,u){var p=ao&&a.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var b=p[v];b.marker.collapsed&&(b.from==null||b.from<u)&&(b.to==null||b.to>u)&&(!d||Fa(d,b.marker)<0)&&(d=b.marker)}return d}function uo(a,u,p,d,v){var b=_e(a,u),E=ao&&b.markedSpans;if(E)for(var M=0;M<E.length;++M){var j=E[M];if(j.marker.collapsed){var H=j.marker.find(0),st=it(H.from,p)||lo(j.marker)-lo(v),gt=it(H.to,d)||Yi(j.marker)-Yi(v);if(!(st>=0&&gt<=0||st<=0&&gt>=0)&&(st<=0&&(j.marker.inclusiveRight&&v.inclusiveLeft?it(H.to,p)>=0:it(H.to,p)>0)||st>=0&&(j.marker.inclusiveRight&&v.inclusiveLeft?it(H.from,d)<=0:it(H.from,d)<0)))return!0}}}function wn(a){for(var u;u=Xi(a);)a=u.find(-1,!0).line;return a}function Zi(a){for(var u;u=ri(a);)a=u.find(1,!0).line;return a}function Ha(a){for(var u,p;u=ri(a);)a=u.find(1,!0).line,(p||(p=[])).push(a);return p}function co(a,u){var p=_e(a,u),d=wn(p);return p==d?u:Qe(d)}function ko(a,u){if(u>a.lastLine())return u;var p=_e(a,u),d;if(!fo(a,p))return u;for(;d=ri(p);)p=d.find(1,!0).line;return Qe(p)+1}function fo(a,u){var p=ao&&u.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Uo(a,u,d))return!0}}}function Uo(a,u,p){if(p.to==null){var d=p.marker.find(1,!0);return Uo(a,d.line,$i(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==u.text.length)return!0;for(var v=void 0,b=0;b<u.markedSpans.length;++b)if(v=u.markedSpans[b],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&Uo(a,u,v))return!0}function Fn(a){a=wn(a);for(var u=0,p=a.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==a)break;u+=v.height}for(var b=p.parent;b;p=b,b=p.parent)for(var E=0;E<b.children.length;++E){var M=b.children[E];if(M==p)break;u+=M.height}return u}function oi(a){if(a.height==0)return 0;for(var u=a.text.length,p,d=a;p=Xi(d);){var v=p.find(0,!0);d=v.from.line,u+=v.from.ch-v.to.ch}for(d=a;p=ri(d);){var b=p.find(0,!0);u-=d.text.length-b.from.ch,d=b.to.line,u+=d.text.length-b.to.ch}return u}function Ji(a){var u=a.display,p=a.doc;u.maxLine=_e(p,p.first),u.maxLineLength=oi(u.maxLine),u.maxLineChanged=!0,p.iter(function(d){var v=oi(d);v>u.maxLineLength&&(u.maxLineLength=v,u.maxLine=d)})}var yi=function(a,u,p){this.text=a,Gi(this,u),this.height=p?p(this):1};yi.prototype.lineNo=function(){return Qe(this)},ro(yi);function _l(a,u,p,d){a.text=u,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Ki(a),Gi(a,p);var v=d?d(a):1;v!=a.height&&mr(a,v)}function Tu(a){a.parent=null,Ki(a)}var Eu={},bl={};function $e(a,u){if(!a||/^\s*$/.test(a))return null;var p=u.addModeClass?bl:Eu;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function Cl(a,u){var p=xt("span",null,null,O?"padding-right: .1px":null),d={pre:xt("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};u.measure={};for(var v=0;v<=(u.rest?u.rest.length:0);v++){var b=v?u.rest[v-1]:u.line,E=void 0;d.pos=0,d.addToken=Ba,Bi(a.display.measure)&&(E=Ze(b,a.doc.direction))&&(d.addToken=wi(d.addToken,E)),d.map=[];var M=u!=a.display.externalMeasured&&Qe(b);qr(b,d,ml(a,b,M)),b.styleClasses&&(b.styleClasses.bgClass&&(d.bgClass=Mt(b.styleClasses.bgClass,d.bgClass||"")),b.styleClasses.textClass&&(d.textClass=Mt(b.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(Dr(a.display.measure))),v==0?(u.measure.map=d.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(d.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(O){var j=d.content.lastChild;(/\bcm-tab\b/.test(j.className)||j.querySelector&&j.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return sn(a,"renderLine",a,u.line,d.pre),d.pre.className&&(d.textClass=Mt(d.pre.className,d.textClass||"")),d}function Er(a){var u=J("span","","cm-invalidchar");return u.title="\\u"+a.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function Ba(a,u,p,d,v,b,E){if(u){var M=a.splitSpaces?Qi(u,a.trailingSpace):u,j=a.cm.state.specialChars,H=!1,st;if(!j.test(u))a.col+=u.length,st=document.createTextNode(M),a.map.push(a.pos,a.pos+u.length,st),S&&T<9&&(H=!0),a.pos+=u.length;else{st=document.createDocumentFragment();for(var gt=0;;){j.lastIndex=gt;var jt=j.exec(u),Tt=jt?jt.index-gt:u.length-gt;if(Tt){var Bt=document.createTextNode(M.slice(gt,gt+Tt));S&&T<9?st.appendChild(J("span",[Bt])):st.appendChild(Bt),a.map.push(a.pos,a.pos+Tt,Bt),a.col+=Tt,a.pos+=Tt}if(!jt)break;gt+=Tt+1;var Xt=void 0;if(jt[0]=="	"){var te=a.cm.options.tabSize,le=te-a.col%te;Xt=st.appendChild(J("span",en(le),"cm-tab")),Xt.setAttribute("role","presentation"),Xt.setAttribute("cm-text","	"),a.col+=le}else jt[0]=="\r"||jt[0]==`
`?(Xt=st.appendChild(J("span",jt[0]=="\r"?"":"","cm-invalidchar")),Xt.setAttribute("cm-text",jt[0]),a.col+=1):(Xt=a.cm.options.specialCharPlaceholder(jt[0]),Xt.setAttribute("cm-text",jt[0]),S&&T<9?st.appendChild(J("span",[Xt])):st.appendChild(Xt),a.col+=1);a.map.push(a.pos,a.pos+1,Xt),a.pos++}}if(a.trailingSpace=M.charCodeAt(u.length-1)==32,p||d||v||H||b||E){var he=p||"";d&&(he+=d),v&&(he+=v);var ce=J("span",[st],he,b);if(E)for(var me in E)E.hasOwnProperty(me)&&me!="style"&&me!="class"&&ce.setAttribute(me,E[me]);return a.content.appendChild(ce)}a.content.appendChild(st)}}function Qi(a,u){if(a.length>1&&!/  /.test(a))return a;for(var p=u,d="",v=0;v<a.length;v++){var b=a.charAt(v);b==" "&&p&&(v==a.length-1||a.charCodeAt(v+1)==32)&&(b=""),d+=b,p=b==" "}return d}function wi(a,u){return function(p,d,v,b,E,M,j){v=v?v+" cm-force-border":"cm-force-border";for(var H=p.pos,st=H+d.length;;){for(var gt=void 0,jt=0;jt<u.length&&(gt=u[jt],!(gt.to>H&&gt.from<=H));jt++);if(gt.to>=st)return a(p,d,v,b,E,M,j);a(p,d.slice(0,gt.to-H),v,b,null,M,j),b=null,d=d.slice(gt.to-H),H=gt.to}}}function wr(a,u,p,d){var v=!d&&p.widgetNode;v&&a.map.push(a.pos,a.pos+u,v),!d&&a.cm.display.input.needsContentAttribute&&(v||(v=a.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(a.cm.display.input.setUneditable(v),a.content.appendChild(v)),a.pos+=u,a.trailingSpace=!1}function qr(a,u,p){var d=a.markedSpans,v=a.text,b=0;if(!d){for(var E=1;E<p.length;E+=2)u.addToken(u,v.slice(b,b=p[E]),$e(p[E+1],u.cm.options));return}for(var M=v.length,j=0,H=1,st="",gt,jt,Tt=0,Bt,Xt,te,le,he;;){if(Tt==j){Bt=Xt=te=jt="",he=null,le=null,Tt=1/0;for(var ce=[],me=void 0,ke=0;ke<d.length;++ke){var Ee=d[ke],Ke=Ee.marker;if(Ke.type=="bookmark"&&Ee.from==j&&Ke.widgetNode)ce.push(Ke);else if(Ee.from<=j&&(Ee.to==null||Ee.to>j||Ke.collapsed&&Ee.to==j&&Ee.from==j)){if(Ee.to!=null&&Ee.to!=j&&Tt>Ee.to&&(Tt=Ee.to,Xt=""),Ke.className&&(Bt+=" "+Ke.className),Ke.css&&(jt=(jt?jt+";":"")+Ke.css),Ke.startStyle&&Ee.from==j&&(te+=" "+Ke.startStyle),Ke.endStyle&&Ee.to==Tt&&(me||(me=[])).push(Ke.endStyle,Ee.to),Ke.title&&((he||(he={})).title=Ke.title),Ke.attributes)for(var yn in Ke.attributes)(he||(he={}))[yn]=Ke.attributes[yn];Ke.collapsed&&(!le||Fa(le.marker,Ke)<0)&&(le=Ee)}else Ee.from>j&&Tt>Ee.from&&(Tt=Ee.from)}if(me)for(var tr=0;tr<me.length;tr+=2)me[tr+1]==Tt&&(Xt+=" "+me[tr]);if(!le||le.from==j)for(var _n=0;_n<ce.length;++_n)wr(u,0,ce[_n]);if(le&&(le.from||0)==j){if(wr(u,(le.to==null?M+1:le.to)-j,le.marker,le.from==null),le.to==null)return;le.to==j&&(le=!1)}}if(j>=M)break;for(var Zr=Math.min(M,Tt);;){if(st){var kr=j+st.length;if(!le){var Un=kr>Zr?st.slice(0,Zr-j):st;u.addToken(u,Un,gt?gt+Bt:Bt,te,j+Un.length==Tt?Xt:"",jt,he)}if(kr>=Zr){st=st.slice(Zr-j),j=Zr;break}j=kr,te=""}st=v.slice(b,b=p[H++]),gt=$e(p[H++],u.cm.options)}}}function za(a,u,p){this.line=u,this.rest=Ha(u),this.size=this.rest?Qe(ie(this.rest))-p+1:1,this.node=this.text=null,this.hidden=fo(a,u)}function _i(a,u,p){for(var d=[],v,b=u;b<p;b=v){var E=new za(a.doc,_e(a.doc,b),b);v=b+E.size,d.push(E)}return d}var Ao=null;function Pu(a){Ao?Ao.ops.push(a):a.ownsGroup=Ao={ops:[a],delayedCallbacks:[]}}function ir(a){var u=a.delayedCallbacks,p=0;do{for(;p<u.length;p++)u[p].call(null);for(var d=0;d<a.ops.length;d++){var v=a.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<u.length)}function ta(a,u){var p=a.ownsGroup;if(p)try{ir(p)}finally{Ao=null,u(p)}}var Pr=null;function Hn(a,u){var p=Tn(a,u);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;Ao?v=Ao.delayedCallbacks:Pr?v=Pr:(v=Pr=[],setTimeout(xl,0));for(var b=function(M){v.push(function(){return p[M].apply(null,d)})},E=0;E<p.length;++E)b(E)}}function xl(){var a=Pr;Pr=null;for(var u=0;u<a.length;++u)a[u]()}function Sl(a,u,p,d){for(var v=0;v<u.changes.length;v++){var b=u.changes[v];b=="text"?Au(a,u):b=="gutter"?ii(a,u,p,d):b=="class"?bi(a,u):b=="widget"&&Mu(a,u,d)}u.changes=null}function Wo(a){return a.node==a.text&&(a.node=J("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),S&&T<8&&(a.node.style.zIndex=2)),a.node}function ku(a,u){var p=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),u.background)p?u.background.className=p:(u.background.parentNode.removeChild(u.background),u.background=null);else if(p){var d=Wo(u);u.background=d.insertBefore(J("div",null,p),d.firstChild),a.display.input.setUneditable(u.background)}}function ea(a,u){var p=a.display.externalMeasured;return p&&p.line==u.line?(a.display.externalMeasured=null,u.measure=p.measure,p.built):Cl(a,u)}function Au(a,u){var p=u.text.className,d=ea(a,u);u.text==u.node&&(u.node=d.pre),u.text.parentNode.replaceChild(d.pre,u.text),u.text=d.pre,d.bgClass!=u.bgClass||d.textClass!=u.textClass?(u.bgClass=d.bgClass,u.textClass=d.textClass,bi(a,u)):p&&(u.text.className=p)}function bi(a,u){ku(a,u),u.line.wrapClass?Wo(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var p=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=p||""}function ii(a,u,p,d){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var v=Wo(u);u.gutterBackground=J("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),a.display.input.setUneditable(u.gutterBackground),v.insertBefore(u.gutterBackground,u.text)}var b=u.line.gutterMarkers;if(a.options.lineNumbers||b){var E=Wo(u),M=u.gutter=J("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(M.setAttribute("aria-hidden","true"),a.display.input.setUneditable(M),E.insertBefore(M,u.text),u.line.gutterClass&&(M.className+=" "+u.line.gutterClass),a.options.lineNumbers&&(!b||!b["CodeMirror-linenumbers"])&&(u.lineNumber=M.appendChild(J("div",Qn(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),b)for(var j=0;j<a.display.gutterSpecs.length;++j){var H=a.display.gutterSpecs[j].className,st=b.hasOwnProperty(H)&&b[H];st&&M.appendChild(J("div",[st],"CodeMirror-gutter-elt","left: "+d.gutterLeft[H]+"px; width: "+d.gutterWidth[H]+"px"))}}}function Mu(a,u,p){u.alignable&&(u.alignable=null);for(var d=Y("CodeMirror-linewidget"),v=u.node.firstChild,b=void 0;v;v=b)b=v.nextSibling,d.test(v.className)&&u.node.removeChild(v);Ol(a,u,p)}function Lu(a,u,p,d){var v=ea(a,u);return u.text=u.node=v.pre,v.bgClass&&(u.bgClass=v.bgClass),v.textClass&&(u.textClass=v.textClass),bi(a,u),ii(a,u,p,d),Ol(a,u,d),u.node}function Ol(a,u,p){if(na(a,u.line,u,p,!0),u.rest)for(var d=0;d<u.rest.length;d++)na(a,u.rest[d],u,p,!1)}function na(a,u,p,d,v){if(u.widgets)for(var b=Wo(p),E=0,M=u.widgets;E<M.length;++E){var j=M[E],H=J("div",[j.node],"CodeMirror-linewidget"+(j.className?" "+j.className:""));j.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),Ps(j,H,p,d),a.display.input.setUneditable(H),v&&j.above?b.insertBefore(H,p.gutter||p.text):b.appendChild(H),Hn(j,"redraw")}}function Ps(a,u,p,d){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(u);var v=d.wrapperWidth;u.style.left=d.fixedPos+"px",a.coverGutter||(v-=d.gutterTotalWidth,u.style.paddingLeft=d.gutterTotalWidth+"px"),u.style.width=v+"px"}a.coverGutter&&(u.style.zIndex=5,u.style.position="relative",a.noHScroll||(u.style.marginLeft=-d.gutterTotalWidth+"px"))}function Ci(a){if(a.height!=null)return a.height;var u=a.doc.cm;if(!u)return 0;if(!yt(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+u.display.wrapper.clientWidth+"px;"),ht(u.display.measure,J("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function po(a,u){for(var p=pe(u);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function ra(a){return a.lineSpace.offsetTop}function oa(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function I(a){if(a.cachedPaddingH)return a.cachedPaddingH;var u=ht(a.measure,J("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(a.cachedPaddingH=d),d}function W(a){return ge-a.display.nativeBarWidth}function pt(a){return a.display.scroller.clientWidth-W(a)-a.display.barWidth}function wt(a){return a.display.scroller.clientHeight-W(a)-a.display.barHeight}function Nt(a,u,p){var d=a.options.lineWrapping,v=d&&pt(a);if(!u.measure.heights||d&&u.measure.width!=v){var b=u.measure.heights=[];if(d){u.measure.width=v;for(var E=u.text.firstChild.getClientRects(),M=0;M<E.length-1;M++){var j=E[M],H=E[M+1];Math.abs(j.bottom-H.bottom)>2&&b.push((j.bottom+H.top)/2-p.top)}}b.push(p.bottom-p.top)}}function kt(a,u,p){if(a.line==u)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var d=0;d<a.rest.length;d++)if(a.rest[d]==u)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var v=0;v<a.rest.length;v++)if(Qe(a.rest[v])>p)return{map:a.measure.maps[v],cache:a.measure.caches[v],before:!0}}}function Yt(a,u){u=wn(u);var p=Qe(u),d=a.display.externalMeasured=new za(a.doc,u,p);d.lineN=p;var v=d.built=Cl(a,d);return d.text=v.pre,ht(a.display.lineMeasure,v.pre),d}function fe(a,u,p,d){return gn(a,Me(a,u),p,d)}function Ve(a,u){if(u>=a.display.viewFrom&&u<a.display.viewTo)return a.display.view[Ga(a,u)];var p=a.display.externalMeasured;if(p&&u>=p.lineN&&u<p.lineN+p.size)return p}function Me(a,u){var p=Qe(u),d=Ve(a,p);d&&!d.text?d=null:d&&d.changes&&(Sl(a,d,p,nf(a)),a.curOp.forceUpdate=!0),d||(d=Yt(a,u));var v=kt(d,u,p);return{line:u,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function gn(a,u,p,d,v){u.before&&(p=-1);var b=p+(d||""),E;return u.cache.hasOwnProperty(b)?E=u.cache[b]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(Nt(a,u.view,u.rect),u.hasHeights=!0),E=Xv(a,u,p,d),E.bogus||(u.cache[b]=E)),{left:E.left,right:E.right,top:v?E.rtop:E.top,bottom:v?E.rbottom:E.bottom}}var cr={left:0,right:0,top:0,bottom:0};function Tl(a,u,p){for(var d,v,b,E,M,j,H=0;H<a.length;H+=3)if(M=a[H],j=a[H+1],u<M?(v=0,b=1,E="left"):u<j?(v=u-M,b=v+1):(H==a.length-3||u==j&&a[H+3]>u)&&(b=j-M,v=b-1,u>=j&&(E="right")),v!=null){if(d=a[H+2],M==j&&p==(d.insertLeft?"left":"right")&&(E=p),p=="left"&&v==0)for(;H&&a[H-2]==a[H-3]&&a[H-1].insertLeft;)d=a[(H-=3)+2],E="left";if(p=="right"&&v==j-M)for(;H<a.length-3&&a[H+3]==a[H+4]&&!a[H+5].insertLeft;)d=a[(H+=3)+2],E="right";break}return{node:d,start:v,end:b,collapse:E,coverStart:M,coverEnd:j}}function Ua(a,u){var p=cr;if(u=="left")for(var d=0;d<a.length&&(p=a[d]).left==p.right;d++);else for(var v=a.length-1;v>=0&&(p=a[v]).left==p.right;v--);return p}function Xv(a,u,p,d){var v=Tl(u.map,p,d),b=v.node,E=v.start,M=v.end,j=v.collapse,H;if(b.nodeType==3){for(var st=0;st<4;st++){for(;E&&Ae(u.line.text.charAt(v.coverStart+E));)--E;for(;v.coverStart+M<v.coverEnd&&Ae(u.line.text.charAt(v.coverStart+M));)++M;if(S&&T<9&&E==0&&M==v.coverEnd-v.coverStart?H=b.parentNode.getBoundingClientRect():H=Ua(D(b,E,M).getClientRects(),d),H.left||H.right||E==0)break;M=E,E=E-1,j="right"}S&&T<11&&(H=Zv(a.display.measure,H))}else{E>0&&(j=d="right");var gt;a.options.lineWrapping&&(gt=b.getClientRects()).length>1?H=gt[d=="right"?gt.length-1:0]:H=b.getBoundingClientRect()}if(S&&T<9&&!E&&(!H||!H.left&&!H.right)){var jt=b.parentNode.getClientRects()[0];jt?H={left:jt.left,right:jt.left+aa(a.display),top:jt.top,bottom:jt.bottom}:H=cr}for(var Tt=H.top-u.rect.top,Bt=H.bottom-u.rect.top,Xt=(Tt+Bt)/2,te=u.view.measure.heights,le=0;le<te.length-1&&!(Xt<te[le]);le++);var he=le?te[le-1]:0,ce=te[le],me={left:(j=="right"?H.right:H.left)-u.rect.left,right:(j=="left"?H.left:H.right)-u.rect.left,top:he,bottom:ce};return!H.left&&!H.right&&(me.bogus=!0),a.options.singleCursorHeightPerLine||(me.rtop=Tt,me.rbottom=Bt),me}function Zv(a,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Tr(a))return u;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*p,right:u.right*p,top:u.top*d,bottom:u.bottom*d}}function Kd(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var u=0;u<a.rest.length;u++)a.measure.caches[u]={}}function El(a){a.display.externalMeasure=null,Z(a.display.lineMeasure);for(var u=0;u<a.display.view.length;u++)Kd(a.display.view[u])}function ia(a){El(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Gd(a){return k&&U?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Yd(a){return k&&U?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Qc(a){var u=wn(a),p=u.widgets,d=0;if(p)for(var v=0;v<p.length;++v)p[v].above&&(d+=Ci(p[v]));return d}function Wa(a,u,p,d,v){if(!v){var b=Qc(u);p.top+=b,p.bottom+=b}if(d=="line")return p;d||(d="local");var E=Fn(u);if(d=="local"?E+=ra(a.display):E-=a.display.viewOffset,d=="page"||d=="window"){var M=a.display.lineSpace.getBoundingClientRect();E+=M.top+(d=="window"?0:Yd(Zt(a)));var j=M.left+(d=="window"?0:Gd(Zt(a)));p.left+=j,p.right+=j}return p.top+=E,p.bottom+=E,p}function ju(a,u,p){if(p=="div")return u;var d=u.left,v=u.top;if(p=="page")d-=Gd(Zt(a)),v-=Yd(Zt(a));else if(p=="local"||!p){var b=a.display.sizer.getBoundingClientRect();d+=b.left,v+=b.top}var E=a.display.lineSpace.getBoundingClientRect();return{left:d-E.left,top:v-E.top}}function Du(a,u,p,d,v){return d||(d=_e(a.doc,u.line)),Wa(a,d,fe(a,d,u.ch,v),p)}function Mo(a,u,p,d,v,b){d=d||_e(a.doc,u.line),v||(v=Me(a,d));function E(Bt,Xt){var te=gn(a,v,Bt,Xt?"right":"left",b);return Xt?te.left=te.right:te.right=te.left,Wa(a,d,te,p)}var M=Ze(d,a.doc.direction),j=u.ch,H=u.sticky;if(j>=d.text.length?(j=d.text.length,H="before"):j<=0&&(j=0,H="after"),!M)return E(H=="before"?j-1:j,H=="before");function st(Bt,Xt,te){var le=M[Xt],he=le.level==1;return E(te?Bt-1:Bt,he!=te)}var gt=Vn(M,j,H),jt=we,Tt=st(j,gt,H=="before");return jt!=null&&(Tt.other=st(j,jt,H!="before")),Tt}function qd(a,u){var p=0;u=Se(a.doc,u),a.options.lineWrapping||(p=aa(a.display)*u.ch);var d=_e(a.doc,u.line),v=Fn(d)+ra(a.display);return{left:p,right:p,top:v,bottom:v+d.height}}function ks(a,u,p,d,v){var b=V(a,u,p);return b.xRel=v,d&&(b.outside=d),b}function tf(a,u,p){var d=a.doc;if(p+=a.display.viewOffset,p<0)return ks(d.first,0,null,-1,-1);var v=To(d,p),b=d.first+d.size-1;if(v>b)return ks(d.first+d.size-1,_e(d,b).text.length,null,1,1);u<0&&(u=0);for(var E=_e(d,v);;){var M=ef(a,E,v,u,p),j=Ir(E,M.ch+(M.xRel>0||M.outside>0?1:0));if(!j)return M;var H=j.find(1);if(H.line==v)return H;E=_e(d,v=H.line)}}function Xd(a,u,p,d){d-=Qc(u);var v=u.text.length,b=Fe(function(E){return gn(a,p,E-1).bottom<=d},v,0);return v=Fe(function(E){return gn(a,p,E).top>d},b,v),{begin:b,end:v}}function Zd(a,u,p,d){p||(p=Me(a,u));var v=Wa(a,u,gn(a,p,d),"line").top;return Xd(a,u,p,v)}function As(a,u,p,d){return a.bottom<=p?!1:a.top>p?!0:(d?a.left:a.right)>u}function ef(a,u,p,d,v){v-=Fn(u);var b=Me(a,u),E=Qc(u),M=0,j=u.text.length,H=!0,st=Ze(u,a.doc.direction);if(st){var gt=(a.options.lineWrapping?Qv:Jv)(a,u,p,b,st,d,v);H=gt.level!=1,M=H?gt.from:gt.to-1,j=H?gt.to:gt.from-1}var jt=null,Tt=null,Bt=Fe(function(ke){var Ee=gn(a,b,ke);return Ee.top+=E,Ee.bottom+=E,As(Ee,d,v,!1)?(Ee.top<=v&&Ee.left<=d&&(jt=ke,Tt=Ee),!0):!1},M,j),Xt,te,le=!1;if(Tt){var he=d-Tt.left<Tt.right-d,ce=he==H;Bt=jt+(ce?0:1),te=ce?"after":"before",Xt=he?Tt.left:Tt.right}else{!H&&(Bt==j||Bt==M)&&Bt++,te=Bt==0?"after":Bt==u.text.length?"before":gn(a,b,Bt-(H?1:0)).bottom+E<=v==H?"after":"before";var me=Mo(a,V(p,Bt,te),"line",u,b);Xt=me.left,le=v<me.top?-1:v>=me.bottom?1:0}return Bt=Te(u.text,Bt,1),ks(p,Bt,te,le,d-Xt)}function Jv(a,u,p,d,v,b,E){var M=Fe(function(gt){var jt=v[gt],Tt=jt.level!=1;return As(Mo(a,V(p,Tt?jt.to:jt.from,Tt?"before":"after"),"line",u,d),b,E,!0)},0,v.length-1),j=v[M];if(M>0){var H=j.level!=1,st=Mo(a,V(p,H?j.from:j.to,H?"after":"before"),"line",u,d);As(st,b,E,!0)&&st.top>E&&(j=v[M-1])}return j}function Qv(a,u,p,d,v,b,E){var M=Xd(a,u,d,E),j=M.begin,H=M.end;/\s/.test(u.text.charAt(H-1))&&H--;for(var st=null,gt=null,jt=0;jt<v.length;jt++){var Tt=v[jt];if(!(Tt.from>=H||Tt.to<=j)){var Bt=Tt.level!=1,Xt=gn(a,d,Bt?Math.min(H,Tt.to)-1:Math.max(j,Tt.from)).right,te=Xt<b?b-Xt+1e9:Xt-b;(!st||gt>te)&&(st=Tt,gt=te)}}return st||(st=v[v.length-1]),st.from<j&&(st={from:j,to:st.to,level:st.level}),st.to>H&&(st={from:st.from,to:H,level:st.level}),st}var $a;function xi(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if($a==null){$a=J("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)$a.appendChild(document.createTextNode("x")),$a.appendChild(J("br"));$a.appendChild(document.createTextNode("x"))}ht(a.measure,$a);var p=$a.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),Z(a.measure),p||1}function aa(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var u=J("span","xxxxxxxxxx"),p=J("pre",[u],"CodeMirror-line-like");ht(a.measure,p);var d=u.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(a.cachedCharWidth=v),v||10}function nf(a){for(var u=a.display,p={},d={},v=u.gutters.clientLeft,b=u.gutters.firstChild,E=0;b;b=b.nextSibling,++E){var M=a.display.gutterSpecs[E].className;p[M]=b.offsetLeft+b.clientLeft+v,d[M]=b.clientWidth}return{fixedPos:Pl(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:u.wrapper.clientWidth}}function Pl(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Jd(a){var u=xi(a.display),p=a.options.lineWrapping,d=p&&Math.max(5,a.display.scroller.clientWidth/aa(a.display)-3);return function(v){if(fo(a.doc,v))return 0;var b=0;if(v.widgets)for(var E=0;E<v.widgets.length;E++)v.widgets[E].height&&(b+=v.widgets[E].height);return p?b+(Math.ceil(v.text.length/d)||1)*u:b+u}}function Ms(a){var u=a.doc,p=Jd(a);u.iter(function(d){var v=p(d);v!=d.height&&mr(d,v)})}function Ka(a,u,p,d){var v=a.display;if(!p&&pe(u).getAttribute("cm-not-content")=="true")return null;var b,E,M=v.lineSpace.getBoundingClientRect();try{b=u.clientX-M.left,E=u.clientY-M.top}catch{return null}var j=tf(a,b,E),H;if(d&&j.xRel>0&&(H=_e(a.doc,j.line).text).length==j.ch){var st=$t(H,H.length,a.options.tabSize)-H.length;j=V(j.line,Math.max(0,Math.round((b-I(a.display).left)/aa(a.display))-st))}return j}function Ga(a,u){if(u>=a.display.viewTo||(u-=a.display.viewFrom,u<0))return null;for(var p=a.display.view,d=0;d<p.length;d++)if(u-=p[d].size,u<0)return d}function Vr(a,u,p,d){u==null&&(u=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),d||(d=0);var v=a.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>u)&&(v.updateLineNumbers=u),a.curOp.viewChanged=!0,u>=v.viewTo)ao&&co(a.doc,u)<v.viewTo&&ai(a);else if(p<=v.viewFrom)ao&&ko(a.doc,p+d)>v.viewFrom?ai(a):(v.viewFrom+=d,v.viewTo+=d);else if(u<=v.viewFrom&&p>=v.viewTo)ai(a);else if(u<=v.viewFrom){var b=Nu(a,p,p+d,1);b?(v.view=v.view.slice(b.index),v.viewFrom=b.lineN,v.viewTo+=d):ai(a)}else if(p>=v.viewTo){var E=Nu(a,u,u,-1);E?(v.view=v.view.slice(0,E.index),v.viewTo=E.lineN):ai(a)}else{var M=Nu(a,u,u,-1),j=Nu(a,p,p+d,1);M&&j?(v.view=v.view.slice(0,M.index).concat(_i(a,M.lineN,j.lineN)).concat(v.view.slice(j.index)),v.viewTo+=d):ai(a)}var H=v.externalMeasured;H&&(p<H.lineN?H.lineN+=d:u<H.lineN+H.size&&(v.externalMeasured=null))}function $o(a,u,p){a.curOp.viewChanged=!0;var d=a.display,v=a.display.externalMeasured;if(v&&u>=v.lineN&&u<v.lineN+v.size&&(d.externalMeasured=null),!(u<d.viewFrom||u>=d.viewTo)){var b=d.view[Ga(a,u)];if(b.node!=null){var E=b.changes||(b.changes=[]);qt(E,p)==-1&&E.push(p)}}}function ai(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Nu(a,u,p,d){var v=Ga(a,u),b,E=a.display.view;if(!ao||p==a.doc.first+a.doc.size)return{index:v,lineN:p};for(var M=a.display.viewFrom,j=0;j<v;j++)M+=E[j].size;if(M!=u){if(d>0){if(v==E.length-1)return null;b=M+E[v].size-u,v++}else b=M-u;u+=b,p+=b}for(;co(a.doc,p)!=p;){if(v==(d<0?0:E.length-1))return null;p+=d*E[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function tg(a,u,p){var d=a.display,v=d.view;v.length==0||u>=d.viewTo||p<=d.viewFrom?(d.view=_i(a,u,p),d.viewFrom=u):(d.viewFrom>u?d.view=_i(a,u,d.viewFrom).concat(d.view):d.viewFrom<u&&(d.view=d.view.slice(Ga(a,u))),d.viewFrom=u,d.viewTo<p?d.view=d.view.concat(_i(a,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,Ga(a,p)))),d.viewTo=p}function Qd(a){for(var u=a.display.view,p=0,d=0;d<u.length;d++){var v=u[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function sa(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Iu(a,u){u===void 0&&(u=!0);var p=a.doc,d={},v=d.cursors=document.createDocumentFragment(),b=d.selection=document.createDocumentFragment(),E=a.options.$customCursor;E&&(u=!0);for(var M=0;M<p.sel.ranges.length;M++)if(!(!u&&M==p.sel.primIndex)){var j=p.sel.ranges[M];if(!(j.from().line>=a.display.viewTo||j.to().line<a.display.viewFrom)){var H=j.empty();if(E){var st=E(a,j);st&&rf(a,st,v)}else(H||a.options.showCursorWhenSelecting)&&rf(a,j.head,v);H||eg(a,j,b)}}return d}function rf(a,u,p){var d=Mo(a,u,"div",null,null,!a.options.singleCursorHeightPerLine),v=p.appendChild(J("div","","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var b=Du(a,u,"div",null,null),E=b.right-b.left;v.style.width=(E>0?E:a.defaultCharWidth())+"px"}if(d.other){var M=p.appendChild(J("div","","CodeMirror-cursor CodeMirror-secondarycursor"));M.style.display="",M.style.left=d.other.left+"px",M.style.top=d.other.top+"px",M.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function Vu(a,u){return a.top-u.top||a.left-u.left}function eg(a,u,p){var d=a.display,v=a.doc,b=document.createDocumentFragment(),E=I(a.display),M=E.left,j=Math.max(d.sizerWidth,pt(a)-d.sizer.offsetLeft)-E.right,H=v.direction=="ltr";function st(ce,me,ke,Ee){me<0&&(me=0),me=Math.round(me),Ee=Math.round(Ee),b.appendChild(J("div",null,"CodeMirror-selected","position: absolute; left: "+ce+`px;
                             top: `+me+"px; width: "+(ke??j-ce)+`px;
                             height: `+(Ee-me)+"px"))}function gt(ce,me,ke){var Ee=_e(v,ce),Ke=Ee.text.length,yn,tr;function _n(Un,Hr){return Du(a,V(ce,Un),"div",Ee,Hr)}function Zr(Un,Hr,fr){var er=Zd(a,Ee,null,Un),Kn=Hr=="ltr"==(fr=="after")?"left":"right",Mn=fr=="after"?er.begin:er.end-(/\s/.test(Ee.text.charAt(er.end-1))?2:1);return _n(Mn,Kn)[Kn]}var kr=Ze(Ee,v.direction);return qe(kr,me||0,ke??Ke,function(Un,Hr,fr,er){var Kn=fr=="ltr",Mn=_n(Un,Kn?"left":"right"),sr=_n(Hr-1,Kn?"right":"left"),Ai=me==null&&Un==0,ma=ke==null&&Hr==Ke,dr=er==0,li=!kr||er==kr.length-1;if(sr.top-Mn.top<=3){var lr=(H?Ai:ma)&&dr,Rf=(H?ma:Ai)&&li,Mi=lr?M:(Kn?Mn:sr).left,ya=Rf?j:(Kn?sr:Mn).right;st(Mi,Mn.top,ya-Mi,Mn.bottom)}else{var is,Ar,as,Ff;Kn?(is=H&&Ai&&dr?M:Mn.left,Ar=H?j:Zr(Un,fr,"before"),as=H?M:Zr(Hr,fr,"after"),Ff=H&&ma&&li?j:sr.right):(is=H?Zr(Un,fr,"before"):M,Ar=!H&&Ai&&dr?j:Mn.right,as=!H&&ma&&li?M:sr.left,Ff=H?Zr(Hr,fr,"after"):j),st(is,Mn.top,Ar-is,Mn.bottom),Mn.bottom<sr.top&&st(M,Mn.bottom,null,sr.top),st(as,sr.top,Ff-as,sr.bottom)}(!yn||Vu(Mn,yn)<0)&&(yn=Mn),Vu(sr,yn)<0&&(yn=sr),(!tr||Vu(Mn,tr)<0)&&(tr=Mn),Vu(sr,tr)<0&&(tr=sr)}),{start:yn,end:tr}}var jt=u.from(),Tt=u.to();if(jt.line==Tt.line)gt(jt.line,jt.ch,Tt.ch);else{var Bt=_e(v,jt.line),Xt=_e(v,Tt.line),te=wn(Bt)==wn(Xt),le=gt(jt.line,jt.ch,te?Bt.text.length+1:null).end,he=gt(Tt.line,te?0:null,Tt.ch).start;te&&(le.top<he.top-2?(st(le.right,le.top,null,le.bottom),st(M,he.top,he.left,he.bottom)):st(le.right,le.top,he.left-le.right,le.bottom)),le.bottom<he.top&&st(M,le.bottom,null,he.top)}p.appendChild(b)}function Ls(a){if(a.state.focused){var u=a.display;clearInterval(u.blinker);var p=!0;u.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?u.blinker=setInterval(function(){a.hasFocus()||js(a),u.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function of(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||sf(a))}function af(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&js(a))},100)}function sf(a,u){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(sn(a,"focus",a,u),a.state.focused=!0,et(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),O&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Ls(a))}function js(a,u){a.state.delayingBlurEvent||(a.state.focused&&(sn(a,"blur",a,u),a.state.focused=!1,q(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Ya(a){for(var u=a.display,p=u.lineDiv.offsetTop,d=Math.max(0,u.scroller.getBoundingClientRect().top),v=u.lineDiv.getBoundingClientRect().top,b=0,E=0;E<u.view.length;E++){var M=u.view[E],j=a.options.lineWrapping,H=void 0,st=0;if(!M.hidden){if(v+=M.line.height,S&&T<8){var gt=M.node.offsetTop+M.node.offsetHeight;H=gt-p,p=gt}else{var jt=M.node.getBoundingClientRect();H=jt.bottom-jt.top,!j&&M.text.firstChild&&(st=M.text.firstChild.getBoundingClientRect().right-jt.left-1)}var Tt=M.line.height-H;if((Tt>.005||Tt<-.005)&&(v<d&&(b-=Tt),mr(M.line,H),Ru(M.line),M.rest))for(var Bt=0;Bt<M.rest.length;Bt++)Ru(M.rest[Bt]);if(st>a.display.sizerWidth){var Xt=Math.ceil(st/aa(a.display));Xt>a.display.maxLineLength&&(a.display.maxLineLength=Xt,a.display.maxLine=M.line,a.display.maxLineChanged=!0)}}}Math.abs(b)>2&&(u.scroller.scrollTop+=b)}function Ru(a){if(a.widgets)for(var u=0;u<a.widgets.length;++u){var p=a.widgets[u],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function Si(a,u,p){var d=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;d=Math.floor(d-ra(a));var v=p&&p.bottom!=null?p.bottom:d+a.wrapper.clientHeight,b=To(u,d),E=To(u,v);if(p&&p.ensure){var M=p.ensure.from.line,j=p.ensure.to.line;M<b?(b=M,E=To(u,Fn(_e(u,M))+a.wrapper.clientHeight)):Math.min(j,u.lastLine())>=E&&(b=To(u,Fn(_e(u,j))-a.wrapper.clientHeight),E=j)}return{from:b,to:Math.max(E,b+1)}}function Ds(a,u){if(!hn(a,"scrollCursorIntoView")){var p=a.display,d=p.sizer.getBoundingClientRect(),v=null,b=p.wrapper.ownerDocument;if(u.top+d.top<0?v=!0:u.bottom+d.top>(b.defaultView.innerHeight||b.documentElement.clientHeight)&&(v=!1),v!=null&&!dt){var E=J("div","",null,`position: absolute;
                         top: `+(u.top-p.viewOffset-ra(a.display))+`px;
                         height: `+(u.bottom-u.top+W(a)+p.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");a.display.lineSpace.appendChild(E),E.scrollIntoView(v),a.display.lineSpace.removeChild(E)}}}function Ns(a,u,p,d){d==null&&(d=0);var v;!a.options.lineWrapping&&u==p&&(p=u.sticky=="before"?V(u.line,u.ch+1,"before"):u,u=u.ch?V(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var b=0;b<5;b++){var E=!1,M=Mo(a,u),j=!p||p==u?M:Mo(a,p);v={left:Math.min(M.left,j.left),top:Math.min(M.top,j.top)-d,right:Math.max(M.left,j.left),bottom:Math.max(M.bottom,j.bottom)+d};var H=kl(a,v),st=a.doc.scrollTop,gt=a.doc.scrollLeft;if(H.scrollTop!=null&&(Ml(a,H.scrollTop),Math.abs(a.doc.scrollTop-st)>1&&(E=!0)),H.scrollLeft!=null&&(la(a,H.scrollLeft),Math.abs(a.doc.scrollLeft-gt)>1&&(E=!0)),!E)break}return v}function tp(a,u){var p=kl(a,u);p.scrollTop!=null&&Ml(a,p.scrollTop),p.scrollLeft!=null&&la(a,p.scrollLeft)}function kl(a,u){var p=a.display,d=xi(a.display);u.top<0&&(u.top=0);var v=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,b=wt(a),E={};u.bottom-u.top>b&&(u.bottom=u.top+b);var M=a.doc.height+oa(p),j=u.top<d,H=u.bottom>M-d;if(u.top<v)E.scrollTop=j?0:u.top;else if(u.bottom>v+b){var st=Math.min(u.top,(H?M:u.bottom)-b);st!=v&&(E.scrollTop=st)}var gt=a.options.fixedGutter?0:p.gutters.offsetWidth,jt=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-gt,Tt=pt(a)-p.gutters.offsetWidth,Bt=u.right-u.left>Tt;return Bt&&(u.right=u.left+Tt),u.left<10?E.scrollLeft=0:u.left<jt?E.scrollLeft=Math.max(0,u.left+gt-(Bt?0:10)):u.right>Tt+jt-3&&(E.scrollLeft=u.right+(Bt?0:10)-Tt),E}function lf(a,u){u!=null&&(Hu(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+u)}function Is(a){Hu(a);var u=a.getCursor();a.curOp.scrollToPos={from:u,to:u,margin:a.options.cursorScrollMargin}}function Al(a,u,p){(u!=null||p!=null)&&Hu(a),u!=null&&(a.curOp.scrollLeft=u),p!=null&&(a.curOp.scrollTop=p)}function Fu(a,u){Hu(a),a.curOp.scrollToPos=u}function Hu(a){var u=a.curOp.scrollToPos;if(u){a.curOp.scrollToPos=null;var p=qd(a,u.from),d=qd(a,u.to);ep(a,p,d,u.margin)}}function ep(a,u,p,d){var v=kl(a,{left:Math.min(u.left,p.left),top:Math.min(u.top,p.top)-d,right:Math.max(u.right,p.right),bottom:Math.max(u.bottom,p.bottom)+d});Al(a,v.scrollLeft,v.scrollTop)}function Ml(a,u){Math.abs(a.doc.scrollTop-u)<2||(g||ff(a,{top:u}),np(a,u,!0),g&&ff(a),Dl(a,100))}function np(a,u,p){u=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,u)),!(a.display.scroller.scrollTop==u&&!p)&&(a.doc.scrollTop=u,a.display.scrollbars.setScrollTop(u),a.display.scroller.scrollTop!=u&&(a.display.scroller.scrollTop=u))}function la(a,u,p,d){u=Math.max(0,Math.min(u,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?u==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-u)<2)&&!d)&&(a.doc.scrollLeft=u,lp(a),a.display.scroller.scrollLeft!=u&&(a.display.scroller.scrollLeft=u),a.display.scrollbars.setScrollLeft(u))}function Ll(a){var u=a.display,p=u.gutters.offsetWidth,d=Math.round(a.doc.height+oa(a.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+W(a)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:p}}var Rr=function(a,u,p){this.cm=p;var d=this.vert=J("div",[J("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=J("div",[J("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,a(d),a(v),xe(d,"scroll",function(){d.clientHeight&&u(d.scrollTop,"vertical")}),xe(v,"scroll",function(){v.clientWidth&&u(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Rr.prototype.update=function(a){var u=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=u?d+"px":"0";var v=a.viewHeight-(u?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+v)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var b=a.viewWidth-a.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+b)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:u?d:0}},Rr.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rr.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rr.prototype.zeroWidthHack=function(){var a=X&&!ot?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Kt,this.disableVert=new Kt},Rr.prototype.enableZeroWidthBar=function(a,u,p){a.style.visibility="";function d(){var v=a.getBoundingClientRect(),b=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);b!=a?a.style.visibility="hidden":u.set(1e3,d)}u.set(1e3,d)},Rr.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var jl=function(){};jl.prototype.update=function(){return{bottom:0,right:0}},jl.prototype.setScrollLeft=function(){},jl.prototype.setScrollTop=function(){},jl.prototype.clear=function(){};function kn(a,u){u||(u=Ll(a));var p=a.display.barWidth,d=a.display.barHeight;rp(a,u);for(var v=0;v<4&&p!=a.display.barWidth||d!=a.display.barHeight;v++)p!=a.display.barWidth&&a.options.lineWrapping&&Ya(a),rp(a,Ll(a)),p=a.display.barWidth,d=a.display.barHeight}function rp(a,u){var p=a.display,d=p.scrollbars.update(u);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=u.gutterWidth+"px"):p.gutterFiller.style.display=""}var op={native:Rr,null:jl};function uf(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&q(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new op[a.options.scrollbarStyle](function(u){a.display.wrapper.insertBefore(u,a.display.scrollbarFiller),xe(u,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,p){p=="horizontal"?la(a,u):Ml(a,u)},a),a.display.scrollbars.addClass&&et(a.display.wrapper,a.display.scrollbars.addClass)}var ng=0;function qa(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ng,markArrays:null},Pu(a.curOp)}function Xa(a){var u=a.curOp;u&&ta(u,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;rg(p)})}function rg(a){for(var u=a.ops,p=0;p<u.length;p++)og(u[p]);for(var d=0;d<u.length;d++)ig(u[d]);for(var v=0;v<u.length;v++)ag(u[v]);for(var b=0;b<u.length;b++)sg(u[b]);for(var E=0;E<u.length;E++)Bu(u[E])}function og(a){var u=a.cm,p=u.display;lg(u),a.updateMaxLine&&Ji(u),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&u.options.lineWrapping,a.update=a.mustUpdate&&new zu(u,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function ig(a){a.updatedDisplay=a.mustUpdate&&cf(a.cm,a.update)}function ag(a){var u=a.cm,p=u.display;a.updatedDisplay&&Ya(u),a.barMeasure=Ll(u),p.maxLineChanged&&!u.options.lineWrapping&&(a.adjustWidthTo=fe(u,p.maxLine,p.maxLine.text.length).left+3,u.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+W(u)+u.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-pt(u))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function sg(a){var u=a.cm;a.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<u.doc.scrollLeft&&la(u,Math.min(u.display.scroller.scrollLeft,a.maxScrollLeft),!0),u.display.maxLineChanged=!1);var p=a.focus&&a.focus==rt(Zt(u));a.preparedSelection&&u.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=u.doc.height)&&kn(u,a.barMeasure),a.updatedDisplay&&pf(u,a.barMeasure),a.selectionChanged&&Ls(u),u.state.focused&&a.updateInput&&u.display.input.reset(a.typing),p&&of(a.cm)}function Bu(a){var u=a.cm,p=u.display,d=u.doc;if(a.updatedDisplay&&sp(u,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&np(u,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&la(u,a.scrollLeft,!0,!0),a.scrollToPos){var v=Ns(u,Se(d,a.scrollToPos.from),Se(d,a.scrollToPos.to),a.scrollToPos.margin);Ds(u,v)}var b=a.maybeHiddenMarkers,E=a.maybeUnhiddenMarkers;if(b)for(var M=0;M<b.length;++M)b[M].lines.length||sn(b[M],"hide");if(E)for(var j=0;j<E.length;++j)E[j].lines.length&&sn(E[j],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=u.display.scroller.scrollTop),a.changeObjs&&sn(u,"changes",u,a.changeObjs),a.update&&a.update.finish()}function Xr(a,u){if(a.curOp)return u();qa(a);try{return u()}finally{Xa(a)}}function An(a,u){return function(){if(a.curOp)return u.apply(a,arguments);qa(a);try{return u.apply(a,arguments)}finally{Xa(a)}}}function ar(a){return function(){if(this.curOp)return a.apply(this,arguments);qa(this);try{return a.apply(this,arguments)}finally{Xa(this)}}}function Bn(a){return function(){var u=this.cm;if(!u||u.curOp)return a.apply(this,arguments);qa(u);try{return a.apply(this,arguments)}finally{Xa(u)}}}function Dl(a,u){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(u,Ht(ip,a))}function ip(a){var u=a.doc;if(!(u.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,d=Ia(a,u.highlightFrontier),v=[];u.iter(d.line,Math.min(u.first+u.size,a.display.viewTo+500),function(b){if(d.line>=a.display.viewFrom){var E=b.styles,M=b.text.length>a.options.maxHighlightLength?$r(u.mode,d.state):null,j=zi(a,b,d,!0);M&&(d.state=M),b.styles=j.styles;var H=b.styleClasses,st=j.classes;st?b.styleClasses=st:H&&(b.styleClasses=null);for(var gt=!E||E.length!=b.styles.length||H!=st&&(!H||!st||H.bgClass!=st.bgClass||H.textClass!=st.textClass),jt=0;!gt&&jt<E.length;++jt)gt=E[jt]!=b.styles[jt];gt&&v.push(d.line),b.stateAfter=d.save(),d.nextLine()}else b.text.length<=a.options.maxHighlightLength&&xs(a,b.text,d),b.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Dl(a,a.options.workDelay),!0}),u.highlightFrontier=d.line,u.modeFrontier=Math.max(u.modeFrontier,d.line),v.length&&Xr(a,function(){for(var b=0;b<v.length;b++)$o(a,v[b],"text")})}}var zu=function(a,u,p){var d=a.display;this.viewport=u,this.visible=Si(d,a.doc,u),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=pt(a),this.force=p,this.dims=nf(a),this.events=[]};zu.prototype.signal=function(a,u){En(a,u)&&this.events.push(arguments)},zu.prototype.finish=function(){for(var a=0;a<this.events.length;a++)sn.apply(null,this.events[a])};function lg(a){var u=a.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=W(a)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=W(a)+"px",u.scrollbarsClipped=!0)}function ap(a){if(a.hasFocus())return null;var u=rt(Zt(a));if(!u||!yt(a.display.lineDiv,u))return null;var p={activeElt:u};if(window.getSelection){var d=Et(a).getSelection();d.anchorNode&&d.extend&&yt(a.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function ug(a){if(!(!a||!a.activeElt||a.activeElt==rt(a.activeElt.ownerDocument))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&yt(document.body,a.anchorNode)&&yt(document.body,a.focusNode))){var u=a.activeElt.ownerDocument,p=u.defaultView.getSelection(),d=u.createRange();d.setEnd(a.anchorNode,a.anchorOffset),d.collapse(!1),p.removeAllRanges(),p.addRange(d),p.extend(a.focusNode,a.focusOffset)}}function cf(a,u){var p=a.display,d=a.doc;if(u.editorIsHidden)return ai(a),!1;if(!u.force&&u.visible.from>=p.viewFrom&&u.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Qd(a)==0)return!1;up(a)&&(ai(a),u.dims=nf(a));var v=d.first+d.size,b=Math.max(u.visible.from-a.options.viewportMargin,d.first),E=Math.min(v,u.visible.to+a.options.viewportMargin);p.viewFrom<b&&b-p.viewFrom<20&&(b=Math.max(d.first,p.viewFrom)),p.viewTo>E&&p.viewTo-E<20&&(E=Math.min(v,p.viewTo)),ao&&(b=co(a.doc,b),E=ko(a.doc,E));var M=b!=p.viewFrom||E!=p.viewTo||p.lastWrapHeight!=u.wrapperHeight||p.lastWrapWidth!=u.wrapperWidth;tg(a,b,E),p.viewOffset=Fn(_e(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var j=Qd(a);if(!M&&j==0&&!u.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var H=ap(a);return j>4&&(p.lineDiv.style.display="none"),cg(a,p.updateLineNumbers,u.dims),j>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,ug(H),Z(p.cursorDiv),Z(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,M&&(p.lastWrapHeight=u.wrapperHeight,p.lastWrapWidth=u.wrapperWidth,Dl(a,400)),p.updateLineNumbers=null,!0}function sp(a,u){for(var p=u.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||u.oldDisplayWidth==pt(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+oa(a.display)-wt(a),p.top)}),u.visible=Si(a.display,a.doc,p),u.visible.from>=a.display.viewFrom&&u.visible.to<=a.display.viewTo)break}else d&&(u.visible=Si(a.display,a.doc,p));if(!cf(a,u))break;Ya(a);var v=Ll(a);sa(a),kn(a,v),pf(a,v),u.force=!1}u.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(u.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function ff(a,u){var p=new zu(a,u);if(cf(a,p)){Ya(a),sp(a,p);var d=Ll(a);sa(a),kn(a,d),pf(a,d),p.finish()}}function cg(a,u,p){var d=a.display,v=a.options.lineNumbers,b=d.lineDiv,E=b.firstChild;function M(Bt){var Xt=Bt.nextSibling;return O&&X&&a.display.currentWheelTarget==Bt?Bt.style.display="none":Bt.parentNode.removeChild(Bt),Xt}for(var j=d.view,H=d.viewFrom,st=0;st<j.length;st++){var gt=j[st];if(!gt.hidden)if(!gt.node||gt.node.parentNode!=b){var jt=Lu(a,gt,H,p);b.insertBefore(jt,E)}else{for(;E!=gt.node;)E=M(E);var Tt=v&&u!=null&&u<=H&&gt.lineNumber;gt.changes&&(qt(gt.changes,"gutter")>-1&&(Tt=!1),Sl(a,gt,H,p)),Tt&&(Z(gt.lineNumber),gt.lineNumber.appendChild(document.createTextNode(Qn(a.options,H)))),E=gt.node.nextSibling}H+=gt.size}for(;E;)E=M(E)}function df(a){var u=a.gutters.offsetWidth;a.sizer.style.marginLeft=u+"px",Hn(a,"gutterChanged",a)}function pf(a,u){a.display.sizer.style.minHeight=u.docHeight+"px",a.display.heightForcer.style.top=u.docHeight+"px",a.display.gutters.style.height=u.docHeight+a.display.barHeight+W(a)+"px"}function lp(a){var u=a.display,p=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!a.options.fixedGutter))){for(var d=Pl(u)-u.scroller.scrollLeft+a.doc.scrollLeft,v=u.gutters.offsetWidth,b=d+"px",E=0;E<p.length;E++)if(!p[E].hidden){a.options.fixedGutter&&(p[E].gutter&&(p[E].gutter.style.left=b),p[E].gutterBackground&&(p[E].gutterBackground.style.left=b));var M=p[E].alignable;if(M)for(var j=0;j<M.length;j++)M[j].style.left=b}a.options.fixedGutter&&(u.gutters.style.left=d+v+"px")}}function up(a){if(!a.options.lineNumbers)return!1;var u=a.doc,p=Qn(a.options,u.first+u.size-1),d=a.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(J("div",[J("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),b=v.firstChild.offsetWidth,E=v.offsetWidth-b;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(b,d.lineGutter.offsetWidth-E)+1,d.lineNumWidth=d.lineNumInnerWidth+E,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",df(a.display),!0}return!1}function hf(a,u){for(var p=[],d=!1,v=0;v<a.length;v++){var b=a[v],E=null;if(typeof b!="string"&&(E=b.style,b=b.className),b=="CodeMirror-linenumbers")if(u)d=!0;else continue;p.push({className:b,style:E})}return u&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function cp(a){var u=a.gutters,p=a.gutterSpecs;Z(u),a.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],b=v.className,E=v.style,M=u.appendChild(J("div",null,"CodeMirror-gutter "+b));E&&(M.style.cssText=E),b=="CodeMirror-linenumbers"&&(a.lineGutter=M,M.style.width=(a.lineNumWidth||1)+"px")}u.style.display=p.length?"":"none",df(a)}function Vs(a){cp(a.display),Vr(a),lp(a)}function fg(a,u,p,d){var v=this;this.input=p,v.scrollbarFiller=J("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=J("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=xt("div",null,"CodeMirror-code"),v.selectionDiv=J("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=J("div",null,"CodeMirror-cursors"),v.measure=J("div",null,"CodeMirror-measure"),v.lineMeasure=J("div",null,"CodeMirror-measure"),v.lineSpace=xt("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var b=xt("div",[v.lineSpace],"CodeMirror-lines");v.mover=J("div",[b],null,"position: relative"),v.sizer=J("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=J("div",null,null,"position: absolute; height: "+ge+"px; width: 1px;"),v.gutters=J("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=J("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=J("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),k&&L>=105&&(v.wrapper.style.clipPath="inset(0px)"),v.wrapper.setAttribute("translate","no"),S&&T<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!O&&!(g&&K)&&(v.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(v.wrapper):a(v.wrapper)),v.viewFrom=v.viewTo=u.first,v.reportedViewFrom=v.reportedViewTo=u.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=hf(d.gutters,d.lineNumbers),cp(v),p.init(v)}var Uu=0,Oi=null;S?Oi=-.53:g?Oi=15:k?Oi=-.7:z&&(Oi=-1/3);function fp(a){var u=a.wheelDeltaX,p=a.wheelDeltaY;return u==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(u=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:u,y:p}}function dg(a){var u=fp(a);return u.x*=Oi,u.y*=Oi,u}function dp(a,u){k&&L==102&&(a.display.chromeScrollHack==null?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var p=fp(u),d=p.x,v=p.y,b=Oi;u.deltaMode===0&&(d=u.deltaX,v=u.deltaY,b=1);var E=a.display,M=E.scroller,j=M.scrollWidth>M.clientWidth,H=M.scrollHeight>M.clientHeight;if(d&&j||v&&H){if(v&&X&&O){t:for(var st=u.target,gt=E.view;st!=M;st=st.parentNode)for(var jt=0;jt<gt.length;jt++)if(gt[jt].node==st){a.display.currentWheelTarget=st;break t}}if(d&&!g&&!R&&b!=null){v&&H&&Ml(a,Math.max(0,M.scrollTop+v*b)),la(a,Math.max(0,M.scrollLeft+d*b)),(!v||v&&H)&&Q(u),E.wheelStartX=null;return}if(v&&b!=null){var Tt=v*b,Bt=a.doc.scrollTop,Xt=Bt+E.wrapper.clientHeight;Tt<0?Bt=Math.max(0,Bt+Tt-50):Xt=Math.min(a.doc.height,Xt+Tt+50),ff(a,{top:Bt,bottom:Xt})}Uu<20&&u.deltaMode!==0&&(E.wheelStartX==null?(E.wheelStartX=M.scrollLeft,E.wheelStartY=M.scrollTop,E.wheelDX=d,E.wheelDY=v,setTimeout(function(){if(E.wheelStartX!=null){var te=M.scrollLeft-E.wheelStartX,le=M.scrollTop-E.wheelStartY,he=le&&E.wheelDY&&le/E.wheelDY||te&&E.wheelDX&&te/E.wheelDX;E.wheelStartX=E.wheelStartY=null,he&&(Oi=(Oi*Uu+he)/(Uu+1),++Uu)}},200)):(E.wheelDX+=d,E.wheelDY+=v))}}var ho=function(a,u){this.ranges=a,this.primIndex=u};ho.prototype.primary=function(){return this.ranges[this.primIndex]},ho.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var p=this.ranges[u],d=a.ranges[u];if(!Ut(p.anchor,d.anchor)||!Ut(p.head,d.head))return!1}return!0},ho.prototype.deepCopy=function(){for(var a=[],u=0;u<this.ranges.length;u++)a[u]=new cn(Qt(this.ranges[u].anchor),Qt(this.ranges[u].head));return new ho(a,this.primIndex)},ho.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ho.prototype.contains=function(a,u){u||(u=a);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(it(u,d.from())>=0&&it(a,d.to())<=0)return p}return-1};var cn=function(a,u){this.anchor=a,this.head=u};cn.prototype.from=function(){return Be(this.anchor,this.head)},cn.prototype.to=function(){return Ne(this.anchor,this.head)},cn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ko(a,u,p){var d=a&&a.options.selectionsMayTouch,v=u[p];u.sort(function(jt,Tt){return it(jt.from(),Tt.from())}),p=qt(u,v);for(var b=1;b<u.length;b++){var E=u[b],M=u[b-1],j=it(M.to(),E.from());if(d&&!E.empty()?j>0:j>=0){var H=Be(M.from(),E.from()),st=Ne(M.to(),E.to()),gt=M.empty()?E.from()==E.head:M.from()==M.head;b<=p&&--p,u.splice(--b,2,new cn(gt?st:H,gt?H:st))}}return new ho(u,p)}function ua(a,u){return new ho([new cn(a,u||a)],0)}function ca(a){return a.text?V(a.from.line+a.text.length-1,ie(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function pp(a,u){if(it(a,u.from)<0)return a;if(it(a,u.to)<=0)return ca(u);var p=a.line+u.text.length-(u.to.line-u.from.line)-1,d=a.ch;return a.line==u.to.line&&(d+=ca(u).ch-u.to.ch),V(p,d)}function vf(a,u){for(var p=[],d=0;d<a.sel.ranges.length;d++){var v=a.sel.ranges[d];p.push(new cn(pp(v.anchor,u),pp(v.head,u)))}return Ko(a.cm,p,a.sel.primIndex)}function hp(a,u,p){return a.line==u.line?V(p.line,a.ch-u.ch+p.ch):V(p.line+(a.line-u.line),a.ch)}function pg(a,u,p){for(var d=[],v=V(a.first,0),b=v,E=0;E<u.length;E++){var M=u[E],j=hp(M.from,v,b),H=hp(ca(M),v,b);if(v=M.to,b=H,p=="around"){var st=a.sel.ranges[E],gt=it(st.head,st.anchor)<0;d[E]=new cn(gt?H:j,gt?j:H)}else d[E]=new cn(j,j)}return new ho(d,a.sel.primIndex)}function gf(a){a.doc.mode=Oo(a.options,a.doc.modeOption),Nl(a)}function Nl(a){a.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Dl(a,100),a.state.modeGen++,a.curOp&&Vr(a)}function vp(a,u){return u.from.ch==0&&u.to.ch==0&&ie(u.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function mf(a,u,p,d){function v(he){return p?p[he]:null}function b(he,ce,me){_l(he,ce,me,d),Hn(he,"change",he,u)}function E(he,ce){for(var me=[],ke=he;ke<ce;++ke)me.push(new yi(H[ke],v(ke),d));return me}var M=u.from,j=u.to,H=u.text,st=_e(a,M.line),gt=_e(a,j.line),jt=ie(H),Tt=v(H.length-1),Bt=j.line-M.line;if(u.full)a.insert(0,E(0,H.length)),a.remove(H.length,a.size-H.length);else if(vp(a,u)){var Xt=E(0,H.length-1);b(gt,gt.text,Tt),Bt&&a.remove(M.line,Bt),Xt.length&&a.insert(M.line,Xt)}else if(st==gt)if(H.length==1)b(st,st.text.slice(0,M.ch)+jt+st.text.slice(j.ch),Tt);else{var te=E(1,H.length-1);te.push(new yi(jt+st.text.slice(j.ch),Tt,d)),b(st,st.text.slice(0,M.ch)+H[0],v(0)),a.insert(M.line+1,te)}else if(H.length==1)b(st,st.text.slice(0,M.ch)+H[0]+gt.text.slice(j.ch),v(0)),a.remove(M.line+1,Bt);else{b(st,st.text.slice(0,M.ch)+H[0],v(0)),b(gt,jt+gt.text.slice(j.ch),Tt);var le=E(1,H.length-1);Bt>1&&a.remove(M.line+1,Bt-1),a.insert(M.line+1,le)}Hn(a,"change",a,u)}function fa(a,u,p){function d(v,b,E){if(v.linked)for(var M=0;M<v.linked.length;++M){var j=v.linked[M];if(j.doc!=b){var H=E&&j.sharedHist;p&&!H||(u(j.doc,H),d(j.doc,v,H))}}}d(a,null,!0)}function gp(a,u){if(u.cm)throw new Error("This document is already in use.");a.doc=u,u.cm=a,Ms(a),gf(a),mp(a),a.options.direction=u.direction,a.options.lineWrapping||Ji(a),a.options.mode=u.modeOption,Vr(a)}function mp(a){(a.doc.direction=="rtl"?et:q)(a.display.lineDiv,"CodeMirror-rtl")}function hg(a){Xr(a,function(){mp(a),Vr(a)})}function _r(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function yf(a,u){var p={from:Qt(u.from),to:ca(u),text:Gr(a,u.from,u.to)};return wp(a,p,u.from.line,u.to.line+1),fa(a,function(d){return wp(d,p,u.from.line,u.to.line+1)},!0),p}function Rs(a){for(;a.length;){var u=ie(a);if(u.ranges)a.pop();else break}}function vg(a,u){if(u)return Rs(a.done),ie(a.done);if(a.done.length&&!ie(a.done).ranges)return ie(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),ie(a.done)}function yp(a,u,p,d){var v=a.history;v.undone.length=0;var b=+new Date,E,M;if((v.lastOp==d||v.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&v.lastModTime>b-(a.cm?a.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(E=vg(v,v.lastOp==d)))M=ie(E.changes),it(u.from,u.to)==0&&it(u.from,M.to)==0?M.to=ca(u):E.changes.push(yf(a,u));else{var j=ie(v.done);for((!j||!j.ranges)&&Wu(a.sel,v.done),E={changes:[yf(a,u)],generation:v.generation},v.done.push(E);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=b,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=u.origin,M||sn(a,"historyAdded")}function gg(a,u,p,d){var v=u.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function mg(a,u,p,d){var v=a.history,b=d&&d.origin;p==v.lastSelOp||b&&v.lastSelOrigin==b&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==b||gg(a,b,ie(v.done),u))?v.done[v.done.length-1]=u:Wu(u,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=b,v.lastSelOp=p,d&&d.clearRedo!==!1&&Rs(v.undone)}function Wu(a,u){var p=ie(u);p&&p.ranges&&p.equals(a)||u.push(a)}function wp(a,u,p,d){var v=u["spans_"+a.id],b=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,d),function(E){E.markedSpans&&((v||(v=u["spans_"+a.id]={}))[b]=E.markedSpans),++b})}function yg(a){if(!a)return null;for(var u,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?u||(u=a.slice(0,p)):u&&u.push(a[p]);return u?u.length?u:null:a}function wg(a,u){var p=u["spans_"+a.id];if(!p)return null;for(var d=[],v=0;v<u.text.length;++v)d.push(yg(p[v]));return d}function _p(a,u){var p=wg(a,u),d=Ra(a,u);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var b=p[v],E=d[v];if(b&&E)t:for(var M=0;M<E.length;++M){for(var j=E[M],H=0;H<b.length;++H)if(b[H].marker==j.marker)continue t;b.push(j)}else E&&(p[v]=E)}return p}function Fs(a,u,p){for(var d=[],v=0;v<a.length;++v){var b=a[v];if(b.ranges){d.push(p?ho.prototype.deepCopy.call(b):b);continue}var E=b.changes,M=[];d.push({changes:M});for(var j=0;j<E.length;++j){var H=E[j],st=void 0;if(M.push({from:H.from,to:H.to,text:H.text}),u)for(var gt in H)(st=gt.match(/^spans_(\d+)$/))&&qt(u,Number(st[1]))>-1&&(ie(M)[gt]=H[gt],delete H[gt])}}return d}function Za(a,u,p,d){if(d){var v=a.anchor;if(p){var b=it(u,v)<0;b!=it(p,v)<0?(v=u,u=p):b!=it(u,p)<0&&(u=p)}return new cn(v,u)}else return new cn(p||u,u)}function $u(a,u,p,d,v){v==null&&(v=a.cm&&(a.cm.display.shift||a.extend)),br(a,new ho([Za(a.sel.primary(),u,p,v)],0),d)}function Ku(a,u,p){for(var d=[],v=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)d[b]=Za(a.sel.ranges[b],u[b],null,v);var E=Ko(a.cm,d,a.sel.primIndex);br(a,E,p)}function wf(a,u,p,d){var v=a.sel.ranges.slice(0);v[u]=p,br(a,Ko(a.cm,v,a.sel.primIndex),d)}function _f(a,u,p,d){br(a,ua(u,p),d)}function _g(a,u,p){var d={ranges:u.ranges,update:function(v){this.ranges=[];for(var b=0;b<v.length;b++)this.ranges[b]=new cn(Se(a,v[b].anchor),Se(a,v[b].head))},origin:p&&p.origin};return sn(a,"beforeSelectionChange",a,d),a.cm&&sn(a.cm,"beforeSelectionChange",a.cm,d),d.ranges!=u.ranges?Ko(a.cm,d.ranges,d.ranges.length-1):u}function bf(a,u,p){var d=a.history.done,v=ie(d);v&&v.ranges?(d[d.length-1]=u,Gu(a,u,p)):br(a,u,p)}function br(a,u,p){Gu(a,u,p),mg(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function Gu(a,u,p){(En(a,"beforeSelectionChange")||a.cm&&En(a.cm,"beforeSelectionChange"))&&(u=_g(a,u,p));var d=p&&p.bias||(it(u.primary().head,a.sel.primary().head)<0?-1:1);da(a,Cp(a,u,d,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Is(a.cm)}function da(a,u){u.equals(a.sel)||(a.sel=u,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,or(a.cm)),Hn(a,"cursorActivity",a))}function bp(a){da(a,Cp(a,a.sel,null,!1))}function Cp(a,u,p,d){for(var v,b=0;b<u.ranges.length;b++){var E=u.ranges[b],M=u.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],j=Yu(a,E.anchor,M&&M.anchor,p,d),H=E.head==E.anchor?j:Yu(a,E.head,M&&M.head,p,d);(v||j!=E.anchor||H!=E.head)&&(v||(v=u.ranges.slice(0,b)),v[b]=new cn(j,H))}return v?Ko(a.cm,v,u.primIndex):u}function Hs(a,u,p,d,v){var b=_e(a,u.line);if(b.markedSpans)for(var E=0;E<b.markedSpans.length;++E){var M=b.markedSpans[E],j=M.marker,H="selectLeft"in j?!j.selectLeft:j.inclusiveLeft,st="selectRight"in j?!j.selectRight:j.inclusiveRight;if((M.from==null||(H?M.from<=u.ch:M.from<u.ch))&&(M.to==null||(st?M.to>=u.ch:M.to>u.ch))){if(v&&(sn(j,"beforeCursorEnter"),j.explicitlyCleared))if(b.markedSpans){--E;continue}else break;if(!j.atomic)continue;if(p){var gt=j.find(d<0?1:-1),jt=void 0;if((d<0?st:H)&&(gt=xp(a,gt,-d,gt&&gt.line==u.line?b:null)),gt&&gt.line==u.line&&(jt=it(gt,p))&&(d<0?jt<0:jt>0))return Hs(a,gt,u,d,v)}var Tt=j.find(d<0?-1:1);return(d<0?H:st)&&(Tt=xp(a,Tt,d,Tt.line==u.line?b:null)),Tt?Hs(a,Tt,u,d,v):null}}return u}function Yu(a,u,p,d,v){var b=d||1,E=Hs(a,u,p,b,v)||!v&&Hs(a,u,p,b,!0)||Hs(a,u,p,-b,v)||!v&&Hs(a,u,p,-b,!0);return E||(a.cantEdit=!0,V(a.first,0))}function xp(a,u,p,d){return p<0&&u.ch==0?u.line>a.first?Se(a,V(u.line-1)):null:p>0&&u.ch==(d||_e(a,u.line)).text.length?u.line<a.first+a.size-1?V(u.line+1,0):null:new V(u.line,u.ch+p)}function Sp(a){a.setSelection(V(a.firstLine(),0),V(a.lastLine()),se)}function Op(a,u,p){var d={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,b,E,M){v&&(d.from=Se(a,v)),b&&(d.to=Se(a,b)),E&&(d.text=E),M!==void 0&&(d.origin=M)}),sn(a,"beforeChange",a,d),a.cm&&sn(a.cm,"beforeChange",a.cm,d),d.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Ja(a,u,p){if(a.cm){if(!a.cm.curOp)return An(a.cm,Ja)(a,u,p);if(a.cm.state.suppressEdits)return}if(!((En(a,"beforeChange")||a.cm&&En(a.cm,"beforeChange"))&&(u=Op(a,u,!0),!u))){var d=io&&!p&&so(a,u.from,u.to);if(d)for(var v=d.length-1;v>=0;--v)Tp(a,{from:d[v].from,to:d[v].to,text:v?[""]:u.text,origin:u.origin});else Tp(a,u)}}function Tp(a,u){if(!(u.text.length==1&&u.text[0]==""&&it(u.from,u.to)==0)){var p=vf(a,u);yp(a,u,p,a.cm?a.cm.curOp.id:NaN),Rl(a,u,p,Ra(a,u));var d=[];fa(a,function(v,b){!b&&qt(d,v.history)==-1&&(xf(v.history,u),d.push(v.history)),Rl(v,u,null,Ra(v,u))})}}function Il(a,u,p){var d=a.cm&&a.cm.state.suppressEdits;if(!(d&&!p)){for(var v=a.history,b,E=a.sel,M=u=="undo"?v.done:v.undone,j=u=="undo"?v.undone:v.done,H=0;H<M.length&&(b=M[H],!(p?b.ranges&&!b.equals(a.sel):!b.ranges));H++);if(H!=M.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(b=M.pop(),b.ranges){if(Wu(b,j),p&&!b.equals(a.sel)){br(a,b,{clearRedo:!1});return}E=b}else if(d){M.push(b);return}else break;var st=[];Wu(E,j),j.push({changes:st,generation:v.generation}),v.generation=b.generation||++v.maxGeneration;for(var gt=En(a,"beforeChange")||a.cm&&En(a.cm,"beforeChange"),jt=function(Xt){var te=b.changes[Xt];if(te.origin=u,gt&&!Op(a,te,!1))return M.length=0,{};st.push(yf(a,te));var le=Xt?vf(a,te):ie(M);Rl(a,te,le,_p(a,te)),!Xt&&a.cm&&a.cm.scrollIntoView({from:te.from,to:ca(te)});var he=[];fa(a,function(ce,me){!me&&qt(he,ce.history)==-1&&(xf(ce.history,te),he.push(ce.history)),Rl(ce,te,null,_p(ce,te))})},Tt=b.changes.length-1;Tt>=0;--Tt){var Bt=jt(Tt);if(Bt)return Bt.v}}}}function Vl(a,u){if(u!=0&&(a.first+=u,a.sel=new ho(F(a.sel.ranges,function(v){return new cn(V(v.anchor.line+u,v.anchor.ch),V(v.head.line+u,v.head.ch))}),a.sel.primIndex),a.cm)){Vr(a.cm,a.first,a.first-u,u);for(var p=a.cm.display,d=p.viewFrom;d<p.viewTo;d++)$o(a.cm,d,"gutter")}}function Rl(a,u,p,d){if(a.cm&&!a.cm.curOp)return An(a.cm,Rl)(a,u,p,d);if(u.to.line<a.first){Vl(a,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>a.lastLine())){if(u.from.line<a.first){var v=u.text.length-1-(a.first-u.from.line);Vl(a,v),u={from:V(a.first,0),to:V(u.to.line+v,u.to.ch),text:[ie(u.text)],origin:u.origin}}var b=a.lastLine();u.to.line>b&&(u={from:u.from,to:V(b,_e(a,b).text.length),text:[u.text[0]],origin:u.origin}),u.removed=Gr(a,u.from,u.to),p||(p=vf(a,u)),a.cm?bg(a.cm,u,d):mf(a,u,d),Gu(a,p,se),a.cantEdit&&Yu(a,V(a.firstLine(),0))&&(a.cantEdit=!1)}}function bg(a,u,p){var d=a.doc,v=a.display,b=u.from,E=u.to,M=!1,j=b.line;a.options.lineWrapping||(j=Qe(wn(_e(d,b.line))),d.iter(j,E.line+1,function(Tt){if(Tt==v.maxLine)return M=!0,!0})),d.sel.contains(u.from,u.to)>-1&&or(a),mf(d,u,p,Jd(a)),a.options.lineWrapping||(d.iter(j,b.line+u.text.length,function(Tt){var Bt=oi(Tt);Bt>v.maxLineLength&&(v.maxLine=Tt,v.maxLineLength=Bt,v.maxLineChanged=!0,M=!1)}),M&&(a.curOp.updateMaxLine=!0)),xu(d,b.line),Dl(a,400);var H=u.text.length-(E.line-b.line)-1;u.full?Vr(a):b.line==E.line&&u.text.length==1&&!vp(a.doc,u)?$o(a,b.line,"text"):Vr(a,b.line,E.line+1,H);var st=En(a,"changes"),gt=En(a,"change");if(gt||st){var jt={from:b,to:E,text:u.text,removed:u.removed,origin:u.origin};gt&&Hn(a,"change",a,jt),st&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(jt)}a.display.selForContextMenu=null}function Qa(a,u,p,d,v){var b;d||(d=p),it(d,p)<0&&(b=[d,p],p=b[0],d=b[1]),typeof u=="string"&&(u=a.splitLines(u)),Ja(a,{from:p,to:d,text:u,origin:v})}function Ep(a,u,p,d){p<a.line?a.line+=d:u<a.line&&(a.line=u,a.ch=0)}function Cf(a,u,p,d){for(var v=0;v<a.length;++v){var b=a[v],E=!0;if(b.ranges){b.copied||(b=a[v]=b.deepCopy(),b.copied=!0);for(var M=0;M<b.ranges.length;M++)Ep(b.ranges[M].anchor,u,p,d),Ep(b.ranges[M].head,u,p,d);continue}for(var j=0;j<b.changes.length;++j){var H=b.changes[j];if(p<H.from.line)H.from=V(H.from.line+d,H.from.ch),H.to=V(H.to.line+d,H.to.ch);else if(u<=H.to.line){E=!1;break}}E||(a.splice(0,v+1),v=0)}}function xf(a,u){var p=u.from.line,d=u.to.line,v=u.text.length-(d-p)-1;Cf(a.done,p,d,v),Cf(a.undone,p,d,v)}function pa(a,u,p,d){var v=u,b=u;return typeof u=="number"?b=_e(a,rn(a,u)):v=Qe(u),v==null?null:(d(b,v)&&a.cm&&$o(a.cm,v,p),b)}function Fl(a){this.lines=a,this.parent=null;for(var u=0,p=0;p<a.length;++p)a[p].parent=this,u+=a[p].height;this.height=u}Fl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,u){for(var p=a,d=a+u;p<d;++p){var v=this.lines[p];this.height-=v.height,Tu(v),Hn(v,"delete")}this.lines.splice(a,u)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,u,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(u).concat(this.lines.slice(a));for(var d=0;d<u.length;++d)u[d].parent=this},iterN:function(a,u,p){for(var d=a+u;a<d;++a)if(p(this.lines[a]))return!0}};function Hl(a){this.children=a;for(var u=0,p=0,d=0;d<a.length;++d){var v=a[d];u+=v.chunkSize(),p+=v.height,v.parent=this}this.size=u,this.height=p,this.parent=null}Hl.prototype={chunkSize:function(){return this.size},removeInner:function(a,u){this.size-=u;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(a<v){var b=Math.min(u,v-a),E=d.height;if(d.removeInner(a,b),this.height-=E-d.height,v==b&&(this.children.splice(p--,1),d.parent=null),(u-=b)==0)break;a=0}else a-=v}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof Fl))){var M=[];this.collapse(M),this.children=[new Fl(M)],this.children[0].parent=this}},collapse:function(a){for(var u=0;u<this.children.length;++u)this.children[u].collapse(a)},insertInner:function(a,u,p){this.size+=u.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],b=v.chunkSize();if(a<=b){if(v.insertInner(a,u,p),v.lines&&v.lines.length>50){for(var E=v.lines.length%25+25,M=E;M<v.lines.length;){var j=new Fl(v.lines.slice(M,M+=25));v.height-=j.height,this.children.splice(++d,0,j),j.parent=this}v.lines=v.lines.slice(0,E),this.maybeSpill()}break}a-=b}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var u=a.children.splice(a.children.length-5,5),p=new Hl(u);if(a.parent){a.size-=p.size,a.height-=p.height;var v=qt(a.parent.children,a);a.parent.children.splice(v+1,0,p)}else{var d=new Hl(a.children);d.parent=a,a.children=[d,p],a=d}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,u,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],b=v.chunkSize();if(a<b){var E=Math.min(u,b-a);if(v.iterN(a,E,p))return!0;if((u-=E)==0)break;a=0}else a-=b}}};var Bl=function(a,u,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=a,this.node=u};Bl.prototype.clear=function(){var a=this.doc.cm,u=this.line.widgets,p=this.line,d=Qe(p);if(!(d==null||!u)){for(var v=0;v<u.length;++v)u[v]==this&&u.splice(v--,1);u.length||(p.widgets=null);var b=Ci(this);mr(p,Math.max(0,p.height-b)),a&&(Xr(a,function(){Pp(a,p,-b),$o(a,d,"widget")}),Hn(a,"lineWidgetCleared",a,this,d))}},Bl.prototype.changed=function(){var a=this,u=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=Ci(this)-u;v&&(fo(this.doc,d)||mr(d,d.height+v),p&&Xr(p,function(){p.curOp.forceUpdate=!0,Pp(p,d,v),Hn(p,"lineWidgetChanged",p,a,Qe(d))}))},ro(Bl);function Pp(a,u,p){Fn(u)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&lf(a,p)}function Cg(a,u,p,d){var v=new Bl(a,p,d),b=a.cm;return b&&v.noHScroll&&(b.display.alignWidgets=!0),pa(a,u,"widget",function(E){var M=E.widgets||(E.widgets=[]);if(v.insertAt==null?M.push(v):M.splice(Math.min(M.length,Math.max(0,v.insertAt)),0,v),v.line=E,b&&!fo(a,E)){var j=Fn(E)<a.scrollTop;mr(E,E.height+Ci(v)),j&&lf(b,v.height),b.curOp.forceUpdate=!0}return!0}),b&&Hn(b,"lineWidgetAdded",b,v,typeof u=="number"?u:Qe(u)),v}var kp=0,ha=function(a,u){this.lines=[],this.type=u,this.doc=a,this.id=++kp};ha.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,u=a&&!a.curOp;if(u&&qa(a),En(this,"clear")){var p=this.find();p&&Hn(this,"clear",p.from,p.to)}for(var d=null,v=null,b=0;b<this.lines.length;++b){var E=this.lines[b],M=$i(E.markedSpans,this);a&&!this.collapsed?$o(a,Qe(E),"text"):a&&(M.to!=null&&(v=Qe(E)),M.from!=null&&(d=Qe(E))),E.markedSpans=Po(E.markedSpans,M),M.from==null&&this.collapsed&&!fo(this.doc,E)&&a&&mr(E,xi(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var H=wn(this.lines[j]),st=oi(H);st>a.display.maxLineLength&&(a.display.maxLine=H,a.display.maxLineLength=st,a.display.maxLineChanged=!0)}d!=null&&a&&this.collapsed&&Vr(a,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&bp(a.doc)),a&&Hn(a,"markerCleared",a,this,d,v),u&&Xa(a),this.parent&&this.parent.clear()}},ha.prototype.find=function(a,u){a==null&&this.type=="bookmark"&&(a=1);for(var p,d,v=0;v<this.lines.length;++v){var b=this.lines[v],E=$i(b.markedSpans,this);if(E.from!=null&&(p=V(u?b:Qe(b),E.from),a==-1))return p;if(E.to!=null&&(d=V(u?b:Qe(b),E.to),a==1))return d}return p&&{from:p,to:d}},ha.prototype.changed=function(){var a=this,u=this.find(-1,!0),p=this,d=this.doc.cm;!u||!d||Xr(d,function(){var v=u.line,b=Qe(u.line),E=Ve(d,b);if(E&&(Kd(E),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!fo(p.doc,v)&&p.height!=null){var M=p.height;p.height=null;var j=Ci(p)-M;j&&mr(v,v.height+j)}Hn(d,"markerChanged",d,a)})},ha.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||qt(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},ha.prototype.detachLine=function(a){if(this.lines.splice(qt(this.lines,a),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},ro(ha);function ts(a,u,p,d,v){if(d&&d.shared)return qu(a,u,p,d,v);if(a.cm&&!a.cm.curOp)return An(a.cm,ts)(a,u,p,d,v);var b=new ha(a,v),E=it(u,p);if(d&&Wt(d,b,!1),E>0||E==0&&b.clearWhenEmpty!==!1)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=xt("span",[b.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if(uo(a,u.line,u,p,b)||u.line!=p.line&&uo(a,p.line,u,p,b))throw new Error("Inserting collapsed marker partially overlapping an existing one");Su()}b.addToHistory&&yp(a,{from:u,to:p,origin:"markText"},a.sel,NaN);var M=u.line,j=a.cm,H;if(a.iter(M,p.line+1,function(gt){j&&b.collapsed&&!j.options.lineWrapping&&wn(gt)==j.display.maxLine&&(H=!0),b.collapsed&&M!=u.line&&mr(gt,0),Ou(gt,new Wi(b,M==u.line?u.ch:null,M==p.line?p.ch:null),a.cm&&a.cm.curOp),++M}),b.collapsed&&a.iter(u.line,p.line+1,function(gt){fo(a,gt)&&mr(gt,0)}),b.clearOnEnter&&xe(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(yl(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),b.collapsed&&(b.id=++kp,b.atomic=!0),j){if(H&&(j.curOp.updateMaxLine=!0),b.collapsed)Vr(j,u.line,p.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(var st=u.line;st<=p.line;st++)$o(j,st,"text");b.atomic&&bp(j.doc),Hn(j,"markerAdded",j,b)}return b}var zl=function(a,u){this.markers=a,this.primary=u;for(var p=0;p<a.length;++p)a[p].parent=this};zl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Hn(this,"clear")}},zl.prototype.find=function(a,u){return this.primary.find(a,u)},ro(zl);function qu(a,u,p,d,v){d=Wt(d),d.shared=!1;var b=[ts(a,u,p,d,v)],E=b[0],M=d.widgetNode;return fa(a,function(j){M&&(d.widgetNode=M.cloneNode(!0)),b.push(ts(j,Se(j,u),Se(j,p),d,v));for(var H=0;H<j.linked.length;++H)if(j.linked[H].isParent)return;E=ie(b)}),new zl(b,E)}function Ap(a){return a.findMarks(V(a.first,0),a.clipPos(V(a.lastLine())),function(u){return u.parent})}function Mp(a,u){for(var p=0;p<u.length;p++){var d=u[p],v=d.find(),b=a.clipPos(v.from),E=a.clipPos(v.to);if(it(b,E)){var M=ts(a,b,E,d.primary,d.primary.type);d.markers.push(M),M.parent=d}}}function xg(a){for(var u=function(d){var v=a[d],b=[v.primary.doc];fa(v.primary.doc,function(j){return b.push(j)});for(var E=0;E<v.markers.length;E++){var M=v.markers[E];qt(b,M.doc)==-1&&(M.parent=null,v.markers.splice(E--,1))}},p=0;p<a.length;p++)u(p)}var va=0,Fr=function(a,u,p,d,v){if(!(this instanceof Fr))return new Fr(a,u,p,d,v);p==null&&(p=0),Hl.call(this,[new Fl([new yi("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var b=V(p,0);this.sel=ua(b),this.history=new _r(null),this.id=++va,this.modeOption=u,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),mf(this,{from:b,to:b,text:a}),br(this,ua(b),se)};Fr.prototype=Lt(Hl.prototype,{constructor:Fr,iter:function(a,u,p){p?this.iterN(a-this.first,u-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,u){for(var p=0,d=0;d<u.length;++d)p+=u[d].height;this.insertInner(a-this.first,u,p)},remove:function(a,u){this.removeInner(a-this.first,u)},getValue:function(a){var u=Pn(this,this.first,this.first+this.size);return a===!1?u:u.join(a||this.lineSeparator())},setValue:Bn(function(a){var u=V(this.first,0),p=this.first+this.size-1;Ja(this,{from:u,to:V(p,_e(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Al(this.cm,0,0),br(this,ua(u),se)}),replaceRange:function(a,u,p,d){u=Se(this,u),p=p?Se(this,p):u,Qa(this,a,u,p,d)},getRange:function(a,u,p){var d=Gr(this,Se(this,a),Se(this,u));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(a){var u=this.getLineHandle(a);return u&&u.text},getLineHandle:function(a){if(ni(this,a))return _e(this,a)},getLineNumber:function(a){return Qe(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=_e(this,a)),wn(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Se(this,a)},getCursor:function(a){var u=this.sel.primary(),p;return a==null||a=="head"?p=u.head:a=="anchor"?p=u.anchor:a=="end"||a=="to"||a===!1?p=u.to():p=u.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Bn(function(a,u,p){_f(this,Se(this,typeof a=="number"?V(a,u||0):a),null,p)}),setSelection:Bn(function(a,u,p){_f(this,Se(this,a),Se(this,u||a),p)}),extendSelection:Bn(function(a,u,p){$u(this,Se(this,a),u&&Se(this,u),p)}),extendSelections:Bn(function(a,u){Ku(this,bs(this,a),u)}),extendSelectionsBy:Bn(function(a,u){var p=F(this.sel.ranges,a);Ku(this,bs(this,p),u)}),setSelections:Bn(function(a,u,p){if(a.length){for(var d=[],v=0;v<a.length;v++)d[v]=new cn(Se(this,a[v].anchor),Se(this,a[v].head||a[v].anchor));u==null&&(u=Math.min(a.length-1,this.sel.primIndex)),br(this,Ko(this.cm,d,u),p)}}),addSelection:Bn(function(a,u,p){var d=this.sel.ranges.slice(0);d.push(new cn(Se(this,a),Se(this,u||a))),br(this,Ko(this.cm,d,d.length-1),p)}),getSelection:function(a){for(var u=this.sel.ranges,p,d=0;d<u.length;d++){var v=Gr(this,u[d].from(),u[d].to());p=p?p.concat(v):v}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var u=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=Gr(this,p[d].from(),p[d].to());a!==!1&&(v=v.join(a||this.lineSeparator())),u[d]=v}return u},replaceSelection:function(a,u,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=a;this.replaceSelections(d,u,p||"+input")},replaceSelections:Bn(function(a,u,p){for(var d=[],v=this.sel,b=0;b<v.ranges.length;b++){var E=v.ranges[b];d[b]={from:E.from(),to:E.to(),text:this.splitLines(a[b]),origin:p}}for(var M=u&&u!="end"&&pg(this,d,u),j=d.length-1;j>=0;j--)Ja(this,d[j]);M?bf(this,M):this.cm&&Is(this.cm)}),undo:Bn(function(){Il(this,"undo")}),redo:Bn(function(){Il(this,"redo")}),undoSelection:Bn(function(){Il(this,"undo",!0)}),redoSelection:Bn(function(){Il(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,u=0,p=0,d=0;d<a.done.length;d++)a.done[d].ranges||++u;for(var v=0;v<a.undone.length;v++)a.undone[v].ranges||++p;return{undo:u,redo:p}},clearHistory:function(){var a=this;this.history=new _r(this.history),fa(this,function(u){return u.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Fs(this.history.done),undone:Fs(this.history.undone)}},setHistory:function(a){var u=this.history=new _r(this.history);u.done=Fs(a.done.slice(0),null,!0),u.undone=Fs(a.undone.slice(0),null,!0)},setGutterMarker:Bn(function(a,u,p){return pa(this,a,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[u]=p,!p&&Pt(v)&&(d.gutterMarkers=null),!0})}),clearGutter:Bn(function(a){var u=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&pa(u,p,"gutter",function(){return p.gutterMarkers[a]=null,Pt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var u;if(typeof a=="number"){if(!ni(this,a)||(u=a,a=_e(this,a),!a))return null}else if(u=Qe(a),u==null)return null;return{line:u,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Bn(function(a,u,p){return pa(this,a,u=="gutter"?"gutter":"class",function(d){var v=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if(Y(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:Bn(function(a,u,p){return pa(this,a,u=="gutter"?"gutter":"class",function(d){var v=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",b=d[v];if(b)if(p==null)d[v]=null;else{var E=b.match(Y(p));if(!E)return!1;var M=E.index+E[0].length;d[v]=b.slice(0,E.index)+(!E.index||M==b.length?"":" ")+b.slice(M)||null}else return!1;return!0})}),addLineWidget:Bn(function(a,u,p){return Cg(this,a,u,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,u,p){return ts(this,Se(this,a),Se(this,u),p,p&&p.type||"range")},setBookmark:function(a,u){var p={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return a=Se(this,a),ts(this,a,a,p,"bookmark")},findMarksAt:function(a){a=Se(this,a);var u=[],p=_e(this,a.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=a.ch)&&(v.to==null||v.to>=a.ch)&&u.push(v.marker.parent||v.marker)}return u},findMarks:function(a,u,p){a=Se(this,a),u=Se(this,u);var d=[],v=a.line;return this.iter(a.line,u.line+1,function(b){var E=b.markedSpans;if(E)for(var M=0;M<E.length;M++){var j=E[M];!(j.to!=null&&v==a.line&&a.ch>=j.to||j.from==null&&v!=a.line||j.from!=null&&v==u.line&&j.from>=u.ch)&&(!p||p(j.marker))&&d.push(j.marker.parent||j.marker)}++v}),d},getAllMarks:function(){var a=[];return this.iter(function(u){var p=u.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&a.push(p[d].marker)}),a},posFromIndex:function(a){var u,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var b=v.text.length+d;if(b>a)return u=a,!0;a-=b,++p}),Se(this,V(p,u))},indexFromPos:function(a){a=Se(this,a);var u=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(d){u+=d.text.length+p}),u},copy:function(a){var u=new Fr(Pn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,a&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(a){a||(a={});var u=this.first,p=this.first+this.size;a.from!=null&&a.from>u&&(u=a.from),a.to!=null&&a.to<p&&(p=a.to);var d=new Fr(Pn(this,u,p),a.mode||this.modeOption,u,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Mp(d,Ap(this)),d},unlinkDoc:function(a){if(a instanceof xn&&(a=a.doc),this.linked)for(var u=0;u<this.linked.length;++u){var p=this.linked[u];if(p.doc==a){this.linked.splice(u,1),a.unlinkDoc(this),xg(Ap(this));break}}if(a.history==this.history){var d=[a.id];fa(a,function(v){return d.push(v.id)},!0),a.history=new _r(null),a.history.done=Fs(this.history.done,d),a.history.undone=Fs(this.history.undone,d)}},iterLinkedDocs:function(a){fa(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Nr(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Bn(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(u){return u.order=null}),this.cm&&hg(this.cm))})}),Fr.prototype.eachLine=Fr.prototype.iter;var Lp=0;function Sg(a){var u=this;if(Sf(u),!(hn(u,a)||po(u.display,a))){Q(a),S&&(Lp=+new Date);var p=Ka(u,a,!0),d=a.dataTransfer.files;if(!(!p||u.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,b=Array(v),E=0,M=function(){++E==v&&An(u,function(){p=Se(u.doc,p);var Tt={from:p,to:p,text:u.doc.splitLines(b.filter(function(Bt){return Bt!=null}).join(u.doc.lineSeparator())),origin:"paste"};Ja(u.doc,Tt),bf(u.doc,ua(Se(u.doc,p),Se(u.doc,ca(Tt))))})()},j=function(Tt,Bt){if(u.options.allowDropFileTypes&&qt(u.options.allowDropFileTypes,Tt.type)==-1){M();return}var Xt=new FileReader;Xt.onerror=function(){return M()},Xt.onload=function(){var te=Xt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(te)){M();return}b[Bt]=te,M()},Xt.readAsText(Tt)},H=0;H<d.length;H++)j(d[H],H);else{if(u.state.draggingText&&u.doc.sel.contains(p)>-1){u.state.draggingText(a),setTimeout(function(){return u.display.input.focus()},20);return}try{var st=a.dataTransfer.getData("Text");if(st){var gt;if(u.state.draggingText&&!u.state.draggingText.copy&&(gt=u.listSelections()),Gu(u.doc,ua(p,p)),gt)for(var jt=0;jt<gt.length;++jt)Qa(u.doc,"",gt[jt].anchor,gt[jt].head,"drag");u.replaceSelection(st,"around","paste"),u.display.input.focus()}}catch{}}}}function Og(a,u){if(S&&(!a.state.draggingText||+new Date-Lp<100)){Gt(u);return}if(!(hn(a,u)||po(a.display,u))&&(u.dataTransfer.setData("Text",a.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!z)){var p=J("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",R&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),u.dataTransfer.setDragImage(p,0,0),R&&p.parentNode.removeChild(p)}}function Tg(a,u){var p=Ka(a,u);if(p){var d=document.createDocumentFragment();rf(a,p,d),a.display.dragCursor||(a.display.dragCursor=J("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),ht(a.display.dragCursor,d)}}function Sf(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Xu(a){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<u.length;d++){var v=u[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var b=0;b<p.length;b++)a(p[b])})}}var jp=!1;function Eg(){jp||(Dp(),jp=!0)}function Dp(){var a;xe(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Xu(Pg)},100))}),xe(window,"blur",function(){return Xu(js)})}function Pg(a){var u=a.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,a.setSize()}for(var ga={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bs=0;Bs<10;Bs++)ga[Bs+48]=ga[Bs+96]=String(Bs);for(var Zu=65;Zu<=90;Zu++)ga[Zu]=String.fromCharCode(Zu);for(var Ti=1;Ti<=12;Ti++)ga[Ti+111]=ga[Ti+63235]="F"+Ti;var Ei={};Ei.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ei.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ei.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ei.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ei.default=X?Ei.macDefault:Ei.pcDefault;function kg(a){var u=a.split(/-(?!$)/);a=u[u.length-1];for(var p,d,v,b,E=0;E<u.length-1;E++){var M=u[E];if(/^(cmd|meta|m)$/i.test(M))b=!0;else if(/^a(lt)?$/i.test(M))p=!0;else if(/^(c|ctrl|control)$/i.test(M))d=!0;else if(/^s(hift)?$/i.test(M))v=!0;else throw new Error("Unrecognized modifier name: "+M)}return p&&(a="Alt-"+a),d&&(a="Ctrl-"+a),b&&(a="Cmd-"+a),v&&(a="Shift-"+a),a}function Np(a){var u={};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete a[p];continue}for(var v=F(p.split(" "),kg),b=0;b<v.length;b++){var E=void 0,M=void 0;b==v.length-1?(M=v.join(" "),E=d):(M=v.slice(0,b+1).join(" "),E="...");var j=u[M];if(!j)u[M]=E;else if(j!=E)throw new Error("Inconsistent bindings for "+M)}delete a[p]}for(var H in u)a[H]=u[H];return a}function es(a,u,p,d){u=Ju(u);var v=u.call?u.call(a,d):u[a];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return es(a,u.fallthrough,p,d);for(var b=0;b<u.fallthrough.length;b++){var E=es(a,u.fallthrough[b],p,d);if(E)return E}}}function Of(a){var u=typeof a=="string"?a:ga[a.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function Tf(a,u,p){var d=a;return u.altKey&&d!="Alt"&&(a="Alt-"+a),(Ot?u.metaKey:u.ctrlKey)&&d!="Ctrl"&&(a="Ctrl-"+a),(Ot?u.ctrlKey:u.metaKey)&&d!="Mod"&&(a="Cmd-"+a),!p&&u.shiftKey&&d!="Shift"&&(a="Shift-"+a),a}function Ef(a,u){if(R&&a.keyCode==34&&a.char)return!1;var p=ga[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),Tf(p,a,u))}function Ju(a){return typeof a=="string"?Ei[a]:a}function si(a,u){for(var p=a.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var b=u(p[v]);d.length&&it(b.from,ie(d).to)<=0;){var E=d.pop();if(it(E.from,b.from)<0){b.from=E.from;break}}d.push(b)}Xr(a,function(){for(var M=d.length-1;M>=0;M--)Qa(a.doc,"",d[M].from,d[M].to,"+delete");Is(a)})}function Ul(a,u,p){var d=Te(a.text,u+p,p);return d<0||d>a.text.length?null:d}function Qu(a,u,p){var d=Ul(a,u.ch,p);return d==null?null:new V(u.line,d,p<0?"after":"before")}function tc(a,u,p,d,v){if(a){u.doc.direction=="rtl"&&(v=-v);var b=Ze(p,u.doc.direction);if(b){var E=v<0?ie(b):b[0],M=v<0==(E.level==1),j=M?"after":"before",H;if(E.level>0||u.doc.direction=="rtl"){var st=Me(u,p);H=v<0?p.text.length-1:0;var gt=gn(u,st,H).top;H=Fe(function(jt){return gn(u,st,jt).top==gt},v<0==(E.level==1)?E.from:E.to-1,H),j=="before"&&(H=Ul(p,H,1))}else H=v<0?E.to:E.from;return new V(d,H,j)}}return new V(d,v<0?p.text.length:0,v<0?"before":"after")}function Ip(a,u,p,d){var v=Ze(u,a.doc.direction);if(!v)return Qu(u,p,d);p.ch>=u.text.length?(p.ch=u.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var b=Vn(v,p.ch,p.sticky),E=v[b];if(a.doc.direction=="ltr"&&E.level%2==0&&(d>0?E.to>p.ch:E.from<p.ch))return Qu(u,p,d);var M=function(le,he){return Ul(u,le instanceof V?le.ch:le,he)},j,H=function(le){return a.options.lineWrapping?(j=j||Me(a,u),Zd(a,u,j,le)):{begin:0,end:u.text.length}},st=H(p.sticky=="before"?M(p,-1):p.ch);if(a.doc.direction=="rtl"||E.level==1){var gt=E.level==1==d<0,jt=M(p,gt?1:-1);if(jt!=null&&(gt?jt<=E.to&&jt<=st.end:jt>=E.from&&jt>=st.begin)){var Tt=gt?"before":"after";return new V(p.line,jt,Tt)}}var Bt=function(le,he,ce){for(var me=function(yn,tr){return tr?new V(p.line,M(yn,1),"before"):new V(p.line,yn,"after")};le>=0&&le<v.length;le+=he){var ke=v[le],Ee=he>0==(ke.level!=1),Ke=Ee?ce.begin:M(ce.end,-1);if(ke.from<=Ke&&Ke<ke.to||(Ke=Ee?ke.from:M(ke.to,-1),ce.begin<=Ke&&Ke<ce.end))return me(Ke,Ee)}},Xt=Bt(b+d,d,st);if(Xt)return Xt;var te=d>0?st.end:M(st.begin,-1);return te!=null&&!(d>0&&te==u.text.length)&&(Xt=Bt(d>0?0:v.length-1,d,H(te)),Xt)?Xt:null}var Pi={selectAll:Sp,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),se)},killLine:function(a){return si(a,function(u){if(u.empty()){var p=_e(a.doc,u.head.line).text.length;return u.head.ch==p&&u.head.line<a.lastLine()?{from:u.head,to:V(u.head.line+1,0)}:{from:u.head,to:V(u.head.line,p)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(a){return si(a,function(u){return{from:V(u.from().line,0),to:Se(a.doc,V(u.to().line+1,0))}})},delLineLeft:function(a){return si(a,function(u){return{from:V(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(a){return si(a,function(u){var p=a.charCoords(u.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return{from:d,to:u.from()}})},delWrappedLineRight:function(a){return si(a,function(u){var p=a.charCoords(u.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:u.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(V(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(V(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(u){return Vp(a,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(u){return Pf(a,u.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(u){return Ag(a,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},Ue)},goLineLeft:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},Ue)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return d.ch<a.getLine(d.line).search(/\S/)?Pf(a,u.head):d},Ue)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var u=[],p=a.listSelections(),d=a.options.tabSize,v=0;v<p.length;v++){var b=p[v].from(),E=$t(a.getLine(b.line),b.ch,d);u.push(en(d-E%d))}a.replaceSelections(u)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Xr(a,function(){for(var u=a.listSelections(),p=[],d=0;d<u.length;d++)if(u[d].empty()){var v=u[d].head,b=_e(a.doc,v.line).text;if(b){if(v.ch==b.length&&(v=new V(v.line,v.ch-1)),v.ch>0)v=new V(v.line,v.ch+1),a.replaceRange(b.charAt(v.ch-1)+b.charAt(v.ch-2),V(v.line,v.ch-2),v,"+transpose");else if(v.line>a.doc.first){var E=_e(a.doc,v.line-1).text;E&&(v=new V(v.line,1),a.replaceRange(b.charAt(0)+a.doc.lineSeparator()+E.charAt(E.length-1),V(v.line-1,E.length-1),v,"+transpose"))}}p.push(new cn(v,v))}a.setSelections(p)})},newlineAndIndent:function(a){return Xr(a,function(){for(var u=a.listSelections(),p=u.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),u[p].anchor,u[p].head,"+input");u=a.listSelections();for(var d=0;d<u.length;d++)a.indentLine(u[d].from().line,null,!0);Is(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Vp(a,u){var p=_e(a.doc,u),d=wn(p);return d!=p&&(u=Qe(d)),tc(!0,a,d,u,1)}function Ag(a,u){var p=_e(a.doc,u),d=Zi(p);return d!=p&&(u=Qe(d)),tc(!0,a,p,u,-1)}function Pf(a,u){var p=Vp(a,u.line),d=_e(a.doc,p.line),v=Ze(d,a.doc.direction);if(!v||v[0].level==0){var b=Math.max(p.ch,d.text.search(/\S/)),E=u.line==p.line&&u.ch<=b&&u.ch;return V(p.line,E?0:b,p.sticky)}return p}function ec(a,u,p){if(typeof u=="string"&&(u=Pi[u],!u))return!1;a.display.input.ensurePolled();var d=a.display.shift,v=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),v=u(a)!=be}finally{a.display.shift=d,a.state.suppressEdits=!1}return v}function Mg(a,u,p){for(var d=0;d<a.state.keyMaps.length;d++){var v=es(u,a.state.keyMaps[d],p,a);if(v)return v}return a.options.extraKeys&&es(u,a.options.extraKeys,p,a)||es(u,a.options.keyMap,p,a)}var Rp=new Kt;function Wl(a,u,p,d){var v=a.state.keySeq;if(v){if(Of(u))return"handled";if(/\'$/.test(u)?a.state.keySeq=null:Rp.set(50,function(){a.state.keySeq==v&&(a.state.keySeq=null,a.display.input.reset())}),Fp(a,v+" "+u,p,d))return!0}return Fp(a,u,p,d)}function Fp(a,u,p,d){var v=Mg(a,u,d);return v=="multi"&&(a.state.keySeq=u),v=="handled"&&Hn(a,"keyHandled",a,u,p),(v=="handled"||v=="multi")&&(Q(p),Ls(a)),!!v}function Hp(a,u){var p=Ef(u,!0);return p?u.shiftKey&&!a.state.keySeq?Wl(a,"Shift-"+p,u,function(d){return ec(a,d,!0)})||Wl(a,p,u,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return ec(a,d)}):Wl(a,p,u,function(d){return ec(a,d)}):!1}function Lg(a,u,p){return Wl(a,"'"+p+"'",u,function(d){return ec(a,d,!0)})}var kf=null;function Lo(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&(u.curOp.focus=rt(Zt(u)),!hn(u,a))){S&&T<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;u.display.shift=p==16||a.shiftKey;var d=Hp(u,a);R&&(kf=d?p:null,!d&&p==88&&!Ho&&(X?a.metaKey:a.ctrlKey)&&u.replaceSelection("",null,"cut")),g&&!X&&!d&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&vo(u)}}function vo(a){var u=a.display.lineDiv;et(u,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(q(u,"CodeMirror-crosshair"),Le(document,"keyup",p),Le(document,"mouseover",p))}xe(document,"keyup",p),xe(document,"mouseover",p)}function ns(a){a.keyCode==16&&(this.doc.sel.shift=!1),hn(this,a)}function Af(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&!(po(u.display,a)||hn(u,a)||a.ctrlKey&&!a.altKey||X&&a.metaKey)){var p=a.keyCode,d=a.charCode;if(R&&p==kf){kf=null,Q(a);return}if(!(R&&(!a.which||a.which<10)&&Hp(u,a))){var v=String.fromCharCode(d??p);v!="\b"&&(Lg(u,a,v)||u.display.input.onKeyPress(a))}}}var Mf=400,Lf=function(a,u,p){this.time=a,this.pos=u,this.button=p};Lf.prototype.compare=function(a,u,p){return this.time+Mf>a&&it(u,this.pos)==0&&p==this.button};var $l,zs;function jg(a,u){var p=+new Date;return zs&&zs.compare(p,a,u)?($l=zs=null,"triple"):$l&&$l.compare(p,a,u)?(zs=new Lf(p,a,u),$l=null,"double"):($l=new Lf(p,a,u),zs=null,"single")}function jf(a){var u=this,p=u.display;if(!(hn(u,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,po(p,a)){O||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Nf(u,a)){var d=Ka(u,a),v=je(a),b=d?jg(d,v):"single";Et(u).focus(),v==1&&u.state.selectingText&&u.state.selectingText(a),!(d&&Df(u,v,d,b,a))&&(v==1?d?zp(u,d,b,a):pe(a)==p.scroller&&Q(a):v==2?(d&&$u(u.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&($?u.display.input.onContextMenu(a):af(u)))}}}function Df(a,u,p,d,v){var b="Click";return d=="double"?b="Double"+b:d=="triple"&&(b="Triple"+b),b=(u==1?"Left":u==2?"Middle":"Right")+b,Wl(a,Tf(b,v),v,function(E){if(typeof E=="string"&&(E=Pi[E]),!E)return!1;var M=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),M=E(a,p)!=be}finally{a.state.suppressEdits=!1}return M})}function Bp(a,u,p){var d=a.getOption("configureMouse"),v=d?d(a,u,p):{};if(v.unit==null){var b=mt?p.shiftKey&&p.metaKey:p.altKey;v.unit=b?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(v.extend==null||a.doc.extend)&&(v.extend=a.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=X?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(X?p.altKey:p.ctrlKey)),v}function zp(a,u,p,d){S?setTimeout(Ht(of,a),0):a.curOp.focus=rt(Zt(a));var v=Bp(a,p,d),b=a.doc.sel,E;a.options.dragDrop&&Xe&&!a.isReadOnly()&&p=="single"&&(E=b.contains(u))>-1&&(it((E=b.ranges[E]).from(),u)<0||u.xRel>0)&&(it(E.to(),u)>0||u.xRel<0)?Dg(a,d,u,v):Ng(a,d,u,v)}function Dg(a,u,p,d){var v=a.display,b=!1,E=An(a,function(H){O&&(v.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:af(a)),Le(v.wrapper.ownerDocument,"mouseup",E),Le(v.wrapper.ownerDocument,"mousemove",M),Le(v.scroller,"dragstart",j),Le(v.scroller,"drop",E),b||(Q(H),d.addNew||$u(a.doc,p,null,null,d.extend),O&&!z||S&&T==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),M=function(H){b=b||Math.abs(u.clientX-H.clientX)+Math.abs(u.clientY-H.clientY)>=10},j=function(){return b=!0};O&&(v.scroller.draggable=!0),a.state.draggingText=E,E.copy=!d.moveOnDrag,xe(v.wrapper.ownerDocument,"mouseup",E),xe(v.wrapper.ownerDocument,"mousemove",M),xe(v.scroller,"dragstart",j),xe(v.scroller,"drop",E),a.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function Up(a,u,p){if(p=="char")return new cn(u,u);if(p=="word")return a.findWordAt(u);if(p=="line")return new cn(V(u.line,0),Se(a.doc,V(u.line+1,0)));var d=p(a,u);return new cn(d.from,d.to)}function Ng(a,u,p,d){S&&af(a);var v=a.display,b=a.doc;Q(u);var E,M,j=b.sel,H=j.ranges;if(d.addNew&&!d.extend?(M=b.sel.contains(p),M>-1?E=H[M]:E=new cn(p,p)):(E=b.sel.primary(),M=b.sel.primIndex),d.unit=="rectangle")d.addNew||(E=new cn(p,p)),p=Ka(a,u,!0,!0),M=-1;else{var st=Up(a,p,d.unit);d.extend?E=Za(E,st.anchor,st.head,d.extend):E=st}d.addNew?M==-1?(M=H.length,br(b,Ko(a,H.concat([E]),M),{scroll:!1,origin:"*mouse"})):H.length>1&&H[M].empty()&&d.unit=="char"&&!d.extend?(br(b,Ko(a,H.slice(0,M).concat(H.slice(M+1)),0),{scroll:!1,origin:"*mouse"}),j=b.sel):wf(b,M,E,ve):(M=0,br(b,new ho([E],0),ve),j=b.sel);var gt=p;function jt(ce){if(it(gt,ce)!=0)if(gt=ce,d.unit=="rectangle"){for(var me=[],ke=a.options.tabSize,Ee=$t(_e(b,p.line).text,p.ch,ke),Ke=$t(_e(b,ce.line).text,ce.ch,ke),yn=Math.min(Ee,Ke),tr=Math.max(Ee,Ke),_n=Math.min(p.line,ce.line),Zr=Math.min(a.lastLine(),Math.max(p.line,ce.line));_n<=Zr;_n++){var kr=_e(b,_n).text,Un=mn(kr,yn,ke);yn==tr?me.push(new cn(V(_n,Un),V(_n,Un))):kr.length>Un&&me.push(new cn(V(_n,Un),V(_n,mn(kr,tr,ke))))}me.length||me.push(new cn(p,p)),br(b,Ko(a,j.ranges.slice(0,M).concat(me),M),{origin:"*mouse",scroll:!1}),a.scrollIntoView(ce)}else{var Hr=E,fr=Up(a,ce,d.unit),er=Hr.anchor,Kn;it(fr.anchor,er)>0?(Kn=fr.head,er=Be(Hr.from(),fr.anchor)):(Kn=fr.anchor,er=Ne(Hr.to(),fr.head));var Mn=j.ranges.slice(0);Mn[M]=Ig(a,new cn(Se(b,er),Kn)),br(b,Ko(a,Mn,M),ve)}}var Tt=v.wrapper.getBoundingClientRect(),Bt=0;function Xt(ce){var me=++Bt,ke=Ka(a,ce,!0,d.unit=="rectangle");if(ke)if(it(ke,gt)!=0){a.curOp.focus=rt(Zt(a)),jt(ke);var Ee=Si(v,b);(ke.line>=Ee.to||ke.line<Ee.from)&&setTimeout(An(a,function(){Bt==me&&Xt(ce)}),150)}else{var Ke=ce.clientY<Tt.top?-20:ce.clientY>Tt.bottom?20:0;Ke&&setTimeout(An(a,function(){Bt==me&&(v.scroller.scrollTop+=Ke,Xt(ce))}),50)}}function te(ce){a.state.selectingText=!1,Bt=1/0,ce&&(Q(ce),v.input.focus()),Le(v.wrapper.ownerDocument,"mousemove",le),Le(v.wrapper.ownerDocument,"mouseup",he),b.history.lastSelOrigin=null}var le=An(a,function(ce){ce.buttons===0||!je(ce)?te(ce):Xt(ce)}),he=An(a,te);a.state.selectingText=he,xe(v.wrapper.ownerDocument,"mousemove",le),xe(v.wrapper.ownerDocument,"mouseup",he)}function Ig(a,u){var p=u.anchor,d=u.head,v=_e(a.doc,p.line);if(it(p,d)==0&&p.sticky==d.sticky)return u;var b=Ze(v);if(!b)return u;var E=Vn(b,p.ch,p.sticky),M=b[E];if(M.from!=p.ch&&M.to!=p.ch)return u;var j=E+(M.from==p.ch==(M.level!=1)?0:1);if(j==0||j==b.length)return u;var H;if(d.line!=p.line)H=(d.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var st=Vn(b,d.ch,d.sticky),gt=st-E||(d.ch-p.ch)*(M.level==1?-1:1);st==j-1||st==j?H=gt<0:H=gt>0}var jt=b[j+(H?-1:0)],Tt=H==(jt.level==1),Bt=Tt?jt.from:jt.to,Xt=Tt?"after":"before";return p.ch==Bt&&p.sticky==Xt?u:new cn(new V(p.line,Bt,Xt),d)}function Wp(a,u,p,d){var v,b;if(u.touches)v=u.touches[0].clientX,b=u.touches[0].clientY;else try{v=u.clientX,b=u.clientY}catch{return!1}if(v>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Q(u);var E=a.display,M=E.lineDiv.getBoundingClientRect();if(b>M.bottom||!En(a,p))return At(u);b-=M.top-E.viewOffset;for(var j=0;j<a.display.gutterSpecs.length;++j){var H=E.gutters.childNodes[j];if(H&&H.getBoundingClientRect().right>=v){var st=To(a.doc,b),gt=a.display.gutterSpecs[j];return sn(a,p,a,st,gt.className,u),At(u)}}}function Nf(a,u){return Wp(a,u,"gutterClick",!0)}function $p(a,u){po(a.display,u)||Vg(a,u)||hn(a,u,"contextmenu")||$||a.display.input.onContextMenu(u)}function Vg(a,u){return En(a,"gutterContextMenu")?Wp(a,u,"gutterContextMenu",!1):!1}function If(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ia(a)}var rs={toString:function(){return"CodeMirror.Init"}},Kp={},nc={};function os(a){var u=a.optionHandlers;function p(d,v,b,E){a.defaults[d]=v,b&&(u[d]=E?function(M,j,H){H!=rs&&b(M,j,H)}:b)}a.defineOption=p,a.Init=rs,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,gf(d)},!0),p("indentUnit",2,gf,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){Nl(d),ia(d),Vr(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var b=[],E=d.doc.first;d.doc.iter(function(j){for(var H=0;;){var st=j.text.indexOf(v,H);if(st==-1)break;H=st+v.length,b.push(V(E,st))}E++});for(var M=b.length-1;M>=0;M--)Qa(d.doc,v,b[M],V(b[M].line,b[M].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,v,b){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),b!=rs&&d.refresh()}),p("specialCharPlaceholder",Er,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",K?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!bt),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){If(d),Vs(d)},!0),p("keyMap","default",function(d,v,b){var E=Ju(v),M=b!=rs&&Ju(b);M&&M.detach&&M.detach(d,E),E.attach&&E.attach(d,M||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Fg,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=hf(v,d.options.lineNumbers),Vs(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?Pl(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return kn(d)},!0),p("scrollbarStyle","native",function(d){uf(d),kn(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=hf(d.options.gutters,v),Vs(d)},!0),p("firstLineNumber",1,Vs,!0),p("lineNumberFormatter",function(d){return d},Vs,!0),p("showCursorWhenSelecting",!1,sa,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(js(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,Rg),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,sa,!0),p("singleCursorHeightPerLine",!0,sa,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Nl,!0),p("addModeClass",!1,Nl,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,Nl,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function Rg(a,u,p){var d=p&&p!=rs;if(!u!=!d){var v=a.display.dragFunctions,b=u?xe:Le;b(a.display.scroller,"dragstart",v.start),b(a.display.scroller,"dragenter",v.enter),b(a.display.scroller,"dragover",v.over),b(a.display.scroller,"dragleave",v.leave),b(a.display.scroller,"drop",v.drop)}}function Fg(a){a.options.lineWrapping?(et(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(q(a.display.wrapper,"CodeMirror-wrap"),Ji(a)),Ms(a),Vr(a),ia(a),setTimeout(function(){return kn(a)},100)}function xn(a,u){var p=this;if(!(this instanceof xn))return new xn(a,u);this.options=u=u?Wt(u):{},Wt(Kp,u,!1);var d=u.value;typeof d=="string"?d=new Fr(d,u.mode,null,u.lineSeparator,u.direction):u.mode&&(d.modeOption=u.mode),this.doc=d;var v=new xn.inputStyles[u.inputStyle](this),b=this.display=new fg(a,d,v,u);b.wrapper.CodeMirror=this,If(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),uf(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Kt,keySeq:null,specialChars:null},u.autofocus&&!K&&b.input.focus(),S&&T<11&&setTimeout(function(){return p.display.input.reset(!0)},20),Hg(this),Eg(),qa(this),this.curOp.forceUpdate=!0,gp(this,d),u.autofocus&&!K||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&sf(p)},20):js(this);for(var E in nc)nc.hasOwnProperty(E)&&nc[E](this,u[E],rs);up(this),u.finishInit&&u.finishInit(this);for(var M=0;M<rc.length;++M)rc[M](this);Xa(this),O&&u.lineWrapping&&getComputedStyle(b.lineDiv).textRendering=="optimizelegibility"&&(b.lineDiv.style.textRendering="auto")}xn.defaults=Kp,xn.optionHandlers=nc;function Hg(a){var u=a.display;xe(u.scroller,"mousedown",An(a,jf)),S&&T<11?xe(u.scroller,"dblclick",An(a,function(j){if(!hn(a,j)){var H=Ka(a,j);if(!(!H||Nf(a,j)||po(a.display,j))){Q(j);var st=a.findWordAt(H);$u(a.doc,st.anchor,st.head)}}})):xe(u.scroller,"dblclick",function(j){return hn(a,j)||Q(j)}),xe(u.scroller,"contextmenu",function(j){return $p(a,j)}),xe(u.input.getField(),"contextmenu",function(j){u.scroller.contains(j.target)||$p(a,j)});var p,d={end:0};function v(){u.activeTouch&&(p=setTimeout(function(){return u.activeTouch=null},1e3),d=u.activeTouch,d.end=+new Date)}function b(j){if(j.touches.length!=1)return!1;var H=j.touches[0];return H.radiusX<=1&&H.radiusY<=1}function E(j,H){if(H.left==null)return!0;var st=H.left-j.left,gt=H.top-j.top;return st*st+gt*gt>20*20}xe(u.scroller,"touchstart",function(j){if(!hn(a,j)&&!b(j)&&!Nf(a,j)){u.input.ensurePolled(),clearTimeout(p);var H=+new Date;u.activeTouch={start:H,moved:!1,prev:H-d.end<=300?d:null},j.touches.length==1&&(u.activeTouch.left=j.touches[0].pageX,u.activeTouch.top=j.touches[0].pageY)}}),xe(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),xe(u.scroller,"touchend",function(j){var H=u.activeTouch;if(H&&!po(u,j)&&H.left!=null&&!H.moved&&new Date-H.start<300){var st=a.coordsChar(u.activeTouch,"page"),gt;!H.prev||E(H,H.prev)?gt=new cn(st,st):!H.prev.prev||E(H,H.prev.prev)?gt=a.findWordAt(st):gt=new cn(V(st.line,0),Se(a.doc,V(st.line+1,0))),a.setSelection(gt.anchor,gt.head),a.focus(),Q(j)}v()}),xe(u.scroller,"touchcancel",v),xe(u.scroller,"scroll",function(){u.scroller.clientHeight&&(Ml(a,u.scroller.scrollTop),la(a,u.scroller.scrollLeft,!0),sn(a,"scroll",a))}),xe(u.scroller,"mousewheel",function(j){return dp(a,j)}),xe(u.scroller,"DOMMouseScroll",function(j){return dp(a,j)}),xe(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(j){hn(a,j)||Gt(j)},over:function(j){hn(a,j)||(Tg(a,j),Gt(j))},start:function(j){return Og(a,j)},drop:An(a,Sg),leave:function(j){hn(a,j)||Sf(a)}};var M=u.input.getField();xe(M,"keyup",function(j){return ns.call(a,j)}),xe(M,"keydown",An(a,Lo)),xe(M,"keypress",An(a,Af)),xe(M,"focus",function(j){return sf(a,j)}),xe(M,"blur",function(j){return js(a,j)})}var rc=[];xn.defineInitHook=function(a){return rc.push(a)};function Kl(a,u,p,d){var v=a.doc,b;p==null&&(p="add"),p=="smart"&&(v.mode.indent?b=Ia(a,u).state:p="prev");var E=a.options.tabSize,M=_e(v,u),j=$t(M.text,null,E);M.stateAfter&&(M.stateAfter=null);var H=M.text.match(/^\s*/)[0],st;if(!d&&!/\S/.test(M.text))st=0,p="not";else if(p=="smart"&&(st=v.mode.indent(b,M.text.slice(H.length),M.text),st==be||st>150)){if(!d)return;p="prev"}p=="prev"?u>v.first?st=$t(_e(v,u-1).text,null,E):st=0:p=="add"?st=j+a.options.indentUnit:p=="subtract"?st=j-a.options.indentUnit:typeof p=="number"&&(st=j+p),st=Math.max(0,st);var gt="",jt=0;if(a.options.indentWithTabs)for(var Tt=Math.floor(st/E);Tt;--Tt)jt+=E,gt+="	";if(jt<st&&(gt+=en(st-jt)),gt!=H)return Qa(v,gt,V(u,0),V(u,H.length),"+input"),M.stateAfter=null,!0;for(var Bt=0;Bt<v.sel.ranges.length;Bt++){var Xt=v.sel.ranges[Bt];if(Xt.head.line==u&&Xt.head.ch<H.length){var te=V(u,H.length);wf(v,Bt,new cn(te,te));break}}}var Go=null;function oc(a){Go=a}function ic(a,u,p,d,v){var b=a.doc;a.display.shift=!1,d||(d=b.sel);var E=+new Date-200,M=v=="paste"||a.state.pasteIncoming>E,j=Nr(u),H=null;if(M&&d.ranges.length>1)if(Go&&Go.text.join(`
`)==u){if(d.ranges.length%Go.text.length==0){H=[];for(var st=0;st<Go.text.length;st++)H.push(b.splitLines(Go.text[st]))}}else j.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(H=F(j,function(le){return[le]}));for(var gt=a.curOp.updateInput,jt=d.ranges.length-1;jt>=0;jt--){var Tt=d.ranges[jt],Bt=Tt.from(),Xt=Tt.to();Tt.empty()&&(p&&p>0?Bt=V(Bt.line,Bt.ch-p):a.state.overwrite&&!M?Xt=V(Xt.line,Math.min(_e(b,Xt.line).text.length,Xt.ch+ie(j).length)):M&&Go&&Go.lineWise&&Go.text.join(`
`)==j.join(`
`)&&(Bt=Xt=V(Bt.line,0)));var te={from:Bt,to:Xt,text:H?H[jt%H.length]:j,origin:v||(M?"paste":a.state.cutIncoming>E?"cut":"+input")};Ja(a.doc,te),Hn(a,"inputRead",a,te)}u&&!M&&Yp(a,u),Is(a),a.curOp.updateInput<2&&(a.curOp.updateInput=gt),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Gp(a,u){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&u.hasFocus()&&Xr(u,function(){return ic(u,p,0,null,"paste")}),!0}function Yp(a,u){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var b=a.getModeAt(v.head),E=!1;if(b.electricChars){for(var M=0;M<b.electricChars.length;M++)if(u.indexOf(b.electricChars.charAt(M))>-1){E=Kl(a,v.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(_e(a.doc,v.head.line).text.slice(0,v.head.ch))&&(E=Kl(a,v.head.line,"smart"));E&&Hn(a,"electricInput",a,v.head.line)}}}function Sn(a){for(var u=[],p=[],d=0;d<a.doc.sel.ranges.length;d++){var v=a.doc.sel.ranges[d].head.line,b={anchor:V(v,0),head:V(v+1,0)};p.push(b),u.push(a.getRange(b.anchor,b.head))}return{text:u,ranges:p}}function ac(a,u,p,d){a.setAttribute("autocorrect",p?"on":"off"),a.setAttribute("autocapitalize",d?"on":"off"),a.setAttribute("spellcheck",!!u)}function sc(){var a=J("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=J("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return O?a.style.width="1000px":a.setAttribute("wrap","off"),tt&&(a.style.border="1px solid black"),u}function Gl(a){var u=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){Et(this).focus(),this.display.input.focus()},setOption:function(d,v){var b=this.options,E=b[d];b[d]==v&&d!="mode"||(b[d]=v,u.hasOwnProperty(d)&&An(this,u[d])(this,v,E),sn(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](Ju(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,b=0;b<v.length;++b)if(v[b]==d||v[b].name==d)return v.splice(b,1),!0},addOverlay:ar(function(d,v){var b=d.token?d:a.getMode(this.options,d);if(b.startState)throw new Error("Overlays may not be stateful.");nt(this.state.overlays,{mode:b,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(E){return E.priority}),this.state.modeGen++,Vr(this)}),removeOverlay:ar(function(d){for(var v=this.state.overlays,b=0;b<v.length;++b){var E=v[b].modeSpec;if(E==d||typeof d=="string"&&E.name==d){v.splice(b,1),this.state.modeGen++,Vr(this);return}}}),indentLine:ar(function(d,v,b){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),ni(this.doc,d)&&Kl(this,d,v,b)}),indentSelection:ar(function(d){for(var v=this.doc.sel.ranges,b=-1,E=0;E<v.length;E++){var M=v[E];if(M.empty())M.head.line>b&&(Kl(this,M.head.line,d,!0),b=M.head.line,E==this.doc.sel.primIndex&&Is(this));else{var j=M.from(),H=M.to(),st=Math.max(b,j.line);b=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var gt=st;gt<b;++gt)Kl(this,gt,d);var jt=this.doc.sel.ranges;j.ch==0&&v.length==jt.length&&jt[E].from().ch>0&&wf(this.doc,E,new cn(j,jt[E].to()),se)}}}),getTokenAt:function(d,v){return Ui(this,d,v)},getLineTokens:function(d,v){return Ui(this,V(d),v,!0)},getTokenTypeAt:function(d){d=Se(this.doc,d);var v=ml(this,_e(this.doc,d.line)),b=0,E=(v.length-1)/2,M=d.ch,j;if(M==0)j=v[2];else for(;;){var H=b+E>>1;if((H?v[H*2-1]:0)>=M)E=H;else if(v[H*2+1]<M)b=H+1;else{j=v[H*2+2];break}}var st=j?j.indexOf("overlay "):-1;return st<0?j:st==0?null:j.slice(0,st-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?a.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var b=[];if(!p.hasOwnProperty(v))return b;var E=p[v],M=this.getModeAt(d);if(typeof M[v]=="string")E[M[v]]&&b.push(E[M[v]]);else if(M[v])for(var j=0;j<M[v].length;j++){var H=E[M[v][j]];H&&b.push(H)}else M.helperType&&E[M.helperType]?b.push(E[M.helperType]):E[M.name]&&b.push(E[M.name]);for(var st=0;st<E._global.length;st++){var gt=E._global[st];gt.pred(M,this)&&qt(b,gt.val)==-1&&b.push(gt.val)}return b},getStateAfter:function(d,v){var b=this.doc;return d=rn(b,d??b.first+b.size-1),Ia(this,d+1,v).state},cursorCoords:function(d,v){var b,E=this.doc.sel.primary();return d==null?b=E.head:typeof d=="object"?b=Se(this.doc,d):b=d?E.from():E.to(),Mo(this,b,v||"page")},charCoords:function(d,v){return Du(this,Se(this.doc,d),v||"page")},coordsChar:function(d,v){return d=ju(this,d,v||"page"),tf(this,d.left,d.top)},lineAtHeight:function(d,v){return d=ju(this,{top:d,left:0},v||"page").top,To(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,b){var E=!1,M;if(typeof d=="number"){var j=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>j&&(d=j,E=!0),M=_e(this.doc,d)}else M=d;return Wa(this,M,{top:0,left:0},v||"page",b||E).top+(E?this.doc.height-Fn(M):0)},defaultTextHeight:function(){return xi(this.display)},defaultCharWidth:function(){return aa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,b,E,M){var j=this.display;d=Mo(this,Se(this.doc,d));var H=d.bottom,st=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),j.sizer.appendChild(v),E=="over")H=d.top;else if(E=="above"||E=="near"){var gt=Math.max(j.wrapper.clientHeight,this.doc.height),jt=Math.max(j.sizer.clientWidth,j.lineSpace.clientWidth);(E=="above"||d.bottom+v.offsetHeight>gt)&&d.top>v.offsetHeight?H=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=gt&&(H=d.bottom),st+v.offsetWidth>jt&&(st=jt-v.offsetWidth)}v.style.top=H+"px",v.style.left=v.style.right="",M=="right"?(st=j.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(M=="left"?st=0:M=="middle"&&(st=(j.sizer.clientWidth-v.offsetWidth)/2),v.style.left=st+"px"),b&&tp(this,{left:st,top:H,right:st+v.offsetWidth,bottom:H+v.offsetHeight})},triggerOnKeyDown:ar(Lo),triggerOnKeyPress:ar(Af),triggerOnKeyUp:ns,triggerOnMouseDown:ar(jf),execCommand:function(d){if(Pi.hasOwnProperty(d))return Pi[d].call(null,this)},triggerElectric:ar(function(d){Yp(this,d)}),findPosH:function(d,v,b,E){var M=1;v<0&&(M=-1,v=-v);for(var j=Se(this.doc,d),H=0;H<v&&(j=Yl(this.doc,j,M,b,E),!j.hitSide);++H);return j},moveH:ar(function(d,v){var b=this;this.extendSelectionsBy(function(E){return b.display.shift||b.doc.extend||E.empty()?Yl(b.doc,E.head,d,v,b.options.rtlMoveVisually):d<0?E.from():E.to()},Ue)}),deleteH:ar(function(d,v){var b=this.doc.sel,E=this.doc;b.somethingSelected()?E.replaceSelection("",null,"+delete"):si(this,function(M){var j=Yl(E,M.head,d,v,!1);return d<0?{from:j,to:M.head}:{from:M.head,to:j}})}),findPosV:function(d,v,b,E){var M=1,j=E;v<0&&(M=-1,v=-v);for(var H=Se(this.doc,d),st=0;st<v;++st){var gt=Mo(this,H,"div");if(j==null?j=gt.left:gt.left=j,H=qp(this,gt,M,b),H.hitSide)break}return H},moveV:ar(function(d,v){var b=this,E=this.doc,M=[],j=!this.display.shift&&!E.extend&&E.sel.somethingSelected();if(E.extendSelectionsBy(function(st){if(j)return d<0?st.from():st.to();var gt=Mo(b,st.head,"div");st.goalColumn!=null&&(gt.left=st.goalColumn),M.push(gt.left);var jt=qp(b,gt,d,v);return v=="page"&&st==E.sel.primary()&&lf(b,Du(b,jt,"div").top-gt.top),jt},Ue),M.length)for(var H=0;H<E.sel.ranges.length;H++)E.sel.ranges[H].goalColumn=M[H]}),findWordAt:function(d){var v=this.doc,b=_e(v,d.line).text,E=d.ch,M=d.ch;if(b){var j=this.getHelper(d,"wordChars");(d.sticky=="before"||M==b.length)&&E?--E:++M;for(var H=b.charAt(E),st=Vt(H,j)?function(gt){return Vt(gt,j)}:/\s/.test(H)?function(gt){return/\s/.test(gt)}:function(gt){return!/\s/.test(gt)&&!Vt(gt)};E>0&&st(b.charAt(E-1));)--E;for(;M<b.length&&st(b.charAt(M));)++M}return new cn(V(d.line,E),V(d.line,M))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?et(this.display.cursorDiv,"CodeMirror-overwrite"):q(this.display.cursorDiv,"CodeMirror-overwrite"),sn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==rt(Zt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ar(function(d,v){Al(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-W(this)-this.display.barHeight,width:d.scrollWidth-W(this)-this.display.barWidth,clientHeight:wt(this),clientWidth:pt(this)}},scrollIntoView:ar(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:V(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?Fu(this,d):ep(this,d.from,d.to,d.margin)}),setSize:ar(function(d,v){var b=this,E=function(j){return typeof j=="number"||/^\d+$/.test(String(j))?j+"px":j};d!=null&&(this.display.wrapper.style.width=E(d)),v!=null&&(this.display.wrapper.style.height=E(v)),this.options.lineWrapping&&El(this);var M=this.display.viewFrom;this.doc.iter(M,this.display.viewTo,function(j){if(j.widgets){for(var H=0;H<j.widgets.length;H++)if(j.widgets[H].noHScroll){$o(b,M,"widget");break}}++M}),this.curOp.forceUpdate=!0,sn(this,"refresh",this)}),operation:function(d){return Xr(this,d)},startOperation:function(){return qa(this)},endOperation:function(){return Xa(this)},refresh:ar(function(){var d=this.display.cachedTextHeight;Vr(this),this.curOp.forceUpdate=!0,ia(this),Al(this,this.doc.scrollLeft,this.doc.scrollTop),df(this.display),(d==null||Math.abs(d-xi(this.display))>.5||this.options.lineWrapping)&&Ms(this),sn(this,"refresh",this)}),swapDoc:ar(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),gp(this,d),ia(this),this.display.input.reset(),Al(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,Hn(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ro(a),a.registerHelper=function(d,v,b){p.hasOwnProperty(d)||(p[d]=a[d]={_global:[]}),p[d][v]=b},a.registerGlobalHelper=function(d,v,b,E){a.registerHelper(d,v,E),p[d]._global.push({pred:b,val:E})}}function Yl(a,u,p,d,v){var b=u,E=p,M=_e(a,u.line),j=v&&a.direction=="rtl"?-p:p;function H(){var he=u.line+j;return he<a.first||he>=a.first+a.size?!1:(u=new V(he,u.ch,u.sticky),M=_e(a,he))}function st(he){var ce;if(d=="codepoint"){var me=M.text.charCodeAt(u.ch+(p>0?0:-1));if(isNaN(me))ce=null;else{var ke=p>0?me>=55296&&me<56320:me>=56320&&me<57343;ce=new V(u.line,Math.max(0,Math.min(M.text.length,u.ch+p*(ke?2:1))),-p)}}else v?ce=Ip(a.cm,M,u,p):ce=Qu(M,u,p);if(ce==null)if(!he&&H())u=tc(v,a.cm,M,u.line,j);else return!1;else u=ce;return!0}if(d=="char"||d=="codepoint")st();else if(d=="column")st(!0);else if(d=="word"||d=="group")for(var gt=null,jt=d=="group",Tt=a.cm&&a.cm.getHelper(u,"wordChars"),Bt=!0;!(p<0&&!st(!Bt));Bt=!1){var Xt=M.text.charAt(u.ch)||`
`,te=Vt(Xt,Tt)?"w":jt&&Xt==`
`?"n":!jt||/\s/.test(Xt)?null:"p";if(jt&&!Bt&&!te&&(te="s"),gt&&gt!=te){p<0&&(p=1,st(),u.sticky="after");break}if(te&&(gt=te),p>0&&!st(!Bt))break}var le=Yu(a,u,b,E,!0);return Ut(b,le)&&(le.hitSide=!0),le}function qp(a,u,p,d){var v=a.doc,b=u.left,E;if(d=="page"){var M=Math.min(a.display.wrapper.clientHeight,Et(a).innerHeight||v(a).documentElement.clientHeight),j=Math.max(M-.5*xi(a.display),3);E=(p>0?u.bottom:u.top)+p*j}else d=="line"&&(E=p>0?u.bottom+3:u.top-3);for(var H;H=tf(a,b,E),!!H.outside;){if(p<0?E<=0:E>=v.height){H.hitSide=!0;break}E+=p*5}return H}var dn=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Kt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};dn.prototype.init=function(a){var u=this,p=this,d=p.cm,v=p.div=a.lineDiv;v.contentEditable=!0,ac(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function b(M){for(var j=M.target;j;j=j.parentNode){if(j==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(j.className))break}return!1}xe(v,"paste",function(M){!b(M)||hn(d,M)||Gp(M,d)||T<=11&&setTimeout(An(d,function(){return u.updateFromDOM()}),20)}),xe(v,"compositionstart",function(M){u.composing={data:M.data,done:!1}}),xe(v,"compositionupdate",function(M){u.composing||(u.composing={data:M.data,done:!1})}),xe(v,"compositionend",function(M){u.composing&&(M.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),xe(v,"touchstart",function(){return p.forceCompositionEnd()}),xe(v,"input",function(){u.composing||u.readFromDOMSoon()});function E(M){if(!(!b(M)||hn(d,M))){if(d.somethingSelected())oc({lineWise:!1,text:d.getSelections()}),M.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var j=Sn(d);oc({lineWise:!0,text:j.text}),M.type=="cut"&&d.operation(function(){d.setSelections(j.ranges,0,se),d.replaceSelection("",null,"cut")})}else return;if(M.clipboardData){M.clipboardData.clearData();var H=Go.text.join(`
`);if(M.clipboardData.setData("Text",H),M.clipboardData.getData("Text")==H){M.preventDefault();return}}var st=sc(),gt=st.firstChild;ac(gt),d.display.lineSpace.insertBefore(st,d.display.lineSpace.firstChild),gt.value=Go.text.join(`
`);var jt=rt(v.ownerDocument);zt(gt),setTimeout(function(){d.display.lineSpace.removeChild(st),jt.focus(),jt==v&&p.showPrimarySelection()},50)}}xe(v,"copy",E),xe(v,"cut",E)},dn.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},dn.prototype.prepareSelection=function(){var a=Iu(this.cm,!1);return a.focus=rt(this.div.ownerDocument)==this.div,a},dn.prototype.showSelection=function(a,u){!a||!this.cm.display.view.length||((a.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(a))},dn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},dn.prototype.showPrimarySelection=function(){var a=this.getSelection(),u=this.cm,p=u.doc.sel.primary(),d=p.from(),v=p.to();if(u.display.viewTo==u.display.viewFrom||d.line>=u.display.viewTo||v.line<u.display.viewFrom){a.removeAllRanges();return}var b=ql(u,a.anchorNode,a.anchorOffset),E=ql(u,a.focusNode,a.focusOffset);if(!(b&&!b.bad&&E&&!E.bad&&it(Be(b,E),d)==0&&it(Ne(b,E),v)==0)){var M=u.display.view,j=d.line>=u.display.viewFrom&&lc(u,d)||{node:M[0].measure.map[2],offset:0},H=v.line<u.display.viewTo&&lc(u,v);if(!H){var st=M[M.length-1].measure,gt=st.maps?st.maps[st.maps.length-1]:st.map;H={node:gt[gt.length-1],offset:gt[gt.length-2]-gt[gt.length-3]}}if(!j||!H){a.removeAllRanges();return}var jt=a.rangeCount&&a.getRangeAt(0),Tt;try{Tt=D(j.node,j.offset,H.offset,H.node)}catch{}Tt&&(!g&&u.state.focused?(a.collapse(j.node,j.offset),Tt.collapsed||(a.removeAllRanges(),a.addRange(Tt))):(a.removeAllRanges(),a.addRange(Tt)),jt&&a.anchorNode==null?a.addRange(jt):g&&this.startGracePeriod()),this.rememberSelection()}},dn.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},dn.prototype.showMultipleSelections=function(a){ht(this.cm.display.cursorDiv,a.cursors),ht(this.cm.display.selectionDiv,a.selection)},dn.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},dn.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var u=a.getRangeAt(0).commonAncestorContainer;return yt(this.div,u)},dn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||rt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},dn.prototype.blur=function(){this.div.blur()},dn.prototype.getField=function(){return this.div},dn.prototype.supportsTouch=function(){return!0},dn.prototype.receivedFocus=function(){var a=this,u=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Xr(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function p(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},dn.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},dn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),u=this.cm;if(U&&k&&this.cm.display.gutterSpecs.length&&Xp(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=ql(u,a.anchorNode,a.anchorOffset),d=ql(u,a.focusNode,a.focusOffset);p&&d&&Xr(u,function(){br(u.doc,ua(p,d),se),(p.bad||d.bad)&&(u.curOp.selectionChanged=!0)})}}},dn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,u=a.display,p=a.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>a.firstLine()&&(d=V(d.line-1,_e(a.doc,d.line-1).length)),v.ch==_e(a.doc,v.line).text.length&&v.line<a.lastLine()&&(v=V(v.line+1,0)),d.line<u.viewFrom||v.line>u.viewTo-1)return!1;var b,E,M;d.line==u.viewFrom||(b=Ga(a,d.line))==0?(E=Qe(u.view[0].line),M=u.view[0].node):(E=Qe(u.view[b].line),M=u.view[b-1].node.nextSibling);var j=Ga(a,v.line),H,st;if(j==u.view.length-1?(H=u.viewTo-1,st=u.lineDiv.lastChild):(H=Qe(u.view[j+1].line)-1,st=u.view[j+1].node.previousSibling),!M)return!1;for(var gt=a.doc.splitLines(Zp(a,M,st,E,H)),jt=Gr(a.doc,V(E,0),V(H,_e(a.doc,H).text.length));gt.length>1&&jt.length>1;)if(ie(gt)==ie(jt))gt.pop(),jt.pop(),H--;else if(gt[0]==jt[0])gt.shift(),jt.shift(),E++;else break;for(var Tt=0,Bt=0,Xt=gt[0],te=jt[0],le=Math.min(Xt.length,te.length);Tt<le&&Xt.charCodeAt(Tt)==te.charCodeAt(Tt);)++Tt;for(var he=ie(gt),ce=ie(jt),me=Math.min(he.length-(gt.length==1?Tt:0),ce.length-(jt.length==1?Tt:0));Bt<me&&he.charCodeAt(he.length-Bt-1)==ce.charCodeAt(ce.length-Bt-1);)++Bt;if(gt.length==1&&jt.length==1&&E==d.line)for(;Tt&&Tt>d.ch&&he.charCodeAt(he.length-Bt-1)==ce.charCodeAt(ce.length-Bt-1);)Tt--,Bt++;gt[gt.length-1]=he.slice(0,he.length-Bt).replace(/^\u200b+/,""),gt[0]=gt[0].slice(Tt).replace(/\u200b+$/,"");var ke=V(E,Tt),Ee=V(H,jt.length?ie(jt).length-Bt:0);if(gt.length>1||gt[0]||it(ke,Ee))return Qa(a.doc,gt,ke,Ee,"+input"),!0},dn.prototype.ensurePolled=function(){this.forceCompositionEnd()},dn.prototype.reset=function(){this.forceCompositionEnd()},dn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},dn.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},dn.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Xr(this.cm,function(){return Vr(a.cm)})},dn.prototype.setUneditable=function(a){a.contentEditable="false"},dn.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||An(this.cm,ic)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},dn.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},dn.prototype.onContextMenu=function(){},dn.prototype.resetPosition=function(){},dn.prototype.needsContentAttribute=!0;function lc(a,u){var p=Ve(a,u.line);if(!p||p.hidden)return null;var d=_e(a.doc,u.line),v=kt(p,d,u.line),b=Ze(d,a.doc.direction),E="left";if(b){var M=Vn(b,u.ch);E=M%2?"right":"left"}var j=Tl(v.map,u.ch,E);return j.offset=j.collapse=="right"?j.end:j.start,j}function Xp(a){for(var u=a;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function ki(a,u){return u&&(a.bad=!0),a}function Zp(a,u,p,d,v){var b="",E=!1,M=a.doc.lineSeparator(),j=!1;function H(Tt){return function(Bt){return Bt.id==Tt}}function st(){E&&(b+=M,j&&(b+=M),E=j=!1)}function gt(Tt){Tt&&(st(),b+=Tt)}function jt(Tt){if(Tt.nodeType==1){var Bt=Tt.getAttribute("cm-text");if(Bt){gt(Bt);return}var Xt=Tt.getAttribute("cm-marker"),te;if(Xt){var le=a.findMarks(V(d,0),V(v+1,0),H(+Xt));le.length&&(te=le[0].find(0))&&gt(Gr(a.doc,te.from,te.to).join(M));return}if(Tt.getAttribute("contenteditable")=="false")return;var he=/^(pre|div|p|li|table|br)$/i.test(Tt.nodeName);if(!/^br$/i.test(Tt.nodeName)&&Tt.textContent.length==0)return;he&&st();for(var ce=0;ce<Tt.childNodes.length;ce++)jt(Tt.childNodes[ce]);/^(pre|p)$/i.test(Tt.nodeName)&&(j=!0),he&&(E=!0)}else Tt.nodeType==3&&gt(Tt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;jt(u),u!=p;)u=u.nextSibling,j=!1;return b}function ql(a,u,p){var d;if(u==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[p],!d)return ki(a.clipPos(V(a.display.viewTo-1)),!0);u=null,p=0}else for(d=u;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var v=0;v<a.display.view.length;v++){var b=a.display.view[v];if(b.node==d)return Bg(b,u,p)}}function Bg(a,u,p){var d=a.text.firstChild,v=!1;if(!u||!yt(d,u))return ki(V(Qe(a.line),0),!0);if(u==d&&(v=!0,u=d.childNodes[p],p=0,!u)){var b=a.rest?ie(a.rest):a.line;return ki(V(Qe(b),b.text.length),v)}var E=u.nodeType==3?u:null,M=u;for(!E&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(E=u.firstChild,p&&(p=E.nodeValue.length));M.parentNode!=d;)M=M.parentNode;var j=a.measure,H=j.maps;function st(te,le,he){for(var ce=-1;ce<(H?H.length:0);ce++)for(var me=ce<0?j.map:H[ce],ke=0;ke<me.length;ke+=3){var Ee=me[ke+2];if(Ee==te||Ee==le){var Ke=Qe(ce<0?a.line:a.rest[ce]),yn=me[ke]+he;return(he<0||Ee!=te)&&(yn=me[ke+(he?1:0)]),V(Ke,yn)}}}var gt=st(E,M,p);if(gt)return ki(gt,v);for(var jt=M.nextSibling,Tt=E?E.nodeValue.length-p:0;jt;jt=jt.nextSibling){if(gt=st(jt,jt.firstChild,0),gt)return ki(V(gt.line,gt.ch-Tt),v);Tt+=jt.textContent.length}for(var Bt=M.previousSibling,Xt=p;Bt;Bt=Bt.previousSibling){if(gt=st(Bt,Bt.firstChild,-1),gt)return ki(V(gt.line,gt.ch+Xt),v);Xt+=Bt.textContent.length}}var zn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Kt,this.hasSelection=!1,this.composing=null,this.resetting=!1};zn.prototype.init=function(a){var u=this,p=this,d=this.cm;this.createField(a);var v=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),tt&&(v.style.width="0px"),xe(v,"input",function(){S&&T>=9&&u.hasSelection&&(u.hasSelection=null),p.poll()}),xe(v,"paste",function(E){hn(d,E)||Gp(E,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function b(E){if(!hn(d,E)){if(d.somethingSelected())oc({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var M=Sn(d);oc({lineWise:!0,text:M.text}),E.type=="cut"?d.setSelections(M.ranges,null,se):(p.prevInput="",v.value=M.text.join(`
`),zt(v))}else return;E.type=="cut"&&(d.state.cutIncoming=+new Date)}}xe(v,"cut",b),xe(v,"copy",b),xe(a.scroller,"paste",function(E){if(!(po(a,E)||hn(d,E))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var M=new Event("paste");M.clipboardData=E.clipboardData,v.dispatchEvent(M)}}),xe(a.lineSpace,"selectstart",function(E){po(a,E)||Q(E)}),xe(v,"compositionstart",function(){var E=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:E,range:d.markText(E,d.getCursor("to"),{className:"CodeMirror-composing"})}}),xe(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},zn.prototype.createField=function(a){this.wrapper=sc(),this.textarea=this.wrapper.firstChild;var u=this.cm.options;ac(this.textarea,u.spellcheck,u.autocorrect,u.autocapitalize)},zn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},zn.prototype.prepareSelection=function(){var a=this.cm,u=a.display,p=a.doc,d=Iu(a);if(a.options.moveInputWithCursor){var v=Mo(a,p.sel.primary().head,"div"),b=u.wrapper.getBoundingClientRect(),E=u.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,v.top+E.top-b.top)),d.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,v.left+E.left-b.left))}return d},zn.prototype.showSelection=function(a){var u=this.cm,p=u.display;ht(p.cursorDiv,a.cursors),ht(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},zn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var u=this.cm;if(this.resetting=!0,u.somethingSelected()){this.prevInput="";var p=u.getSelection();this.textarea.value=p,u.state.focused&&zt(this.textarea),S&&T>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",S&&T>=9&&(this.hasSelection=null));this.resetting=!1}},zn.prototype.getField=function(){return this.textarea},zn.prototype.supportsTouch=function(){return!1},zn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!K||rt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},zn.prototype.blur=function(){this.textarea.blur()},zn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},zn.prototype.receivedFocus=function(){this.slowPoll()},zn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},zn.prototype.fastPoll=function(){var a=!1,u=this;u.pollingFast=!0;function p(){var d=u.poll();!d&&!a?(a=!0,u.polling.set(60,p)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,p)},zn.prototype.poll=function(){var a=this,u=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||Wr(p)&&!d&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var v=p.value;if(v==d&&!u.somethingSelected())return!1;if(S&&T>=9&&this.hasSelection===v||X&&/[\uf700-\uf7ff]/.test(v))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var b=v.charCodeAt(0);if(b==8203&&!d&&(d=""),b==8666)return this.reset(),this.cm.execCommand("undo")}for(var E=0,M=Math.min(d.length,v.length);E<M&&d.charCodeAt(E)==v.charCodeAt(E);)++E;return Xr(u,function(){ic(u,v.slice(E),d.length-E,null,a.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=v,a.composing&&(a.composing.range.clear(),a.composing.range=u.markText(a.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},zn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},zn.prototype.onKeyPress=function(){S&&T>=9&&(this.hasSelection=null),this.fastPoll()},zn.prototype.onContextMenu=function(a){var u=this,p=u.cm,d=p.display,v=u.textarea;u.contextMenuPending&&u.contextMenuPending();var b=Ka(p,a),E=d.scroller.scrollTop;if(!b||R)return;var M=p.options.resetSelectionOnContextMenu;M&&p.doc.sel.contains(b)==-1&&An(p,br)(p.doc,ua(b),se);var j=v.style.cssText,H=u.wrapper.style.cssText,st=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-st.top-5)+"px; left: "+(a.clientX-st.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var gt;O&&(gt=v.ownerDocument.defaultView.scrollY),d.input.focus(),O&&v.ownerDocument.defaultView.scrollTo(null,gt),d.input.reset(),p.somethingSelected()||(v.value=u.prevInput=" "),u.contextMenuPending=Tt,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function jt(){if(v.selectionStart!=null){var Xt=p.somethingSelected(),te=""+(Xt?v.value:"");v.value="",v.value=te,u.prevInput=Xt?"":"",v.selectionStart=1,v.selectionEnd=te.length,d.selForContextMenu=p.doc.sel}}function Tt(){if(u.contextMenuPending==Tt&&(u.contextMenuPending=!1,u.wrapper.style.cssText=H,v.style.cssText=j,S&&T<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=E),v.selectionStart!=null)){(!S||S&&T<9)&&jt();var Xt=0,te=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&u.prevInput==""?An(p,Sp)(p):Xt++<10?d.detectingSelectAll=setTimeout(te,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(te,200)}}if(S&&T>=9&&jt(),$){Gt(a);var Bt=function(){Le(window,"mouseup",Bt),setTimeout(Tt,20)};xe(window,"mouseup",Bt)}else setTimeout(Tt,50)},zn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},zn.prototype.setUneditable=function(){},zn.prototype.needsContentAttribute=!1;function zg(a,u){if(u=u?Wt(u):{},u.value=a.value,!u.tabindex&&a.tabIndex&&(u.tabindex=a.tabIndex),!u.placeholder&&a.placeholder&&(u.placeholder=a.placeholder),u.autofocus==null){var p=rt(a.ownerDocument);u.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function d(){a.value=M.getValue()}var v;if(a.form&&(xe(a.form,"submit",d),!u.leaveSubmitMethodAlone)){var b=a.form;v=b.submit;try{var E=b.submit=function(){d(),b.submit=v,b.submit(),b.submit=E}}catch{}}u.finishInit=function(j){j.save=d,j.getTextArea=function(){return a},j.toTextArea=function(){j.toTextArea=isNaN,d(),a.parentNode.removeChild(j.getWrapperElement()),a.style.display="",a.form&&(Le(a.form,"submit",d),!u.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=v))}},a.style.display="none";var M=xn(function(j){return a.parentNode.insertBefore(j,a.nextSibling)},u);return M}function Us(a){a.off=Le,a.on=xe,a.wheelEventPixels=dg,a.Doc=Fr,a.splitLines=Nr,a.countColumn=$t,a.findColumn=mn,a.isWordChar=ct,a.Pass=be,a.signal=sn,a.Line=yi,a.changeEnd=ca,a.scrollbarModel=op,a.Pos=V,a.cmpPos=it,a.modes=fn,a.mimeModes=ee,a.resolveMode=oo,a.getMode=Oo,a.modeExtensions=Jn,a.extendMode=Bo,a.copyState=$r,a.startState=gi,a.innerMode=Kr,a.commands=Pi,a.keyMap=Ei,a.keyName=Ef,a.isModifierKey=Of,a.lookupKey=es,a.normalizeKeyMap=Np,a.StringStream=un,a.SharedTextMarker=zl,a.TextMarker=ha,a.LineWidget=Bl,a.e_preventDefault=Q,a.e_stopPropagation=_t,a.e_stop=Gt,a.addClass=et,a.contains=yt,a.rmClass=q,a.keyNames=ga}os(xn),Gl(xn);var Vf="iter insert remove copy getEditor constructor".split(" ");for(var Ws in Fr.prototype)Fr.prototype.hasOwnProperty(Ws)&&qt(Vf,Ws)<0&&(xn.prototype[Ws]=function(a){return function(){return a.apply(this.doc,arguments)}}(Fr.prototype[Ws]));return ro(Fr),xn.inputStyles={textarea:zn,contenteditable:dn},xn.defineMode=function(a){!xn.defaults.mode&&a!="null"&&(xn.defaults.mode=a),So.apply(this,arguments)},xn.defineMIME=Na,xn.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),xn.defineMIME("text/plain","null"),xn.defineExtension=function(a,u){xn.prototype[a]=u},xn.defineDocExtension=function(a,u){Fr.prototype[a]=u},xn.fromTextArea=zg,Us(xn),xn.version="5.65.15",xn})},629:(i,s,f)=>{(function(g){g(f(631))})(function(g){g.defineMode("css",function(q,Z){var ht=Z.inline;Z.propertyKeywords||(Z=g.resolveMode("text/css"));var J=q.indentUnit,xt=Z.tokenHooks,D=Z.documentTypes||{},yt=Z.mediaTypes||{},rt=Z.mediaFeatures||{},et=Z.mediaValueKeywords||{},Mt=Z.propertyKeywords||{},zt=Z.nonStandardPropertyKeywords||{},Zt=Z.fontProperties||{},Et=Z.counterDescriptors||{},Ht=Z.colorKeywords||{},Wt=Z.valueKeywords||{},$t=Z.allowNested,Kt=Z.lineComment,qt=Z.supportsAtComponent===!0,ge=q.highlightNonStandardPropertyKeywords!==!1,be,se;function ve(ct,Vt){return be=Vt,ct}function Ue(ct,Vt){var Pt=ct.next();if(xt[Pt]){var Ce=xt[Pt](ct,Vt);if(Ce!==!1)return Ce}if(Pt=="@")return ct.eatWhile(/[\w\\\-]/),ve("def",ct.current());if(Pt=="="||(Pt=="~"||Pt=="|")&&ct.eat("="))return ve(null,"compare");if(Pt=='"'||Pt=="'")return Vt.tokenize=mn(Pt),Vt.tokenize(ct,Vt);if(Pt=="#")return ct.eatWhile(/[\w\\\-]/),ve("atom","hash");if(Pt=="!")return ct.match(/^\s*\w*/),ve("keyword","important");if(/\d/.test(Pt)||Pt=="."&&ct.eat(/\d/))return ct.eatWhile(/[\w.%]/),ve("number","unit");if(Pt==="-"){if(/[\d.]/.test(ct.peek()))return ct.eatWhile(/[\w.%]/),ve("number","unit");if(ct.match(/^-[\w\\\-]*/))return ct.eatWhile(/[\w\\\-]/),ct.match(/^\s*:/,!1)?ve("variable-2","variable-definition"):ve("variable-2","variable");if(ct.match(/^\w+-/))return ve("meta","meta")}else return/[,+>*\/]/.test(Pt)?ve(null,"select-op"):Pt=="."&&ct.match(/^-?[_a-z][_a-z0-9-]*/i)?ve("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Pt)?ve(null,Pt):ct.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ct.current())&&(Vt.tokenize=an),ve("variable callee","variable")):/[\w\\\-]/.test(Pt)?(ct.eatWhile(/[\w\\\-]/),ve("property","word")):ve(null,null)}function mn(ct){return function(Vt,Pt){for(var Ce=!1,Ae;(Ae=Vt.next())!=null;){if(Ae==ct&&!Ce){ct==")"&&Vt.backUp(1);break}Ce=!Ce&&Ae=="\\"}return(Ae==ct||!Ce&&ct!=")")&&(Pt.tokenize=null),ve("string","string")}}function an(ct,Vt){return ct.next(),ct.match(/^\s*[\"\')]/,!1)?Vt.tokenize=null:Vt.tokenize=mn(")"),ve(null,"(")}function en(ct,Vt,Pt){this.type=ct,this.indent=Vt,this.prev=Pt}function ie(ct,Vt,Pt,Ce){return ct.context=new en(Pt,Vt.indentation()+(Ce===!1?0:J),ct.context),Pt}function F(ct){return ct.context.prev&&(ct.context=ct.context.prev),ct.context.type}function nt(ct,Vt,Pt){return Ft[Pt.context.type](ct,Vt,Pt)}function vt(ct,Vt,Pt,Ce){for(var Ae=Ce||1;Ae>0;Ae--)Pt.context=Pt.context.prev;return nt(ct,Vt,Pt)}function Lt(ct){var Vt=ct.current().toLowerCase();Wt.hasOwnProperty(Vt)?se="atom":Ht.hasOwnProperty(Vt)?se="keyword":se="variable"}var Ft={};return Ft.top=function(ct,Vt,Pt){if(ct=="{")return ie(Pt,Vt,"block");if(ct=="}"&&Pt.context.prev)return F(Pt);if(qt&&/@component/i.test(ct))return ie(Pt,Vt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ct))return ie(Pt,Vt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ct))return ie(Pt,Vt,"atBlock");if(/^@(font-face|counter-style)/i.test(ct))return Pt.stateArg=ct,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ct))return"keyframes";if(ct&&ct.charAt(0)=="@")return ie(Pt,Vt,"at");if(ct=="hash")se="builtin";else if(ct=="word")se="tag";else{if(ct=="variable-definition")return"maybeprop";if(ct=="interpolation")return ie(Pt,Vt,"interpolation");if(ct==":")return"pseudo";if($t&&ct=="(")return ie(Pt,Vt,"parens")}return Pt.context.type},Ft.block=function(ct,Vt,Pt){if(ct=="word"){var Ce=Vt.current().toLowerCase();return Mt.hasOwnProperty(Ce)?(se="property","maybeprop"):zt.hasOwnProperty(Ce)?(se=ge?"string-2":"property","maybeprop"):$t?(se=Vt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(se+=" error","maybeprop")}else return ct=="meta"?"block":!$t&&(ct=="hash"||ct=="qualifier")?(se="error","block"):Ft.top(ct,Vt,Pt)},Ft.maybeprop=function(ct,Vt,Pt){return ct==":"?ie(Pt,Vt,"prop"):nt(ct,Vt,Pt)},Ft.prop=function(ct,Vt,Pt){if(ct==";")return F(Pt);if(ct=="{"&&$t)return ie(Pt,Vt,"propBlock");if(ct=="}"||ct=="{")return vt(ct,Vt,Pt);if(ct=="(")return ie(Pt,Vt,"parens");if(ct=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Vt.current()))se+=" error";else if(ct=="word")Lt(Vt);else if(ct=="interpolation")return ie(Pt,Vt,"interpolation");return"prop"},Ft.propBlock=function(ct,Vt,Pt){return ct=="}"?F(Pt):ct=="word"?(se="property","maybeprop"):Pt.context.type},Ft.parens=function(ct,Vt,Pt){return ct=="{"||ct=="}"?vt(ct,Vt,Pt):ct==")"?F(Pt):ct=="("?ie(Pt,Vt,"parens"):ct=="interpolation"?ie(Pt,Vt,"interpolation"):(ct=="word"&&Lt(Vt),"parens")},Ft.pseudo=function(ct,Vt,Pt){return ct=="meta"?"pseudo":ct=="word"?(se="variable-3",Pt.context.type):nt(ct,Vt,Pt)},Ft.documentTypes=function(ct,Vt,Pt){return ct=="word"&&D.hasOwnProperty(Vt.current())?(se="tag",Pt.context.type):Ft.atBlock(ct,Vt,Pt)},Ft.atBlock=function(ct,Vt,Pt){if(ct=="(")return ie(Pt,Vt,"atBlock_parens");if(ct=="}"||ct==";")return vt(ct,Vt,Pt);if(ct=="{")return F(Pt)&&ie(Pt,Vt,$t?"block":"top");if(ct=="interpolation")return ie(Pt,Vt,"interpolation");if(ct=="word"){var Ce=Vt.current().toLowerCase();Ce=="only"||Ce=="not"||Ce=="and"||Ce=="or"?se="keyword":yt.hasOwnProperty(Ce)?se="attribute":rt.hasOwnProperty(Ce)?se="property":et.hasOwnProperty(Ce)?se="keyword":Mt.hasOwnProperty(Ce)?se="property":zt.hasOwnProperty(Ce)?se=ge?"string-2":"property":Wt.hasOwnProperty(Ce)?se="atom":Ht.hasOwnProperty(Ce)?se="keyword":se="error"}return Pt.context.type},Ft.atComponentBlock=function(ct,Vt,Pt){return ct=="}"?vt(ct,Vt,Pt):ct=="{"?F(Pt)&&ie(Pt,Vt,$t?"block":"top",!1):(ct=="word"&&(se="error"),Pt.context.type)},Ft.atBlock_parens=function(ct,Vt,Pt){return ct==")"?F(Pt):ct=="{"||ct=="}"?vt(ct,Vt,Pt,2):Ft.atBlock(ct,Vt,Pt)},Ft.restricted_atBlock_before=function(ct,Vt,Pt){return ct=="{"?ie(Pt,Vt,"restricted_atBlock"):ct=="word"&&Pt.stateArg=="@counter-style"?(se="variable","restricted_atBlock_before"):nt(ct,Vt,Pt)},Ft.restricted_atBlock=function(ct,Vt,Pt){return ct=="}"?(Pt.stateArg=null,F(Pt)):ct=="word"?(Pt.stateArg=="@font-face"&&!Zt.hasOwnProperty(Vt.current().toLowerCase())||Pt.stateArg=="@counter-style"&&!Et.hasOwnProperty(Vt.current().toLowerCase())?se="error":se="property","maybeprop"):"restricted_atBlock"},Ft.keyframes=function(ct,Vt,Pt){return ct=="word"?(se="variable","keyframes"):ct=="{"?ie(Pt,Vt,"top"):nt(ct,Vt,Pt)},Ft.at=function(ct,Vt,Pt){return ct==";"?F(Pt):ct=="{"||ct=="}"?vt(ct,Vt,Pt):(ct=="word"?se="tag":ct=="hash"&&(se="builtin"),"at")},Ft.interpolation=function(ct,Vt,Pt){return ct=="}"?F(Pt):ct=="{"||ct==";"?vt(ct,Vt,Pt):(ct=="word"?se="variable":ct!="variable"&&ct!="("&&ct!=")"&&(se="error"),"interpolation")},{startState:function(ct){return{tokenize:null,state:ht?"block":"top",stateArg:null,context:new en(ht?"block":"top",ct||0,null)}},token:function(ct,Vt){if(!Vt.tokenize&&ct.eatSpace())return null;var Pt=(Vt.tokenize||Ue)(ct,Vt);return Pt&&typeof Pt=="object"&&(be=Pt[1],Pt=Pt[0]),se=Pt,be!="comment"&&(Vt.state=Ft[Vt.state](be,ct,Vt)),se},indent:function(ct,Vt){var Pt=ct.context,Ce=Vt&&Vt.charAt(0),Ae=Pt.indent;return Pt.type=="prop"&&(Ce=="}"||Ce==")")&&(Pt=Pt.prev),Pt.prev&&(Ce=="}"&&(Pt.type=="block"||Pt.type=="top"||Pt.type=="interpolation"||Pt.type=="restricted_atBlock")?(Pt=Pt.prev,Ae=Pt.indent):(Ce==")"&&(Pt.type=="parens"||Pt.type=="atBlock_parens")||Ce=="{"&&(Pt.type=="at"||Pt.type=="atBlock"))&&(Ae=Math.max(0,Pt.indent-J))),Ae},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Kt,fold:"brace"}});function w(q){for(var Z={},ht=0;ht<q.length;++ht)Z[q[ht].toLowerCase()]=!0;return Z}var _=["domain","regexp","url","url-prefix"],x=w(_),S=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],T=w(S),O=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],A=w(O),k=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],L=w(k),R=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],z=w(R),ot=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],dt=w(ot),tt=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],U=w(tt),K=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],X=w(K),mt=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],bt=w(mt),St=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Ot=w(St),$=_.concat(S).concat(O).concat(k).concat(R).concat(ot).concat(mt).concat(St);g.registerHelper("hintWords","css",$);function Y(q,Z){for(var ht=!1,J;(J=q.next())!=null;){if(ht&&J=="/"){Z.tokenize=null;break}ht=J=="*"}return["comment","comment"]}g.defineMIME("text/css",{documentTypes:x,mediaTypes:T,mediaFeatures:A,mediaValueKeywords:L,propertyKeywords:z,nonStandardPropertyKeywords:dt,fontProperties:U,counterDescriptors:X,colorKeywords:bt,valueKeywords:Ot,tokenHooks:{"/":function(q,Z){return q.eat("*")?(Z.tokenize=Y,Y(q,Z)):!1}},name:"css"}),g.defineMIME("text/x-scss",{mediaTypes:T,mediaFeatures:A,mediaValueKeywords:L,propertyKeywords:z,nonStandardPropertyKeywords:dt,colorKeywords:bt,valueKeywords:Ot,fontProperties:U,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(q,Z){return q.eat("/")?(q.skipToEnd(),["comment","comment"]):q.eat("*")?(Z.tokenize=Y,Y(q,Z)):["operator","operator"]},":":function(q){return q.match(/^\s*\{/,!1)?[null,null]:!1},$:function(q){return q.match(/^[\w-]+/),q.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(q){return q.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),g.defineMIME("text/x-less",{mediaTypes:T,mediaFeatures:A,mediaValueKeywords:L,propertyKeywords:z,nonStandardPropertyKeywords:dt,colorKeywords:bt,valueKeywords:Ot,fontProperties:U,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(q,Z){return q.eat("/")?(q.skipToEnd(),["comment","comment"]):q.eat("*")?(Z.tokenize=Y,Y(q,Z)):["operator","operator"]},"@":function(q){return q.eat("{")?[null,"interpolation"]:q.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(q.eatWhile(/[\w\\\-]/),q.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),g.defineMIME("text/x-gss",{documentTypes:x,mediaTypes:T,mediaFeatures:A,propertyKeywords:z,nonStandardPropertyKeywords:dt,fontProperties:U,counterDescriptors:X,colorKeywords:bt,valueKeywords:Ot,supportsAtComponent:!0,tokenHooks:{"/":function(q,Z){return q.eat("*")?(Z.tokenize=Y,Y(q,Z)):!1}},name:"css",helperType:"gss"})})},531:(i,s,f)=>{(function(g){g(f(631),f(589),f(876),f(629))})(function(g){var w={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function _(L,R,z){var ot=L.current(),dt=ot.search(R);return dt>-1?L.backUp(ot.length-dt):ot.match(/<\/?$/)&&(L.backUp(ot.length),L.match(R,!1)||L.match(ot)),z}var x={};function S(L){var R=x[L];return R||(x[L]=new RegExp("\\s+"+L+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function T(L,R){var z=L.match(S(R));return z?/^\s*(.*?)\s*$/.exec(z[2])[1]:""}function O(L,R){return new RegExp((R?"^":"")+"</\\s*"+L+"\\s*>","i")}function A(L,R){for(var z in L)for(var ot=R[z]||(R[z]=[]),dt=L[z],tt=dt.length-1;tt>=0;tt--)ot.unshift(dt[tt])}function k(L,R){for(var z=0;z<L.length;z++){var ot=L[z];if(!ot[0]||ot[1].test(T(R,ot[0])))return ot[2]}}g.defineMode("htmlmixed",function(L,R){var z=g.getMode(L,{name:"xml",htmlMode:!0,multilineTagIndentFactor:R.multilineTagIndentFactor,multilineTagIndentPastTag:R.multilineTagIndentPastTag,allowMissingTagName:R.allowMissingTagName}),ot={},dt=R&&R.tags,tt=R&&R.scriptTypes;if(A(w,ot),dt&&A(dt,ot),tt)for(var U=tt.length-1;U>=0;U--)ot.script.unshift(["type",tt[U].matches,tt[U].mode]);function K(X,mt){var bt=z.token(X,mt.htmlState),St=/\btag\b/.test(bt),Ot;if(St&&!/[<>\s\/]/.test(X.current())&&(Ot=mt.htmlState.tagName&&mt.htmlState.tagName.toLowerCase())&&ot.hasOwnProperty(Ot))mt.inTag=Ot+" ";else if(mt.inTag&&St&&/>$/.test(X.current())){var $=/^([\S]+) (.*)/.exec(mt.inTag);mt.inTag=null;var Y=X.current()==">"&&k(ot[$[1]],$[2]),q=g.getMode(L,Y),Z=O($[1],!0),ht=O($[1],!1);mt.token=function(J,xt){return J.match(Z,!1)?(xt.token=K,xt.localState=xt.localMode=null,null):_(J,ht,xt.localMode.token(J,xt.localState))},mt.localMode=q,mt.localState=g.startState(q,z.indent(mt.htmlState,"",""))}else mt.inTag&&(mt.inTag+=X.current(),X.eol()&&(mt.inTag+=" "));return bt}return{startState:function(){var X=g.startState(z);return{token:K,inTag:null,localMode:null,localState:null,htmlState:X}},copyState:function(X){var mt;return X.localState&&(mt=g.copyState(X.localMode,X.localState)),{token:X.token,inTag:X.inTag,localMode:X.localMode,localState:mt,htmlState:g.copyState(z,X.htmlState)}},token:function(X,mt){return mt.token(X,mt)},indent:function(X,mt,bt){return!X.localMode||/^\s*<\//.test(mt)?z.indent(X.htmlState,mt,bt):X.localMode.indent?X.localMode.indent(X.localState,mt,bt):g.Pass},innerMode:function(X){return{state:X.localState||X.htmlState,mode:X.localMode||z}}}},"xml","javascript","css"),g.defineMIME("text/html","htmlmixed")})},876:(i,s,f)=>{(function(g){g(f(631))})(function(g){g.defineMode("javascript",function(w,_){var x=w.indentUnit,S=_.statementIndent,T=_.jsonld,O=_.json||T,A=_.trackScope!==!1,k=_.typescript,L=_.wordCharacters||/[\w$\xa1-\uffff]/,R=function(){function V(Se){return{type:Se,style:"keyword"}}var it=V("keyword a"),Ut=V("keyword b"),Qt=V("keyword c"),Ne=V("keyword d"),Be=V("operator"),rn={type:"atom",style:"atom"};return{if:V("if"),while:it,with:it,else:Ut,do:Ut,try:Ut,finally:Ut,return:Ne,break:Ne,continue:Ne,new:V("new"),delete:Qt,void:Qt,throw:Qt,debugger:V("debugger"),var:V("var"),const:V("var"),let:V("var"),function:V("function"),catch:V("catch"),for:V("for"),switch:V("switch"),case:V("case"),default:V("default"),in:Be,typeof:Be,instanceof:Be,true:rn,false:rn,null:rn,undefined:rn,NaN:rn,Infinity:rn,this:V("this"),class:V("class"),super:V("atom"),yield:Qt,export:V("export"),import:V("import"),extends:Qt,await:Qt}}(),z=/[+\-*&%=<>!?|~^@]/,ot=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function dt(V){for(var it=!1,Ut,Qt=!1;(Ut=V.next())!=null;){if(!it){if(Ut=="/"&&!Qt)return;Ut=="["?Qt=!0:Qt&&Ut=="]"&&(Qt=!1)}it=!it&&Ut=="\\"}}var tt,U;function K(V,it,Ut){return tt=V,U=Ut,it}function X(V,it){var Ut=V.next();if(Ut=='"'||Ut=="'")return it.tokenize=mt(Ut),it.tokenize(V,it);if(Ut=="."&&V.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return K("number","number");if(Ut=="."&&V.match(".."))return K("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ut))return K(Ut);if(Ut=="="&&V.eat(">"))return K("=>","operator");if(Ut=="0"&&V.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return K("number","number");if(/\d/.test(Ut))return V.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),K("number","number");if(Ut=="/")return V.eat("*")?(it.tokenize=bt,bt(V,it)):V.eat("/")?(V.skipToEnd(),K("comment","comment")):Qn(V,it,1)?(dt(V),V.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),K("regexp","string-2")):(V.eat("="),K("operator","operator",V.current()));if(Ut=="`")return it.tokenize=St,St(V,it);if(Ut=="#"&&V.peek()=="!")return V.skipToEnd(),K("meta","meta");if(Ut=="#"&&V.eatWhile(L))return K("variable","property");if(Ut=="<"&&V.match("!--")||Ut=="-"&&V.match("->")&&!/\S/.test(V.string.slice(0,V.start)))return V.skipToEnd(),K("comment","comment");if(z.test(Ut))return(Ut!=">"||!it.lexical||it.lexical.type!=">")&&(V.eat("=")?(Ut=="!"||Ut=="=")&&V.eat("="):/[<>*+\-|&?]/.test(Ut)&&(V.eat(Ut),Ut==">"&&V.eat(Ut))),Ut=="?"&&V.eat(".")?K("."):K("operator","operator",V.current());if(L.test(Ut)){V.eatWhile(L);var Qt=V.current();if(it.lastType!="."){if(R.propertyIsEnumerable(Qt)){var Ne=R[Qt];return K(Ne.type,Ne.style,Qt)}if(Qt=="async"&&V.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return K("async","keyword",Qt)}return K("variable","variable",Qt)}}function mt(V){return function(it,Ut){var Qt=!1,Ne;if(T&&it.peek()=="@"&&it.match(ot))return Ut.tokenize=X,K("jsonld-keyword","meta");for(;(Ne=it.next())!=null&&!(Ne==V&&!Qt);)Qt=!Qt&&Ne=="\\";return Qt||(Ut.tokenize=X),K("string","string")}}function bt(V,it){for(var Ut=!1,Qt;Qt=V.next();){if(Qt=="/"&&Ut){it.tokenize=X;break}Ut=Qt=="*"}return K("comment","comment")}function St(V,it){for(var Ut=!1,Qt;(Qt=V.next())!=null;){if(!Ut&&(Qt=="`"||Qt=="$"&&V.eat("{"))){it.tokenize=X;break}Ut=!Ut&&Qt=="\\"}return K("quasi","string-2",V.current())}var Ot="([{}])";function $(V,it){it.fatArrowAt&&(it.fatArrowAt=null);var Ut=V.string.indexOf("=>",V.start);if(!(Ut<0)){if(k){var Qt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(V.string.slice(V.start,Ut));Qt&&(Ut=Qt.index)}for(var Ne=0,Be=!1,rn=Ut-1;rn>=0;--rn){var Se=V.string.charAt(rn),Yr=Ot.indexOf(Se);if(Yr>=0&&Yr<3){if(!Ne){++rn;break}if(--Ne==0){Se=="("&&(Be=!0);break}}else if(Yr>=3&&Yr<6)++Ne;else if(L.test(Se))Be=!0;else if(/["'\/`]/.test(Se))for(;;--rn){if(rn==0)return;var bs=V.string.charAt(rn-1);if(bs==Se&&V.string.charAt(rn-2)!="\\"){rn--;break}}else if(Be&&!Ne){++rn;break}}Be&&!Ne&&(it.fatArrowAt=rn)}}var Y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function q(V,it,Ut,Qt,Ne,Be){this.indented=V,this.column=it,this.type=Ut,this.prev=Ne,this.info=Be,Qt!=null&&(this.align=Qt)}function Z(V,it){if(!A)return!1;for(var Ut=V.localVars;Ut;Ut=Ut.next)if(Ut.name==it)return!0;for(var Qt=V.context;Qt;Qt=Qt.prev)for(var Ut=Qt.vars;Ut;Ut=Ut.next)if(Ut.name==it)return!0}function ht(V,it,Ut,Qt,Ne){var Be=V.cc;for(J.state=V,J.stream=Ne,J.marked=null,J.cc=Be,J.style=it,V.lexical.hasOwnProperty("align")||(V.lexical.align=!0);;){var rn=Be.length?Be.pop():O?ve:be;if(rn(Ut,Qt)){for(;Be.length&&Be[Be.length-1].lex;)Be.pop()();return J.marked?J.marked:Ut=="variable"&&Z(V,Qt)?"variable-2":it}}}var J={state:null,column:null,marked:null,cc:null};function xt(){for(var V=arguments.length-1;V>=0;V--)J.cc.push(arguments[V])}function D(){return xt.apply(null,arguments),!0}function yt(V,it){for(var Ut=it;Ut;Ut=Ut.next)if(Ut.name==V)return!0;return!1}function rt(V){var it=J.state;if(J.marked="def",!!A){if(it.context){if(it.lexical.info=="var"&&it.context&&it.context.block){var Ut=et(V,it.context);if(Ut!=null){it.context=Ut;return}}else if(!yt(V,it.localVars)){it.localVars=new Zt(V,it.localVars);return}}_.globalVars&&!yt(V,it.globalVars)&&(it.globalVars=new Zt(V,it.globalVars))}}function et(V,it){if(it)if(it.block){var Ut=et(V,it.prev);return Ut?Ut==it.prev?it:new zt(Ut,it.vars,!0):null}else return yt(V,it.vars)?it:new zt(it.prev,new Zt(V,it.vars),!1);else return null}function Mt(V){return V=="public"||V=="private"||V=="protected"||V=="abstract"||V=="readonly"}function zt(V,it,Ut){this.prev=V,this.vars=it,this.block=Ut}function Zt(V,it){this.name=V,this.next=it}var Et=new Zt("this",new Zt("arguments",null));function Ht(){J.state.context=new zt(J.state.context,J.state.localVars,!1),J.state.localVars=Et}function Wt(){J.state.context=new zt(J.state.context,J.state.localVars,!0),J.state.localVars=null}Ht.lex=Wt.lex=!0;function $t(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}$t.lex=!0;function Kt(V,it){var Ut=function(){var Qt=J.state,Ne=Qt.indented;if(Qt.lexical.type=="stat")Ne=Qt.lexical.indented;else for(var Be=Qt.lexical;Be&&Be.type==")"&&Be.align;Be=Be.prev)Ne=Be.indented;Qt.lexical=new q(Ne,J.stream.column(),V,null,Qt.lexical,it)};return Ut.lex=!0,Ut}function qt(){var V=J.state;V.lexical.prev&&(V.lexical.type==")"&&(V.indented=V.lexical.indented),V.lexical=V.lexical.prev)}qt.lex=!0;function ge(V){function it(Ut){return Ut==V?D():V==";"||Ut=="}"||Ut==")"||Ut=="]"?xt():D(it)}return it}function be(V,it){return V=="var"?D(Kt("vardef",it),je,ge(";"),qt):V=="keyword a"?D(Kt("form"),mn,be,qt):V=="keyword b"?D(Kt("form"),be,qt):V=="keyword d"?J.stream.match(/^\s*$/,!1)?D():D(Kt("stat"),en,ge(";"),qt):V=="debugger"?D(ge(";")):V=="{"?D(Kt("}"),Wt,nn,qt,$t):V==";"?D():V=="if"?(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==qt&&J.state.cc.pop()(),D(Kt("form"),mn,be,qt,Nr)):V=="function"?D(Tr):V=="for"?D(Kt("form"),Wt,Wr,be,$t,qt):V=="class"||k&&it=="interface"?(J.marked="keyword",D(Kt("form",V=="class"?V:it),oo,qt)):V=="variable"?k&&it=="declare"?(J.marked="keyword",D(be)):k&&(it=="module"||it=="enum"||it=="type")&&J.stream.match(/^\s*\w/,!1)?(J.marked="keyword",it=="enum"?D(Qe):it=="type"?D(ee,ge("operator"),Le,ge(";")):D(Kt("form"),Xe,ge("{"),Kt("}"),nn,qt,qt)):k&&it=="namespace"?(J.marked="keyword",D(Kt("form"),ve,be,qt)):k&&it=="abstract"?(J.marked="keyword",D(be)):D(Kt("stat"),Ce):V=="switch"?D(Kt("form"),mn,ge("{"),Kt("}","switch"),Wt,nn,qt,qt,$t):V=="case"?D(ve,ge(":")):V=="default"?D(ge(":")):V=="catch"?D(Kt("form"),Ht,se,be,qt,$t):V=="export"?D(Kt("stat"),$r,qt):V=="import"?D(Kt("stat"),gi,qt):V=="async"?D(be):it=="@"?D(ve,be):xt(Kt("stat"),ve,ge(";"),qt)}function se(V){if(V=="(")return D(So,ge(")"))}function ve(V,it){return an(V,it,!1)}function Ue(V,it){return an(V,it,!0)}function mn(V){return V!="("?xt():D(Kt(")"),en,ge(")"),qt)}function an(V,it,Ut){if(J.state.fatArrowAt==J.stream.start){var Qt=Ut?Ft:Lt;if(V=="(")return D(Ht,Kt(")"),we(So,")"),qt,ge("=>"),Qt,$t);if(V=="variable")return xt(Ht,Xe,ge("=>"),Qt,$t)}var Ne=Ut?F:ie;return Y.hasOwnProperty(V)?D(Ne):V=="function"?D(Tr,Ne):V=="class"||k&&it=="interface"?(J.marked="keyword",D(Kt("form"),Na,qt)):V=="keyword c"||V=="async"?D(Ut?Ue:ve):V=="("?D(Kt(")"),en,ge(")"),qt,Ne):V=="operator"||V=="spread"?D(Ut?Ue:ve):V=="["?D(Kt("]"),mr,qt,Ne):V=="{"?Vn(Te,"}",null,Ne):V=="quasi"?xt(nt,Ne):V=="new"?D(ct(Ut)):D()}function en(V){return V.match(/[;\}\)\],]/)?xt():xt(ve)}function ie(V,it){return V==","?D(en):F(V,it,!1)}function F(V,it,Ut){var Qt=Ut==!1?ie:F,Ne=Ut==!1?ve:Ue;if(V=="=>")return D(Ht,Ut?Ft:Lt,$t);if(V=="operator")return/\+\+|--/.test(it)||k&&it=="!"?D(Qt):k&&it=="<"&&J.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(Kt(">"),we(Le,">"),qt,Qt):it=="?"?D(ve,ge(":"),Ne):D(Ne);if(V=="quasi")return xt(nt,Qt);if(V!=";"){if(V=="(")return Vn(Ue,")","call",Qt);if(V==".")return D(Ae,Qt);if(V=="[")return D(Kt("]"),en,ge("]"),qt,Qt);if(k&&it=="as")return J.marked="keyword",D(Le,Qt);if(V=="regexp")return J.state.lastType=J.marked="operator",J.stream.backUp(J.stream.pos-J.stream.start-1),D(Ne)}}function nt(V,it){return V!="quasi"?xt():it.slice(it.length-2)!="${"?D(nt):D(en,vt)}function vt(V){if(V=="}")return J.marked="string-2",J.state.tokenize=St,D(nt)}function Lt(V){return $(J.stream,J.state),xt(V=="{"?be:ve)}function Ft(V){return $(J.stream,J.state),xt(V=="{"?be:Ue)}function ct(V){return function(it){return it=="."?D(V?Pt:Vt):it=="variable"&&k?D(At,V?F:ie):xt(V?Ue:ve)}}function Vt(V,it){if(it=="target")return J.marked="keyword",D(ie)}function Pt(V,it){if(it=="target")return J.marked="keyword",D(F)}function Ce(V){return V==":"?D(qt,be):xt(ie,ge(";"),qt)}function Ae(V){if(V=="variable")return J.marked="property",D()}function Te(V,it){if(V=="async")return J.marked="property",D(Te);if(V=="variable"||J.style=="keyword"){if(J.marked="property",it=="get"||it=="set")return D(Fe);var Ut;return k&&J.state.fatArrowAt==J.stream.start&&(Ut=J.stream.match(/^\s*:\s*/,!1))&&(J.state.fatArrowAt=J.stream.pos+Ut[0].length),D(qe)}else{if(V=="number"||V=="string")return J.marked=T?"property":J.style+" property",D(qe);if(V=="jsonld-keyword")return D(qe);if(k&&Mt(it))return J.marked="keyword",D(Te);if(V=="[")return D(ve,Ze,ge("]"),qe);if(V=="spread")return D(Ue,qe);if(it=="*")return J.marked="keyword",D(Te);if(V==":")return xt(qe)}}function Fe(V){return V!="variable"?xt(qe):(J.marked="property",D(Tr))}function qe(V){if(V==":")return D(Ue);if(V=="(")return xt(Tr)}function we(V,it,Ut){function Qt(Ne,Be){if(Ut?Ut.indexOf(Ne)>-1:Ne==","){var rn=J.state.lexical;return rn.info=="call"&&(rn.pos=(rn.pos||0)+1),D(function(Se,Yr){return Se==it||Yr==it?xt():xt(V)},Qt)}return Ne==it||Be==it?D():Ut&&Ut.indexOf(";")>-1?xt(V):D(ge(it))}return function(Ne,Be){return Ne==it||Be==it?D():xt(V,Qt)}}function Vn(V,it,Ut){for(var Qt=3;Qt<arguments.length;Qt++)J.cc.push(arguments[Qt]);return D(Kt(it,Ut),we(V,it),qt)}function nn(V){return V=="}"?D():xt(be,nn)}function Ze(V,it){if(k){if(V==":")return D(Le);if(it=="?")return D(Ze)}}function Zn(V,it){if(k&&(V==":"||it=="in"))return D(Le)}function xe(V){if(k&&V==":")return J.stream.match(/^\s*\w+\s+is\b/,!1)?D(ve,Tn,Le):D(Le)}function Tn(V,it){if(it=="is")return J.marked="keyword",D()}function Le(V,it){if(it=="keyof"||it=="typeof"||it=="infer"||it=="readonly")return J.marked="keyword",D(it=="typeof"?Ue:Le);if(V=="variable"||it=="void")return J.marked="type",D(_t);if(it=="|"||it=="&")return D(Le);if(V=="string"||V=="number"||V=="atom")return D(_t);if(V=="[")return D(Kt("]"),we(Le,"]",","),qt,_t);if(V=="{")return D(Kt("}"),hn,qt,_t);if(V=="(")return D(we(Q,")"),sn,_t);if(V=="<")return D(we(Le,">"),Le);if(V=="quasi")return xt(En,_t)}function sn(V){if(V=="=>")return D(Le)}function hn(V){return V.match(/[\}\)\]]/)?D():V==","||V==";"?D(hn):xt(or,hn)}function or(V,it){if(V=="variable"||J.style=="keyword")return J.marked="property",D(or);if(it=="?"||V=="number"||V=="string")return D(or);if(V==":")return D(Le);if(V=="[")return D(ge("variable"),Zn,ge("]"),or);if(V=="(")return xt(fn,or);if(!V.match(/[;\}\)\],]/))return D()}function En(V,it){return V!="quasi"?xt():it.slice(it.length-2)!="${"?D(En):D(Le,ro)}function ro(V){if(V=="}")return J.marked="string-2",J.state.tokenize=St,D(En)}function Q(V,it){return V=="variable"&&J.stream.match(/^\s*[?:]/,!1)||it=="?"?D(Q):V==":"?D(Le):V=="spread"?D(Q):xt(Le)}function _t(V,it){if(it=="<")return D(Kt(">"),we(Le,">"),qt,_t);if(it=="|"||V=="."||it=="&")return D(Le);if(V=="[")return D(Le,ge("]"),_t);if(it=="extends"||it=="implements")return J.marked="keyword",D(Le);if(it=="?")return D(Le,ge(":"),Le)}function At(V,it){if(it=="<")return D(Kt(">"),we(Le,">"),qt,_t)}function Gt(){return xt(Le,pe)}function pe(V,it){if(it=="=")return D(Le)}function je(V,it){return it=="enum"?(J.marked="keyword",D(Qe)):xt(Xe,Ze,ln,Bi)}function Xe(V,it){if(k&&Mt(it))return J.marked="keyword",D(Xe);if(V=="variable")return rt(it),D();if(V=="spread")return D(Xe);if(V=="[")return Vn(Dr,"]");if(V=="{")return Vn(gr,"}")}function gr(V,it){return V=="variable"&&!J.stream.match(/^\s*:/,!1)?(rt(it),D(ln)):(V=="variable"&&(J.marked="property"),V=="spread"?D(Xe):V=="}"?xt():V=="["?D(ve,ge("]"),ge(":"),gr):D(ge(":"),Xe,ln))}function Dr(){return xt(Xe,ln)}function ln(V,it){if(it=="=")return D(Ue)}function Bi(V){if(V==",")return D(je)}function Nr(V,it){if(V=="keyword b"&&it=="else")return D(Kt("form","else"),be,qt)}function Wr(V,it){if(it=="await")return D(Wr);if(V=="(")return D(Kt(")"),Ho,qt)}function Ho(V){return V=="var"?D(je,Rn):V=="variable"?D(Rn):xt(Rn)}function Rn(V,it){return V==")"?D():V==";"?D(Rn):it=="in"||it=="of"?(J.marked="keyword",D(ve,Rn)):xt(ve,Rn)}function Tr(V,it){if(it=="*")return J.marked="keyword",D(Tr);if(V=="variable")return rt(it),D(Tr);if(V=="(")return D(Ht,Kt(")"),we(So,")"),qt,xe,be,$t);if(k&&it=="<")return D(Kt(">"),we(Gt,">"),qt,Tr)}function fn(V,it){if(it=="*")return J.marked="keyword",D(fn);if(V=="variable")return rt(it),D(fn);if(V=="(")return D(Ht,Kt(")"),we(So,")"),qt,xe,$t);if(k&&it=="<")return D(Kt(">"),we(Gt,">"),qt,fn)}function ee(V,it){if(V=="keyword"||V=="variable")return J.marked="type",D(ee);if(it=="<")return D(Kt(">"),we(Gt,">"),qt)}function So(V,it){return it=="@"&&D(ve,So),V=="spread"?D(So):k&&Mt(it)?(J.marked="keyword",D(So)):k&&V=="this"?D(Ze,ln):xt(Xe,Ze,ln)}function Na(V,it){return V=="variable"?oo(V,it):Oo(V,it)}function oo(V,it){if(V=="variable")return rt(it),D(Oo)}function Oo(V,it){if(it=="<")return D(Kt(">"),we(Gt,">"),qt,Oo);if(it=="extends"||it=="implements"||k&&V==",")return it=="implements"&&(J.marked="keyword"),D(k?Le:ve,Oo);if(V=="{")return D(Kt("}"),Jn,qt)}function Jn(V,it){if(V=="async"||V=="variable"&&(it=="static"||it=="get"||it=="set"||k&&Mt(it))&&J.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return J.marked="keyword",D(Jn);if(V=="variable"||J.style=="keyword")return J.marked="property",D(Bo,Jn);if(V=="number"||V=="string")return D(Bo,Jn);if(V=="[")return D(ve,Ze,ge("]"),Bo,Jn);if(it=="*")return J.marked="keyword",D(Jn);if(k&&V=="(")return xt(fn,Jn);if(V==";"||V==",")return D(Jn);if(V=="}")return D();if(it=="@")return D(ve,Jn)}function Bo(V,it){if(it=="!"||it=="?")return D(Bo);if(V==":")return D(Le,ln);if(it=="=")return D(Ue);var Ut=J.state.lexical.prev,Qt=Ut&&Ut.info=="interface";return xt(Qt?fn:Tr)}function $r(V,it){return it=="*"?(J.marked="keyword",D(Pn,ge(";"))):it=="default"?(J.marked="keyword",D(ve,ge(";"))):V=="{"?D(we(Kr,"}"),Pn,ge(";")):xt(be)}function Kr(V,it){if(it=="as")return J.marked="keyword",D(ge("variable"));if(V=="variable")return xt(Ue,Kr)}function gi(V){return V=="string"?D():V=="("?xt(ve):V=="."?xt(ie):xt(un,_e,Pn)}function un(V,it){return V=="{"?Vn(un,"}"):(V=="variable"&&rt(it),it=="*"&&(J.marked="keyword"),D(Gr))}function _e(V){if(V==",")return D(un,_e)}function Gr(V,it){if(it=="as")return J.marked="keyword",D(un)}function Pn(V,it){if(it=="from")return J.marked="keyword",D(ve)}function mr(V){return V=="]"?D():xt(we(Ue,"]"))}function Qe(){return xt(Kt("form"),Xe,ge("{"),Kt("}"),we(To,"}"),qt,qt)}function To(){return xt(Xe,ln)}function ni(V,it){return V.lastType=="operator"||V.lastType==","||z.test(it.charAt(0))||/[,.]/.test(it.charAt(0))}function Qn(V,it,Ut){return it.tokenize==X&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(it.lastType)||it.lastType=="quasi"&&/\{\s*$/.test(V.string.slice(0,V.pos-(Ut||0)))}return{startState:function(V){var it={tokenize:X,lastType:"sof",cc:[],lexical:new q((V||0)-x,0,"block",!1),localVars:_.localVars,context:_.localVars&&new zt(null,null,!1),indented:V||0};return _.globalVars&&typeof _.globalVars=="object"&&(it.globalVars=_.globalVars),it},token:function(V,it){if(V.sol()&&(it.lexical.hasOwnProperty("align")||(it.lexical.align=!1),it.indented=V.indentation(),$(V,it)),it.tokenize!=bt&&V.eatSpace())return null;var Ut=it.tokenize(V,it);return tt=="comment"?Ut:(it.lastType=tt=="operator"&&(U=="++"||U=="--")?"incdec":tt,ht(it,Ut,tt,U,V))},indent:function(V,it){if(V.tokenize==bt||V.tokenize==St)return g.Pass;if(V.tokenize!=X)return 0;var Ut=it&&it.charAt(0),Qt=V.lexical,Ne;if(!/^\s*else\b/.test(it))for(var Be=V.cc.length-1;Be>=0;--Be){var rn=V.cc[Be];if(rn==qt)Qt=Qt.prev;else if(rn!=Nr&&rn!=$t)break}for(;(Qt.type=="stat"||Qt.type=="form")&&(Ut=="}"||(Ne=V.cc[V.cc.length-1])&&(Ne==ie||Ne==F)&&!/^[,\.=+\-*:?[\(]/.test(it));)Qt=Qt.prev;S&&Qt.type==")"&&Qt.prev.type=="stat"&&(Qt=Qt.prev);var Se=Qt.type,Yr=Ut==Se;return Se=="vardef"?Qt.indented+(V.lastType=="operator"||V.lastType==","?Qt.info.length+1:0):Se=="form"&&Ut=="{"?Qt.indented:Se=="form"?Qt.indented+x:Se=="stat"?Qt.indented+(ni(V,it)?S||x:0):Qt.info=="switch"&&!Yr&&_.doubleIndentSwitch!=!1?Qt.indented+(/^(?:case|default)\b/.test(it)?x:2*x):Qt.align?Qt.column+(Yr?0:1):Qt.indented+(Yr?0:x)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:O?null:"/*",blockCommentEnd:O?null:"*/",blockCommentContinue:O?null:" * ",lineComment:O?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:O?"json":"javascript",jsonldMode:T,jsonMode:O,expressionAllowed:Qn,skipExpression:function(V){ht(V,"atom","atom","true",new g.StringStream("",2,null))}}}),g.registerHelper("wordChars","javascript",/[\w$]/),g.defineMIME("text/javascript","javascript"),g.defineMIME("text/ecmascript","javascript"),g.defineMIME("application/javascript","javascript"),g.defineMIME("application/x-javascript","javascript"),g.defineMIME("application/ecmascript","javascript"),g.defineMIME("application/json",{name:"javascript",json:!0}),g.defineMIME("application/x-json",{name:"javascript",json:!0}),g.defineMIME("application/manifest+json",{name:"javascript",json:!0}),g.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),g.defineMIME("text/typescript",{name:"javascript",typescript:!0}),g.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(i,s,f)=>{(function(g){g(f(631))})(function(g){var w={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},_={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};g.defineMode("xml",function(x,S){var T=x.indentUnit,O={},A=S.htmlMode?w:_;for(var k in A)O[k]=A[k];for(var k in S)O[k]=S[k];var L,R;function z(D,yt){function rt(zt){return yt.tokenize=zt,zt(D,yt)}var et=D.next();if(et=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?rt(tt("atom","]]>")):null:D.match("--")?rt(tt("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),rt(U(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),yt.tokenize=tt("meta","?>"),"meta"):(L=D.eat("/")?"closeTag":"openTag",yt.tokenize=ot,"tag bracket");if(et=="&"){var Mt;return D.eat("#")?D.eat("x")?Mt=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):Mt=D.eatWhile(/[\d]/)&&D.eat(";"):Mt=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),Mt?"atom":"error"}else return D.eatWhile(/[^&<]/),null}z.isInText=!0;function ot(D,yt){var rt=D.next();if(rt==">"||rt=="/"&&D.eat(">"))return yt.tokenize=z,L=rt==">"?"endTag":"selfcloseTag","tag bracket";if(rt=="=")return L="equals",null;if(rt=="<"){yt.tokenize=z,yt.state=St,yt.tagName=yt.tagStart=null;var et=yt.tokenize(D,yt);return et?et+" tag error":"tag error"}else return/[\'\"]/.test(rt)?(yt.tokenize=dt(rt),yt.stringStartCol=D.column(),yt.tokenize(D,yt)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function dt(D){var yt=function(rt,et){for(;!rt.eol();)if(rt.next()==D){et.tokenize=ot;break}return"string"};return yt.isInAttribute=!0,yt}function tt(D,yt){return function(rt,et){for(;!rt.eol();){if(rt.match(yt)){et.tokenize=z;break}rt.next()}return D}}function U(D){return function(yt,rt){for(var et;(et=yt.next())!=null;){if(et=="<")return rt.tokenize=U(D+1),rt.tokenize(yt,rt);if(et==">")if(D==1){rt.tokenize=z;break}else return rt.tokenize=U(D-1),rt.tokenize(yt,rt)}return"meta"}}function K(D){return D&&D.toLowerCase()}function X(D,yt,rt){this.prev=D.context,this.tagName=yt||"",this.indent=D.indented,this.startOfLine=rt,(O.doNotIndent.hasOwnProperty(yt)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function mt(D){D.context&&(D.context=D.context.prev)}function bt(D,yt){for(var rt;;){if(!D.context||(rt=D.context.tagName,!O.contextGrabbers.hasOwnProperty(K(rt))||!O.contextGrabbers[K(rt)].hasOwnProperty(K(yt))))return;mt(D)}}function St(D,yt,rt){return D=="openTag"?(rt.tagStart=yt.column(),Ot):D=="closeTag"?$:St}function Ot(D,yt,rt){return D=="word"?(rt.tagName=yt.current(),R="tag",Z):O.allowMissingTagName&&D=="endTag"?(R="tag bracket",Z(D,yt,rt)):(R="error",Ot)}function $(D,yt,rt){if(D=="word"){var et=yt.current();return rt.context&&rt.context.tagName!=et&&O.implicitlyClosed.hasOwnProperty(K(rt.context.tagName))&&mt(rt),rt.context&&rt.context.tagName==et||O.matchClosing===!1?(R="tag",Y):(R="tag error",q)}else return O.allowMissingTagName&&D=="endTag"?(R="tag bracket",Y(D,yt,rt)):(R="error",q)}function Y(D,yt,rt){return D!="endTag"?(R="error",Y):(mt(rt),St)}function q(D,yt,rt){return R="error",Y(D,yt,rt)}function Z(D,yt,rt){if(D=="word")return R="attribute",ht;if(D=="endTag"||D=="selfcloseTag"){var et=rt.tagName,Mt=rt.tagStart;return rt.tagName=rt.tagStart=null,D=="selfcloseTag"||O.autoSelfClosers.hasOwnProperty(K(et))?bt(rt,et):(bt(rt,et),rt.context=new X(rt,et,Mt==rt.indented)),St}return R="error",Z}function ht(D,yt,rt){return D=="equals"?J:(O.allowMissing||(R="error"),Z(D,yt,rt))}function J(D,yt,rt){return D=="string"?xt:D=="word"&&O.allowUnquoted?(R="string",Z):(R="error",Z(D,yt,rt))}function xt(D,yt,rt){return D=="string"?xt:Z(D,yt,rt)}return{startState:function(D){var yt={tokenize:z,state:St,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(yt.baseIndent=D),yt},token:function(D,yt){if(!yt.tagName&&D.sol()&&(yt.indented=D.indentation()),D.eatSpace())return null;L=null;var rt=yt.tokenize(D,yt);return(rt||L)&&rt!="comment"&&(R=null,yt.state=yt.state(L||rt,D,yt),R&&(rt=R=="error"?rt+" error":R)),rt},indent:function(D,yt,rt){var et=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+T;if(et&&et.noIndent)return g.Pass;if(D.tokenize!=ot&&D.tokenize!=z)return rt?rt.match(/^(\s*)/)[0].length:0;if(D.tagName)return O.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+T*(O.multilineTagIndentFactor||1);if(O.alignCDATA&&/<!\[CDATA\[/.test(yt))return 0;var Mt=yt&&/^<(\/)?([\w_:\.-]*)/.exec(yt);if(Mt&&Mt[1])for(;et;)if(et.tagName==Mt[2]){et=et.prev;break}else if(O.implicitlyClosed.hasOwnProperty(K(et.tagName)))et=et.prev;else break;else if(Mt)for(;et;){var zt=O.contextGrabbers[K(et.tagName)];if(zt&&zt.hasOwnProperty(K(Mt[2])))et=et.prev;else break}for(;et&&et.prev&&!et.startOfLine;)et=et.prev;return et?et.indent+T:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:O.htmlMode?"html":"xml",helperType:O.htmlMode?"html":"xml",skipAttribute:function(D){D.state==J&&(D.state=Z)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var yt=[],rt=D.context;rt;rt=rt.prev)yt.push(rt.tagName);return yt.reverse()}}}),g.defineMIME("text/xml","xml"),g.defineMIME("application/xml","xml"),g.mimeModes.hasOwnProperty("text/html")||g.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(i,s,f)=>{f.d(s,{Z:()=>x});var g=f(346),w=function(){var S=function(T,O){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,k){A.__proto__=k}||function(A,k){for(var L in k)Object.prototype.hasOwnProperty.call(k,L)&&(A[L]=k[L])},S(T,O)};return function(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");S(T,O);function A(){this.constructor=T}T.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)}}(),_=function(S){w(T,S);function T(O,A,k){var L=S.call(this,A,k)||this;return L._module=O,L}return Object.defineProperty(T.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),T}(g.Hn);const x=_},675:(i,s,f)=>{f.d(s,{Z:()=>S,q:()=>_});var g=f(642),w=function(){var T=function(O,A){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(k[R]=L[R])},T(O,A)};return function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");T(O,A);function k(){this.constructor=O}O.prototype=A===null?Object.create(A):(k.prototype=A.prototype,new k)}}(),_;(function(T){T.Select="select",T.Hover="hover",T.Spacing="spacing",T.Target="target",T.Resize="resize"})(_||(_={}));var x=function(T){w(O,T);function O(){return T!==null&&T.apply(this,arguments)||this}return O.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(O.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"component",{get:function(){var A,k=this.get("component");return k||((A=this.get("componentView"))===null||A===void 0?void 0:A.model)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"componentView",{get:function(){var A,k=this.get("componentView");return k||((A=this.get("component"))===null||A===void 0?void 0:A.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"el",{get:function(){var A;return(A=this.componentView)===null||A===void 0?void 0:A.el},enumerable:!1,configurable:!0}),O.prototype.getBoxRect=function(A){var k=this,L=k.el,R=k.em,z=R.Canvas.getCanvasView(),ot=this.get("boxRect");return ot||(L&&z?z.getElBoxRect(L,A):{x:0,y:0,width:0,height:0})},O.prototype.getStyle=function(A){A===void 0&&(A={});var k=A.boxRect||this.getBoxRect(A),L=k.width,R=k.height,z=k.x,ot=k.y;return{width:"".concat(L,"px"),height:"".concat(R,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(z,"px ").concat(ot,"px")}},O.prototype.isType=function(A){return this.type===A},O}(g.Z);const S=x},858:(i,s,f)=>{f.r(s),f.d(s,{default:()=>g});const g={run:function(w){w.Components.clear(),w.Css.clear()}}},884:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var g=f(50),w=f(668),_=f(491);const x={run:function(S){(0,g.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=S,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(S){this.toggleMove(),this.disableDragger()},onKeyUp:function(S){(0,_.sN)(S)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(S){this.toggleDragger(1,S)},disableDragger:function(S){this.toggleDragger(0,S)},toggleDragger:function(S,T){var O=this,A=O.canvasModel,k=O.em,L=this.dragger,R=S?"add":"remove";this.getCanvas().classList[R]("".concat(this.ppfx,"is__grabbing")),L||(L=new w.Z({getPosition:function(){return{x:A.get("x"),y:A.get("y")}},setPosition:function(z){var ot=z.x,dt=z.y;A.set({x:ot,y:dt})},onStart:function(z,ot){k.trigger("canvas:move:start",ot)},onDrag:function(z,ot){k.trigger("canvas:move",ot)},onEnd:function(z,ot){k.trigger("canvas:move:end",ot)}}),this.dragger=L),S?L.start(T):L.stop()},toggleMove:function(S){var T=this.ppfx,O=S?"add":"remove",A=S?"on":"off",k={on:_.on,off:_.S1},L=this.getCanvas(),R=["".concat(T,"is__grab")];!S&&R.push("".concat(T,"is__grabbing")),R.forEach(function(z){return L.classList[O](z)}),k[A](document,"keyup",this.onKeyUp),k[A](L,"mousedown",this.enableDragger),k[A](document,"mouseup",this.disableDragger)}}},790:(i,s,f)=>{f.r(s),f.d(s,{default:()=>S,defineCommand:()=>_});var g=f(346),w=function(){var T=function(O,A){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(k[R]=L[R])},T(O,A)};return function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");T(O,A);function k(){this.constructor=O}O.prototype=A===null?Object.create(A):(k.prototype=A.prototype,new k)}}();function _(T){return T}var x=function(T){w(O,T);function O(A){var k=T.call(this,0)||this;k.config=A||{},k.em=k.config.em||{};var L=k.config.stylePrefix;return k.pfx=L,k.ppfx=k.config.pStylePrefix,k.hoverClass="".concat(L,"hover"),k.badgeClass="".concat(L,"badge"),k.plhClass="".concat(L,"placeholder"),k.freezClass="".concat(k.ppfx,"freezed"),k.canvas=k.em.Canvas,k.init(k.config),k}return O.prototype.onFrameScroll=function(A){},O.prototype.getCanvas=function(){return this.canvas.getElement()},O.prototype.getCanvasBody=function(){return this.canvas.getBody()},O.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},O.prototype.offset=function(A){var k=A.getBoundingClientRect();return{top:k.top+A.ownerDocument.body.scrollTop,left:k.left+A.ownerDocument.body.scrollLeft}},O.prototype.init=function(A){},O.prototype.callRun=function(A,k){k===void 0&&(k={});var L=this.id;if(A.trigger("run:".concat(L,":before"),k),k&&k.abort){A.trigger("abort:".concat(L),k);return}var R=k.sender||A,z=this.run(A,R,k);return A.trigger("run:".concat(L),z,k),A.trigger("run",L,z,k),z},O.prototype.callStop=function(A,k){k===void 0&&(k={});var L=this.id,R=k.sender||A;A.trigger("stop:".concat(L,":before"),k);var z=this.stop(A,R,k);return A.trigger("stop:".concat(L),z,k),A.trigger("stop",L,z,k),z},O.prototype.stopCommand=function(A){this.em.Commands.stop(this.id,A)},O.prototype.run=function(A,k,L){},O.prototype.stop=function(A,k,L){},O}(g.Hn);const S=x},180:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var g=f(50),w=function(S,T,O){if(O||arguments.length===2)for(var A=0,k=T.length,L;A<k;A++)(L||!(A in T))&&(L||(L=Array.prototype.slice.call(T,0,A)),L[A]=T[A]);return S.concat(L||Array.prototype.slice.call(T))},_={run:function(S,T,O){var A=this;O===void 0&&(O={});var k=[],L=O.component||S.getSelectedAll();return L=(0,g.isArray)(L)?w([],L,!0):[L],L.filter(Boolean).forEach(function(R){if(!R.get("removable"))return k.push(R),A.em.logWarning("The element is not removable",{component:R});R.remove()}),S.select(k),L}};const x=_},544:(i,s,f)=>{f.r(s),f.d(s,{default:()=>S});var g=f(50),w=f(668),_=function(){return _=Object.assign||function(T){for(var O,A=1,k=arguments.length;A<k;A++){O=arguments[A];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(T[L]=O[L])}return T},_.apply(this,arguments)},x="dmode";const S={run:function(T,O,A){var k=this;A===void 0&&(A={}),(0,g.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var L=A.target,R=A.event,z=A.mode,ot=A.dragger,dt=ot===void 0?{}:ot,tt=L.getEl(),U=_({doc:tt.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return k.guidesStatic},guidesTarget:function(){return k.guidesTarget}},dt);this.setupGuides(),this.opts=A,this.editor=T,this.em=T.getModel(),this.target=L,this.isTran=z=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var K=this.dragger;return K?K.setOptions(U):(K=new w.Z(U),this.dragger=K),R&&K.start(R),this.toggleDrag(1),this.em.trigger("".concat(x,":start"),this.getEventOpts()),K},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(T){var O=T.guide;O&&O.parentNode.removeChild(O)}),this.guides=[]},getGuidesContainer:function(){var T=this,O=this.guidesEl;if(!O){var A=this,k=A.editor,L=A.em,R=A.opts,z=k.getConfig().stylePrefix,ot=document.createElement("div"),dt=document.createElement("div"),tt='<div class="'.concat(z,"guide-info__line ").concat(z,`danger-bg">
        <div class="`).concat(z,"guide-info__content ").concat(z,`danger-color"></div>
      </div>`);O=document.createElement("div"),O.className="".concat(z,"guides"),ot.className="".concat(z,"guide-info ").concat(z,"guide-info__x"),dt.className="".concat(z,"guide-info ").concat(z,"guide-info__y"),ot.innerHTML=tt,dt.innerHTML=tt,O.appendChild(ot),O.appendChild(dt),k.Canvas.getGlobalToolsEl().appendChild(O),this.guidesEl=O,this.elGuideInfoX=ot,this.elGuideInfoY=dt,this.elGuideInfoContentX=ot.querySelector(".".concat(z,"guide-info__content")),this.elGuideInfoContentY=dt.querySelector(".".concat(z,"guide-info__content")),L.on("canvas:update frame:scroll",(0,g.debounce)(function(){var U;T.updateGuides(),R.debug&&((U=T.guides)===null||U===void 0||U.forEach(function(K){return T.renderGuide(K)}))},200))}return O},getGuidesStatic:function(){var T=this,O=[],A=this.target.getEl(),k=A.parentNode,L=k===void 0?{}:k;return(0,g.each)(L.children,function(R){return O=O.concat(A!==R?T.getElementGuides(R):[])}),O.concat(this.getElementGuides(L))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(T){var O=this,A,k;(T||this.guides).forEach(function(L){var R=L.origin,z=A===R?k:O.getElementPos(R);A=R,k=z,(0,g.each)(O.getGuidePosUpdate(L,z),function(ot,dt){return L[dt]=ot}),L.originRect=z})},getGuidePosUpdate:function(T,O){var A={},k=O.top,L=O.height,R=O.left,z=O.width;switch(T.type){case"t":A.y=k;break;case"b":A.y=k+L;break;case"l":A.x=R;break;case"r":A.x=R+z;break;case"x":A.x=R+z/2;break;case"y":A.y=k+L/2;break}return A},renderGuide:function(T){T===void 0&&(T={});var O=T.guide||document.createElement("div"),A="px",k=T.active?2:1,L=O.children[0];return O.style="position: absolute; background-color: ".concat(T.active?"green":"red",";"),O.children.length||(L=document.createElement("div"),L.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",O.appendChild(L)),T.y?(O.style.width="100%",O.style.height="".concat(k).concat(A),O.style.top="".concat(T.y).concat(A),O.style.left=0):(O.style.width="".concat(k).concat(A),O.style.height="100%",O.style.left="".concat(T.x).concat(A),O.style.top="0".concat(A)),!T.guide&&this.guidesContainer.appendChild(O),O},getElementPos:function(T){return this.editor.Canvas.getElementPos(T,{noScroll:1})},getElementGuides:function(T){var O=this,A=this.opts,k=this.getElementPos(T),L=k.top,R=k.height,z=k.left,ot=k.width,dt=[{type:"t",y:L},{type:"b",y:L+R},{type:"l",x:z},{type:"r",x:z+ot},{type:"x",x:z+ot/2},{type:"y",y:L+R/2}].map(function(tt){return _(_({},tt),{origin:T,originRect:k,guide:A.debug&&O.renderGuide(tt)})});return dt.forEach(function(tt){var U;return(U=O.guides)===null||U===void 0?void 0:U.push(tt)}),dt},getTranslate:function(T,O){O===void 0&&(O="x");var A=0;return(T||"").split(" ").forEach(function(k){var L=k.trim(),R="translate".concat(O.toUpperCase(),"(");L.indexOf(R)===0&&(A=parseFloat(L.replace(R,"")))}),A},setTranslate:function(T,O,A){var k="translate".concat(O.toUpperCase(),"("),L="".concat(k).concat(A,")"),R=(T||"").split(" ").map(function(z){var ot=z.trim();return ot.indexOf(k)===0&&(z=L),z}).join(" ");return R.indexOf(k)<0&&(R+=" ".concat(L)),R},getPosition:function(){var T=this,O=T.target,A=T.isTran,k=O.getStyle(),L=k.left,R=k.top,z=k.transform,ot=0,dt=0;return A?(ot=this.getTranslate(z),dt=this.getTranslate(z,"y")):(ot=parseFloat(L||0),dt=parseFloat(R||0)),{x:ot,y:dt}},setPosition:function(T){var O=T.x,A=T.y,k=T.end,L=T.position,R=T.width,z=T.height,ot=this,dt=ot.target,tt=ot.isTran,U=ot.em,K="px",X=!k,mt="".concat(parseInt(O,10)).concat(K),bt="".concat(parseInt(A,10)).concat(K),St={};if(tt){var Ot=dt.getStyle().transform||"";Ot=this.setTranslate(Ot,"x",mt),Ot=this.setTranslate(Ot,"y",bt),St={transform:Ot,__p:X},dt.addStyle(St,{avoidStore:!k})}else{var $={position:L,width:R,height:z},Y={left:mt,top:bt,__p:X};(0,g.keys)($).forEach(function(q){var Z=$[q];Z&&(Y[q]=Z)}),St=Y,dt.addStyle(St,{avoidStore:!k})}U==null||U.Styles.__emitCmpStyleUpdate(St,{components:U.getSelected()})},_getDragData:function(){var T=this.target;return{target:T,parent:T.parent(),index:T.index()}},onStart:function(T){var O=this,A=O.target,k=O.editor,L=O.isTran,R=O.opts,z=R.center,ot=R.onStart,dt=k.Canvas,tt=A.getStyle(),U="absolute",K=[U,"relative"];if(ot&&ot(this._getDragData()),!L&&tt.position!==U){var X=dt.offset(A.getEl()),mt=X.left,bt=X.top,St=X.width,Ot=X.height,$=A.parent(),Y=void 0;do{var q=$.getStyle();Y=K.indexOf(q.position)>=0?$:null,$=$.parent()}while($&&!Y);if(z){var Z=dt.getMouseRelativeCanvas(T),ht=Z.x,J=Z.y;mt=ht,bt=J}else if(Y){var xt=dt.offset(Y.getEl());mt=mt-xt.left,bt=bt-xt.top}this.setPosition({x:mt,y:bt,width:"".concat(St,"px"),height:"".concat(Ot,"px"),position:U})}},onDrag:function(){var T=this,O=this,A=O.guidesTarget,k=O.opts,L=k.onDrag;this.updateGuides(A),k.debug&&A.forEach(function(R){return T.renderGuide(R)}),k.guidesInfo&&this.renderGuideInfo(A.filter(function(R){return R.active})),L&&L(this._getDragData())},onEnd:function(T,O,A){A===void 0&&(A={});var k=this,L=k.editor,R=k.opts,z=k.id,ot=R.onEnd;ot&&ot(T,A,_(_({event:T},A),this._getDragData())),L.stopCommand(z),this.hideGuidesInfo(),this.em.trigger("".concat(x,":end"),this.getEventOpts())},hideGuidesInfo:function(){var T=this;["X","Y"].forEach(function(O){var A=T["elGuideInfo".concat(O)];A&&(A.style.display="none")})},renderGuideInfo:function(T){var O=this;T===void 0&&(T=[]);var A=this.guidesStatic;this.hideGuidesInfo(),T.forEach(function(k){var L=k.origin,R=k.x,z=O.getElementPos(L),ot=(0,g.isUndefined)(R)?"y":"x",dt=ot==="y",tt=z[dt?"left":"top"],U=z.rect[dt?"left":"top"],K=dt?tt+z.width:tt+z.height,X=dt?U+z.rect.width:U+z.rect.height,mt=O["elGuideInfo".concat(ot.toUpperCase())],bt=O["elGuideInfoContent".concat(ot.toUpperCase())],St=mt.style,Ot=A==null?void 0:A.filter(function(Wt){return Wt.type===k.type}).map(function(Wt){var $t=Wt.originRect,Kt=$t.left,qt=$t.width,ge=$t.top,be=$t.height,se=dt?Kt:ge,ve=dt?Kt+qt:ge+be;return{gap:ve<tt?tt-ve:se-K,guide:Wt}}).filter(function(Wt){return Wt.gap>0}).sort(function(Wt,$t){return Wt.gap-$t.gap}).map(function(Wt){return Wt.guide})[0];if(Ot){var $=Ot.originRect,Y=$.left,q=$.width,Z=$.top,ht=$.height,J=$.rect,xt=dt?Y<z.left:Z<z.top,D=dt?Y:Z,yt=dt?J.left:J.top,rt=dt?Y+q:Z+ht,et=dt?J.left+J.width:J.top+J.height,Mt=dt?k.y:k.x,zt=xt?rt:K,Zt="".concat(Mt,"px"),Et=xt?tt-rt:D-K,Ht=xt?U-et:yt-X;St.display="",St[dt?"top":"left"]=Zt,St[dt?"left":"top"]="".concat(zt,"px"),St[dt?"width":"height"]="".concat(Et,"px"),bt.innerHTML="".concat(Math.round(Ht),"px"),O.em.trigger("".concat(x,":active"),_(_({},O.getEventOpts()),{guide:k,guidesStatic:A,matched:Ot,posFirst:Mt,posSecond:zt,size:Et,sizeRaw:Ht,elGuideInfo:mt,elGuideInfoCnt:bt}))}})},toggleDrag:function(T){var O=this,A=O.ppfx,k=O.editor,L=T?"add":"remove",R=["".concat(A,"is__grabbing")],z=k.Canvas,ot=z.getBody();R.forEach(function(dt){return ot.classList[L](dt)}),z[T?"startAutoscroll":"stopAutoscroll"]()}}},236:(i,s,f)=>{f.r(s),f.d(s,{default:()=>g});const g={run:function(w){if(w.Canvas.hasFocus()){var _=[];w.getSelectedAll().forEach(function(x){var S=x.components(),T=S&&S.filter(function(O){return O.get("selectable")})[0];T&&_.push(T)}),_.length&&w.select(_)}}}},368:(i,s,f)=>{f.r(s),f.d(s,{default:()=>g});const g={run:function(w,_,x){if(x===void 0&&(x={}),!(!w.Canvas.hasFocus()&&!x.force)){var S=[];w.getSelectedAll().forEach(function(T){for(var O=T.parent();O&&!O.get("selectable");)O=O.parent();O&&S.push(O)}),S.length&&w.select(S)}}}},243:(i,s,f)=>{f.r(s),f.d(s,{default:()=>g});const g={run:function(w){if(w.Canvas.hasFocus()){var _=[];w.getSelectedAll().forEach(function(x){var S=x.parent();if(S){var T=S.components().length,O=0,A=0,k;do O++,A=x.index()+O,k=A<=T?S.getChildAt(A):null;while(k&&!k.get("selectable"));_.push(k||x)}}),_.length&&w.select(_)}}}},400:(i,s,f)=>{f.r(s),f.d(s,{default:()=>g});const g={run:function(w){if(w.Canvas.hasFocus()){var _=[];w.getSelectedAll().forEach(function(x){var S=x.parent();if(S){var T=0,O=0,A;do T++,O=x.index()-T,A=O>=0?S.getChildAt(O):null;while(A&&!A.get("selectable"));_.push(A||x)}}),_.length&&w.select(_)}}}},910:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(50);const w={run:function(_,x,S){S===void 0&&(S={});var T=S.target,O=[];if(!T.get("styles"))return O;var A=T.get("type"),k=_.Pages.getAllWrappers(),L=(0,g.flatten)(k.map(function(z){return z.findType(A)})).length;if(!L){var R=_.CssComposer.getAll();O=R.filter(function(z){return z.get("group")==="cmp:".concat(A)}),R.remove(O)}return O}}},744:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=function(_,x,S){if(S||arguments.length===2)for(var T=0,O=x.length,A;T<O;T++)(A||!(T in x))&&(A||(A=Array.prototype.slice.call(x,0,T)),A[T]=x[T]);return _.concat(A||Array.prototype.slice.call(x))};const w={run:function(_){var x=_.getModel(),S=g([],_.getSelectedAll(),!0);S.length&&x.set("clipboard",S)}}},517:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var g=f(50),w=f(895),_=f(407);const x=(0,g.extend)({},_.default,{init:function(){(0,g.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(S){S.stopPropagation();var T=(0,w.default)(S.target);T.data("model").get("removable")&&(T.addClass(this.hoverClass),this.attachBadge(T.get(0)))},stopDelete:function(S){S.stopPropagation();var T=(0,w.default)(S.target);T.removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(S){S.stopPropagation();var T=(0,w.default)(S.target);T.data("model").get("removable")&&(T.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(S){this.badge.html("Remove "+S.getName())}})},457:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(491);const w={run:function(_,x,S){var T=this;S===void 0&&(S={}),x&&x.set&&x.set("active",0);var O=_.getConfig(),A=_.Modal,k=O.stylePrefix;if(this.cm=_.CodeManager||null,!this.editors){var L=this.buildEditor("htmlmixed","hopscotch","HTML"),R=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=L.model,this.cssEditor=R.model;var z=(0,g.ut)("div",{class:"".concat(k,"export-dl")});z.appendChild(L.el),z.appendChild(R.el),this.editors=z}A.open({title:O.textViewCode,content:this.editors}).getModel().once("change:open",function(){return _.stopCommand("".concat(T.id))}),this.htmlEditor.setContent(_.getHtml(S.optsHtml)),this.cssEditor.setContent(_.getCss(S.optsCss))},stop:function(_){var x=_.Modal;x&&x.close()},buildEditor:function(_,x,S){var T=this.em.CodeManager,O=T.createViewer({label:S,codeName:_,theme:x}),A=new T.EditorView({model:O,config:T.getConfig()}).render().el;return{model:O,el:A}}}},975:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(50);const w={isEnabled:function(){var _=document;return!!(_.fullscreenElement||_.webkitFullscreenElement||_.mozFullScreenElement)},enable:function(_){var x="";return _.requestFullscreen?_.requestFullscreen():_.webkitRequestFullscreen?(x="webkit",_.webkitRequestFullscreen()):_.mozRequestFullScreen?(x="moz",_.mozRequestFullScreen()):_.msRequestFullscreen&&_.msRequestFullscreen(),x},disable:function(){var _=document;this.isEnabled()&&(_.exitFullscreen?_.exitFullscreen():_.webkitExitFullscreen?_.webkitExitFullscreen():_.mozCancelFullScreen?_.mozCancelFullScreen():_.msExitFullscreen&&_.msExitFullscreen())},fsChanged:function(_){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(_||"","fullscreenchange"),this.fsChanged))},run:function(_,x,S){S===void 0&&(S={}),this.sender=x;var T=S.target,O=(0,g.isElement)(T)?T:document.querySelector(T),A=this.enable(O||_.getContainer());this.fsChanged=this.fsChanged.bind(this,A),document.addEventListener(A+"fullscreenchange",this.fsChanged),_.trigger("change:canvasOffset")},stop:function(_,x){x&&x.set&&x.set("active",!1),this.disable(),_&&_.trigger("change:canvasOffset")}}},191:(i,s,f)=>{f.r(s),f.d(s,{default:()=>T});var g=f(50),w=f(895),_=f(491),x=f(407),S=f(189);const T=(0,g.extend)({},S.default,x.default,{init:function(O){x.default.init.apply(this,arguments),(0,g.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=O,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var O=[],A=0;A<arguments.length;A++)O[A]=arguments[A];x.default.enable.apply(this,O),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var k=this.$wrapper;k.css("cursor","move"),k.on("mousedown",this.initSorter),k.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(O){var A=(0,w.default)(O.target).data("model"),k=A.get("draggable");k&&(this.cacheEl=null,this.startSelectPosition(O.target,this.frameEl.contentDocument),this.sorter.draggable=k,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,_.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(O){var A=O.get("draggable");if(A){this.cacheEl=null;var k=O.view.el;this.startSelectPosition(k,this.frameEl.contentDocument),this.sorter.draggable=A,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,_.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(O){this.cacheEl=null;var A=O[O.length-1],k=this.em.getCurrentFrame(),L=A.getEl(k==null?void 0:k.model),R=L.ownerDocument;this.startSelectPosition(L,R,{onStart:this.onStart}),this.sorter.draggable=A.get("draggable"),this.sorter.toMove=O,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,_.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,_.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,_.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(O,A){},rollback:function(O,A){var k=O.which||O.keyCode;(k==27||A)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,w.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,w.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var O=[],A=0;A<arguments.length;A++)O[A]=arguments[A];x.default.stop.apply(this,O),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var k=this.$wrapper;k.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var g=f(50),w=f(491);const _={open:function(x){var S=this,T=this,O=T.editor,A=T.title,k=T.config,L=T.am,R=k.custom;if((0,g.isFunction)(R.open))return R.open(L.__customData());var z=O.Modal;z.open({title:A,content:x}).onceClose(function(){return O.stopCommand(S.id)})},close:function(){var x=this.config.custom;if((0,g.isFunction)(x.close))return x.close(this.am.__customData());var S=this.editor.Modal;S&&S.close()},run:function(x,S,T){T===void 0&&(T={});var O=x.AssetManager,A=O.getConfig(),k=T.types,L=k===void 0?[]:k,R=T.accept,z=T.select;if(this.title=T.modalTitle||x.t("assetManager.modalTitle")||"",this.editor=x,this.config=A,this.am=O,O.setTarget(T.target),O.onClick(T.onClick),O.onDblClick(T.onDblClick),O.onSelect(T.onSelect),O.__behaviour({select:z,types:L,options:T}),A.custom)this.rendered=this.rendered||(0,w.ut)("div"),this.rendered.className="".concat(A.stylePrefix,"custom-wrp"),O.__behaviour({container:this.rendered}),O.__trgCustom();else{if(!this.rendered||L){var ot=O.getAll().filter(function(tt){return tt});L&&L.length&&(ot=ot.filter(function(tt){return L.indexOf(tt.get("type"))!==-1})),O.render(ot),this.rendered=O.getContainer()}if(R){var dt=this.rendered.querySelector("input#".concat(A.stylePrefix,"uploadFile"));dt&&dt.setAttribute("accept",R)}}return this.open(this.rendered),this},stop:function(x){this.editor=x,this.close(this.rendered)}}},117:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var g=f(50),w=f(491);const _={open:function(){var x=this,S=x.container,T=x.editor,O=x.bm,A=x.config,k=A.custom,L=A.appendTo;if((0,g.isFunction)(k.open))return k.open(O.__customData());if(this.firstRender&&!L){var R="views-container",z=T.Panels,ot=z.getPanel(R)||z.addPanel({id:R});ot.set("appendContent",S).trigger("change:appendContent"),k||S.appendChild(O.render())}S&&(S.style.display="block")},close:function(){var x=this,S=x.container,T=x.config,O=T.custom;if((0,g.isFunction)(O.close))return O.close(this.bm.__customData());S&&(S.style.display="none")},run:function(x){var S=x.Blocks;this.config=S.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,w.ut)("div"),this.editor=x,this.bm=S;var T=this.container;S.__behaviour({container:T}),this.config.custom&&S.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(i,s,f)=>{f.r(s),f.d(s,{default:()=>g});const g={run:function(w){var _=w.LayerManager,x=w.Panels,S=_.getConfig();if(!S.appendTo){if(!this.layers){var T="views-container",O=document.createElement("div"),A=x.getPanel(T)||x.addPanel({id:T});S.custom?_.__trgCustom({container:O}):O.appendChild(_.render()),A.set("appendContent",O).trigger("change:appendContent"),this.layers=O}this.layers.style.display="block"}},stop:function(){var w=this.layers;w&&(w.style.display="none")}}},801:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(895);const w={run:function(_,x){if(this.sender=x,!this.$cnt){var S=_.getConfig(),T=_.Panels,O=_.DeviceManager,A=_.SelectorManager,k=_.StyleManager,L="change:appendContent",R=(0,g.default)("<div></div>"),z=(0,g.default)("<div></div>"),ot=(0,g.default)("<div></div>"),dt=(0,g.default)("<div></div>");if(this.$cnt=R,this.$cntInner=z,z.append(ot),z.append(dt),R.append(z),O&&S.showDevices){var tt=T.addPanel({id:"devices-c"}),U=O.render();tt.set("appendContent",U).trigger(L)}var K=A.getConfig();K.custom?A.__trgCustom({container:ot.get(0)}):K.appendTo||ot.append(A.render([])),this.sm=k;var X=k.getConfig(),mt=X.stylePrefix;this.$header=(0,g.default)('<div class="'.concat(mt,'header">').concat(_.t("styleManager.empty"),"</div>")),R.append(this.$header),X.custom?k.__trgCustom({container:dt.get(0)}):X.appendTo||dt.append(k.render());var bt="views-container",St=T.getPanel(bt)||T.addPanel({id:bt});St.set("appendContent",R).trigger(L);var Ot=_.getModel();this.listenTo(Ot,k.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var _=this,x=_.sender,S=_.sm,T=_.$cntInner,O=_.$header;x&&x.get&&!x.get("active")||!S||(S.getSelected()?(T==null||T.show(),O==null||O.hide()):(T==null||T.hide(),O==null||O.show()))},stop:function(){var _,x;(_=this.$cntInner)===null||_===void 0||_.hide(),(x=this.$header)===null||x===void 0||x.hide()}}},395:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(895);const w={run:function(_,x){this.sender=x;var S=_.getModel(),T=_.Config,O=T.stylePrefix,A=_.TraitManager,k=A.getConfig(),L;if(!k.appendTo){if(!this.$cn){this.$cn=(0,g.default)("<div></div>"),this.$cn2=(0,g.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,g.default)("<div>").append('<div class="'.concat(k.stylePrefix,'header">').concat(S.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),k.custom?A.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(O,'traits-label">').concat(S.t("traitManager.label"),"</div>")),this.$cn2.append(A.render()));var R=_.Panels;R.getPanel("views-container")?L=R.getPanel("views-container"):L=R.addPanel({id:"views-container"}),L==null||L.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=_.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var _=this.sender;_&&_.get&&!_.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(50);const w={run:function(_,x,S){S===void 0&&(S={});var T=_.getModel(),O=T.get("clipboard"),A=_.getSelected();O&&A&&(_.getSelectedAll().forEach(function(k){var L=k.collection;if(L){var R,z=k.index()+1,ot={at:z,action:S.action||"paste-component"};if((0,g.contains)(O,k)&&k.get("copyable"))R=L.add(k.clone(),ot);else{var dt=O.filter(function(U){return U.get("copyable")}),tt=dt.filter(function(U){return _.Components.canMove(k.parent(),U).result});R=L.add(tt.map(function(U){return U.clone()}),ot)}R=(0,g.isArray)(R)?R:[R],R.forEach(function(U){return _.trigger("component:paste",U)})}}),A.emitUpdate())}}},129:(i,s,f)=>{f.r(s),f.d(s,{default:()=>x});var g=f(50),w=function(S,T,O){if(O||arguments.length===2)for(var A=0,k=T.length,L;A<k;A++)(L||!(A in T))&&(L||(L=Array.prototype.slice.call(T,0,A)),L[A]=T[A]);return S.concat(L||Array.prototype.slice.call(T))},_="core:component-outline";const x={getPanels:function(S){return this.panels||(this.panels=S.Panels.getPanels()),this.panels},preventDrag:function(S){S.abort=1},tglEffects:function(S){var T=this.em,O=S?"on":"off";if(T){var A=T.Canvas,k=A.getBody(),L=A.getToolbarEl();L&&(L.style.display=S?"none":"");var R=k.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,g.each)(R,function(z){return z.style.pointerEvents=S?"all":""}),T[O]("run:tlb-move:before",this.preventDrag)}},run:function(S,T){var O=this;this.sender=T,this.selected=w([],S.getSelectedAll(),!0),S.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=S.Commands.isActive(_)),this.shouldRunSwVisibility&&S.stopCommand(_),S.getModel().stopDefault();var A=this.getPanels(S),k=S.Canvas.getElement(),L=S.getEl(),R=S.Config.stylePrefix;if(!this.helper){var z=document.createElement("span");z.className="".concat(R,"off-prv fa fa-eye-slash"),L.appendChild(z),z.onclick=function(){return O.stopCommand()},this.helper=z}this.helper.style.display="inline-block",A.forEach(function(dt){return dt.set("visible",!1)});var ot=k.style;ot.width="100%",ot.height="100%",ot.top="0",ot.left="0",ot.padding="0",ot.margin="0",S.refresh(),this.tglEffects(1)},stop:function(S){var T=this,O=T.sender,A=O===void 0?{}:O,k=T.selected;A.set&&A.set("active",0);var L=this.getPanels(S);this.shouldRunSwVisibility&&(S.runCommand(_),this.shouldRunSwVisibility=!1),S.getModel().runDefault(),L.forEach(function(z){return z.set("visible",!0)});var R=S.Canvas.getElement();R.setAttribute("style",""),k&&S.select(k),delete this.selected,this.helper&&(this.helper.style.display="none"),S.refresh(),this.tglEffects()}}},116:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=function(){return g=Object.assign||function(_){for(var x,S=1,T=arguments.length;S<T;S++){x=arguments[S];for(var O in x)Object.prototype.hasOwnProperty.call(x,O)&&(_[O]=x[O])}return _},g.apply(this,arguments)};const w={run:function(_,x,S){var T=S||{},O=_.Canvas,A=O.getCanvasView(),k=g({appendTo:O.getResizerEl(),prefix:_.getConfig().stylePrefix,posFetcher:A.getElementPos.bind(A),mousePosFetcher:O.getMouseRelativePos},T.options||{}),L=this.canvasResizer;return(!L||T.forceNew)&&(this.canvasResizer=new _.Utils.Resizer(k),L=this.canvasResizer),L.setOptions(k,!0),L.blur(),L.focus(T.el),L},stop:function(){var _;(_=this.canvasResizer)===null||_===void 0||_.blur()}}},407:(i,s,f)=>{f.r(s),f.d(s,{default:()=>Ot});var g=f(50),w=f(346),_=function(){var $=function(Y,q){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ht){Z.__proto__=ht}||function(Z,ht){for(var J in ht)Object.prototype.hasOwnProperty.call(ht,J)&&(Z[J]=ht[J])},$(Y,q)};return function(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");$(Y,q);function Z(){this.constructor=Y}Y.prototype=q===null?Object.create(q):(Z.prototype=q.prototype,new Z)}}(),x=function($){_(Y,$);function Y(){return $!==null&&$.apply(this,arguments)||this}return Y.prototype.defaults=function(){return{command:"",attributes:{}}},Y}(w.Hn);const S=x;var T=function(){var $=function(Y,q){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ht){Z.__proto__=ht}||function(Z,ht){for(var J in ht)Object.prototype.hasOwnProperty.call(ht,J)&&(Z[J]=ht[J])},$(Y,q)};return function(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");$(Y,q);function Z(){this.constructor=Y}Y.prototype=q===null?Object.create(q):(Z.prototype=q.prototype,new Z)}}(),O=function($){T(Y,$);function Y(){return $!==null&&$.apply(this,arguments)||this}return Y}(w.FE);const A=O;O.prototype.model=S;var k=f(330),L=function(){var $=function(Y,q){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ht){Z.__proto__=ht}||function(Z,ht){for(var J in ht)Object.prototype.hasOwnProperty.call(ht,J)&&(Z[J]=ht[J])},$(Y,q)};return function(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");$(Y,q);function Z(){this.constructor=Y}Y.prototype=q===null?Object.create(q):(Z.prototype=q.prototype,new Z)}}(),R=function(){return R=Object.assign||function($){for(var Y,q=1,Z=arguments.length;q<Z;q++){Y=arguments[q];for(var ht in Y)Object.prototype.hasOwnProperty.call(Y,ht)&&($[ht]=Y[ht])}return $},R.apply(this,arguments)},z=function($){L(Y,$);function Y(q){var Z=$.call(this,q)||this;return Z.em=q.config.em,Z}return Y.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},Y.prototype.attributes=function(){return this.model.get("attributes")},Y.prototype.handleClick=function(q){q.preventDefault(),q.stopPropagation();var Z=this.em,ht=Z.Canvas.getFrameEl().getBoundingClientRect(),J=ht.left,xt=ht.top,D=R(R({},q),{clientX:q.clientX-J,clientY:q.clientY-xt});Z.trigger("toolbar:run:before",{event:D}),this.execCommand(D)},Y.prototype.execCommand=function(q){var Z=this,ht=Z.em,J=Z.model,xt={event:q},D=J.get("command"),yt=ht.Editor;(0,g.isFunction)(D)&&D(yt,null,xt),(0,g.isString)(D)&&yt.runCommand(D,xt)},Y.prototype.render=function(){var q=this,Z=q.em,ht=q.$el,J=q.model,xt=J.get("id"),D=J.get("label"),yt=Z.getConfig().stylePrefix;return ht.addClass("".concat(yt,"toolbar-item")),xt&&ht.addClass("".concat(yt,"toolbar-item__").concat(xt)),D&&ht.append(D),this},Y}(w.G7);const ot=z;var dt=function(){var $=function(Y,q){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,ht){Z.__proto__=ht}||function(Z,ht){for(var J in ht)Object.prototype.hasOwnProperty.call(ht,J)&&(Z[J]=ht[J])},$(Y,q)};return function(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");$(Y,q);function Z(){this.constructor=Y}Y.prototype=q===null?Object.create(q):(Z.prototype=q.prototype,new Z)}}(),tt=function($){dt(Y,$);function Y(q){var Z=$.call(this,q)||this,ht=q.em;return Z.em=ht,Z.config={em:ht},Z.listenTo(Z.collection,"reset",Z.render),Z}return Y.prototype.onRender=function(){var q=this.em.config.stylePrefix;this.el.className="".concat(q,"toolbar-items")},Y}(k.Z);const U=tt;tt.prototype.itemView=ot;var K=f(491),X=f(163),mt=f(675),bt=function(){return bt=Object.assign||function($){for(var Y,q=1,Z=arguments.length;q<Z;q++){Y=arguments[q];for(var ht in Y)Object.prototype.hasOwnProperty.call(Y,ht)&&($[ht]=Y[ht])}return $},bt.apply(this,arguments)},St;const Ot={init:function(){this.onSelect=(0,g.debounce)(this.onSelect,0),(0,g.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),St=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function($){var Y=this,q=this.em,Z=q.getConfig().listenToEl,ht=q.getContainer().parentNode,J=$?"on":"off",xt={on:K.on,off:K.S1};!Z.length&&ht&&Z.push(ht);var D=function(yt,rt){xt[J](rt,"mouseover",Y.onHover),xt[J](rt,"mouseleave",Y.onOut),xt[J](rt,"click",Y.onClick),xt[J](yt,"scroll",Y.onFrameScroll,!0),xt[J](yt,"resize",Y.onFrameResize)};xt[J](window,"resize",this.onFrameUpdated),xt[J](Z,"scroll",this.onContainerChange),q[J]("component:toggled component:update undo redo",this.onSelect,this),q[J]("change:componentHovered",this.onHovered,this),q[J]("component:resize styleable:change component:input",this.updateGlobalPos,this),q[J]("component:update:toolbar",this._upToolbar,this),q[J]("change:canvasOffset",this.updateAttached,this),q[J]("frame:updated",this.onFrameUpdated,this),q[J]("canvas:updateTools",this.onFrameUpdated,this),q.Canvas.getFrames().forEach(function(yt){var rt=yt.view,et=rt==null?void 0:rt.getWindow();et&&D(et,rt==null?void 0:rt.getBody())})},onHover:function($){$.stopPropagation();var Y=this.em,q=$.target,Z=(0,X.getComponentView)(q),ht=Z==null?void 0:Z.frameView,J=Z==null?void 0:Z.model;if(!J)for(var xt=q.parentNode;!J&&xt&&!(0,K.Mx)(xt);)J=(0,X.getComponentModel)(xt),xt=xt.parentNode;this.currentDoc=q.ownerDocument,Y.setHovered(J,{useValid:!0}),ht&&Y.setCurrentFrame(ht)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function($,Y){var q=this,Z,ht={};Y?(Z=Y.views)===null||Z===void 0||Z.forEach(function(J){var xt=J.el,D=q.getElementPos(xt);ht={el:xt,pos:D,component:Y,view:(0,X.getViewEl)(xt)},xt.ownerDocument===q.currentDoc&&(q.elHovered=ht),q.updateToolsLocal(ht)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(J){var xt=J.view,D=xt&&xt.getToolsEl();D&&q.toggleToolsEl(0,0,{el:D})}))},onSelect:function(){var $=this.em,Y=$.getSelected(),q=$.getCurrentFrame(),Z=Y&&Y.getView(q==null?void 0:q.model),ht=Z&&Z.el,J={};if(ht&&(0,K.pn)(ht)){var xt=this.getElementPos(ht);J={el:ht,pos:xt,component:Y,view:(0,X.getViewEl)(ht)}}this.elSelected=J,this.updateToolsGlobal(),this.updateLocalPos(J),this.initResize(Y)},updateGlobalPos:function(){var $=this.getElSelected();$.el&&($.pos=this.getElementPos($.el),this.updateToolsGlobal())},updateLocalPos:function($){var Y=this.getElHovered();Y.el&&(Y.pos=this.getElementPos(Y.el),this.updateToolsLocal($))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function($,Y,q){q===void 0&&(q={});var Z=q.el||this.canvas.getToolsEl(Y);return Z&&(Z.style.display=$?"":"none"),Z||{}},showElementOffset:function($,Y,q){q===void 0&&(q={}),St&&this.editor.runCommand("show-offset",{el:$,elPos:Y,view:q.view,force:1,top:0,left:0})},hideElementOffset:function($){this.editor.stopCommand("show-offset",{view:$})},showFixedElementOffset:function($,Y){this.editor.runCommand("show-offset",{el:$,elPos:Y,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function($){this.canvas.getHighlighter($).style.opacity=0},onClick:function($){$.stopPropagation(),$.preventDefault();var Y=this.em;if(Y.get("_cmpDrag"))return Y.set("_cmpDrag");var q=$.target,Z=(0,X.getComponentModel)(q);if(!Z)for(var ht=q.parentNode;!Z&&ht&&!(0,K.Mx)(ht);)Z=(0,X.getComponentModel)(ht),ht=ht.parentNode;if(Z){if(Y.isEditing()&&!Z.get("textable")&&Z.isChildOf("text"))return;this.select(Z,$)}},select:function($,Y){Y===void 0&&(Y={}),$&&(this.editor.select($,{event:Y,useValid:!0}),this.initResize($))},updateBadge:function($,Y,q){q===void 0&&(q={});var Z=this.canvas,ht=(0,X.getComponentModel)($),J=this.getBadge(q),xt=J.style;if(!ht||!ht.get("badgable")){xt.display="none";return}if(!q.posOnly){var D=this.canvas.getConfig(),yt=ht.getIcon(),rt=D.pStylePrefix||"",et="".concat(rt,"badge"),Mt=D.customBadgeLabel,zt="".concat(yt?'<div class="'.concat(et,'__icon">').concat(yt,"</div>"):"",`
        <div class="`).concat(et,'__name">').concat(ht.getName(),"</div>");J.innerHTML=Mt?Mt(ht):zt}var Zt="px";xt.display="block";var Et=Z.getTargetToElementFixed($,J,{pos:Y}),Ht=Et.top,Wt=q.leftOff<0?-q.leftOff:0;xt.top=Ht+Zt,xt.left=Wt+Zt},showHighlighter:function($){this.canvas.getHighlighter($).style.opacity=""},initResize:function($){var Y=this,q=Y.em,Z=Y.canvas,ht=q.Editor,J=!(0,g.isElement)($)&&(0,K.o5)($)?$:q.getSelected(),xt=J==null?void 0:J.get("resizable"),D=mt.q.Resize,yt=Z.hasCustomSpot(D);if(Z.removeSpots({type:D}),J&&xt){Z.addSpot({type:D,component:J});var rt=(0,g.isElement)($)?$:J.getEl();if(yt||!rt)return;var et,Mt=q.config,zt=Mt.stylePrefix||"",Zt="".concat(zt,"resizing"),Et=function(Wt,$t,Kt){var qt=Kt.docs;qt&&qt.forEach(function(ge){var be=ge.body,se=be.className||"";be.className=(Wt=="add"?"".concat(se," ").concat(Zt):se.replace(Zt,"")).trim()})},Ht=bt({onStart:function(Wt,$t){$t===void 0&&($t={});var Kt=$t.el,qt=$t.config,ge=$t.resizer,be=qt.keyHeight,se=qt.keyWidth,ve=qt.currentUnit,Ue=qt.keepAutoHeight,mn=qt.keepAutoWidth;Et("add",Wt,$t),et=q.Styles.getModelToStyle(J),Z.toggleFramesEvents(!1);var an=getComputedStyle(Kt),en=et.getStyle(),ie=en[se];qt.autoWidth=mn&&ie==="auto",isNaN(parseFloat(ie))&&(ie=an[se]);var F=en[be];qt.autoHeight=Ue&&F==="auto",isNaN(parseFloat(F))&&(F=an[be]),ge.startDim.w=parseFloat(ie),ge.startDim.h=parseFloat(F),St=!1,ve&&(qt.unitHeight=(0,X.getUnitFromValue)(F),qt.unitWidth=(0,X.getUnitFromValue)(ie))},onMove:function(){ht.trigger("component:resize")},onEnd:function(Wt,$t){Et("remove",Wt,$t),ht.trigger("component:resize"),Z.toggleFramesEvents(!0),St=!0},updateTarget:function(Wt,$t,Kt){if(Kt===void 0&&(Kt={}),!!et){var qt=Kt.store,ge=Kt.selectedHandler,be=Kt.config,se=be.keyHeight,ve=be.keyWidth,Ue=be.autoHeight,mn=be.autoWidth,an=be.unitWidth,en=be.unitHeight,ie=["tc","bc"].indexOf(ge)>=0,F=["cl","cr"].indexOf(ge)>=0,nt={};if(!ie){var vt=Z.getBody().offsetWidth,Lt=$t.w<vt?$t.w:vt;nt[ve]=mn?"auto":"".concat(Lt).concat(an)}F||(nt[se]=Ue?"auto":"".concat($t.h).concat(en)),q.getDragMode(J)&&(nt.top="".concat($t.t).concat(en),nt.left="".concat($t.l).concat(an));var Ft=bt(bt({},nt),{__p:!qt});et.addStyle(Ft,{avoidStore:!qt}),q.Styles.__emitCmpStyleUpdate(Ft,{components:q.getSelected()})}}},(0,X.isObject)(xt)?xt:{});this.resizer=ht.runCommand("resize",{el:rt,options:Ht,force:1})}else{if(yt)return;ht.stopCommand("resize"),this.resizer=null}},updateToolbar:function($){var Y=this.canvas,q=this.config.em,Z=$===q?q.getSelected():$,ht=Y.getToolbarEl(),J=ht.style,xt=Z.get("toolbar"),D=q.config.showToolbar,yt=!Y.hasCustomSpot(mt.q.Select);if(Z&&D&&xt&&xt.length&&yt){if(J.display="",!this.toolbar){ht.innerHTML="",this.toolbar=new A(xt);var rt=new U({collection:this.toolbar,em:q});ht.appendChild(rt.render().el)}this.toolbar.reset(xt),J.top="-100px",J.left="0"}else J.display="none"},updateToolbarPos:function($){var Y="px",q=this.canvas.getToolbarEl().style;q.top="".concat($.top).concat(Y),q.left="".concat($.left).concat(Y),q.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function($){return $===void 0&&($={}),this.canvas.getBadgeEl($.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refreshSpots()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function($){return $&&$.get("status")==="selected"},updateToolsLocal:function($){var Y=this.em.getConfig(),q=$||this.getElHovered(),Z=q.el,ht=q.pos,J=q.view,xt=q.component;if(!Z){this.lastHovered=0;return}var D=xt.get("hoverable"),yt=this.lastHovered!==Z,rt=yt?{}:{posOnly:1},et=this.canvas.hasCustomSpot(mt.q.Hover);yt&&D&&(this.lastHovered=Z,et?this.hideHighlighter(J):this.showHighlighter(J),this.showElementOffset(Z,ht,{view:J})),this.isCompSelected(xt)&&(this.hideHighlighter(J),!Y.showOffsetsSelected&&this.hideElementOffset(J));var Mt="px",zt=this.toggleToolsEl(1,J),Zt=zt.style,Et=this.canvas.canvasRectOffset(Z,ht),Ht=Et.top,Wt=Et.left;!et&&this.updateBadge(Z,ht,bt(bt({},rt),{view:J,topOff:Ht,leftOff:Wt})),Zt.top=Ht+Mt,Zt.left=Wt+Mt,Zt.width=ht.width+Mt,Zt.height=ht.height+Mt,this._trgToolUp("local",{component:xt,el:zt,top:Ht,left:Wt,width:ht.width,height:ht.height})},_upToolbar:(0,g.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function($,Y){Y===void 0&&(Y={}),this.em.trigger("canvas:tools:update",bt({type:$},Y))},updateToolsGlobal:function($){$===void 0&&($={});var Y=this.getElSelected(),q=Y.el,Z=Y.pos,ht=Y.component;if(!q){this.toggleToolsEl(),this.lastSelected=0;return}var J=this.canvas,xt=this.lastSelected!==q;(xt||$.force)&&(this.lastSelected=q,this.updateToolbar(ht));var D="px",yt=this.toggleToolsEl(1),rt=yt.style,et=J.getTargetToElementFixed(q,J.getToolbarEl(),{pos:Z}),Mt=et.canvasOffsetTop,zt=et.canvasOffsetLeft;rt.top=Mt+D,rt.left=zt+D,rt.width=Z.width+D,rt.height=Z.height+D,this.updateToolbarPos({top:et.top,left:et.left}),this._trgToolUp("global",{component:ht,el:yt,top:Mt,left:zt,width:Z.width,height:Z.height})},updateAttached:(0,g.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,g.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function($){return this.canvas.getCanvasView().getElementPos($,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function($){$&&$.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function($){(0,X.hasWin)()&&(this.editor=$&&$.get("Editor"),this.enable())},stop:function($,Y,q){if(q===void 0&&(q={}),!!(0,X.hasWin)()){var Z=this,ht=Z.em,J=Z.editor;this.onHovered(),this.stopSelectComponent(),!q.preserveSelected&&ht.setSelected(),this.toggleToolsEl(),J&&J.stopCommand("resize")}}}},189:(i,s,f)=>{f.r(s),f.d(s,{default:()=>w});var g=f(895);const w={startSelectPosition:function(_,x,S){var T=this;S===void 0&&(S={}),this.isPointed=!1;var O=this.em.Utils,A=_.ownerDocument.body;O&&!this.sorter&&(this.sorter=new O.Sorter({container:A,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:x,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return T.em.getZoomDecimal()}})),S.onStart&&(this.sorter.onStart=S.onStart),_&&this.sorter.startSort(_,{container:A})},getOffsetDim:function(){var _=this.offset(this.canvas.getFrameEl()),x=this.offset(this.canvas.getElement()),S=_.top-x.top,T=_.left-x.left;return{top:S,left:T}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,g.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,g.default)(this.cDim[this.posIndex][5]).parent():(0,g.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(_,x,S){var T=_||0,O=x||"before",A=S.length,k=A!==0&&O=="after"&&T==A;return A!==0&&(!k&&!S[T][4]||S[T-1]&&!S[T-1][4]||k&&!S[T-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(i,s,f)=>{f.r(s),f.d(s,{default:()=>T});var g=f(50),w=f(675),_=f(895),x=f(491),S=function(){return S=Object.assign||function(O){for(var A,k=1,L=arguments.length;k<L;k++){A=arguments[k];for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(O[R]=A[R])}return O},S.apply(this,arguments)};const T={getOffsetMethod:function(O){var A=O||"";return"get"+A+"OffsetViewerEl"},run:function(O,A,k){var L=this.canvas,R=k||{},z=R.state||"",ot=O.getConfig(),dt=this.em.getZoomDecimal(),tt=R.el;if(!ot.showOffsets||!tt||(0,x.BM)(tt)||!ot.showOffsetsSelected&&z=="Fixed"){O.stopCommand("".concat(this.id),k);return}if(!L.hasCustomSpot(w.q.Spacing)){var U=S({},R.elPos||L.getElementPos(tt));(0,g.isUndefined)(R.top)||(U.top=R.top),(0,g.isUndefined)(R.left)||(U.left=R.left);var K=window.getComputedStyle(tt),X=this.ppfx,mt=z+"State",bt=this.getOffsetMethod(z),St=L[bt](k.view);St.style.opacity="";var Ot=this["marginT"+z],$=this["marginB"+z],Y=this["marginL"+z],q=this["marginR"+z],Z=this["padT"+z],ht=this["padB"+z],J=this["padL"+z],xt=this["padR"+z];if(St.childNodes.length&&(this[mt]="1",Ot=St.querySelector("[data-offset-m-t]"),$=St.querySelector("[data-offset-m-b]"),Y=St.querySelector("[data-offset-m-l]"),q=St.querySelector("[data-offset-m-r]"),Z=St.querySelector("[data-offset-p-t]"),ht=St.querySelector("[data-offset-p-b]"),J=St.querySelector("[data-offset-p-l]"),xt=St.querySelector("[data-offset-p-r]")),!this[mt]){var D=z.toLowerCase(),yt=D+"margin-v",rt=D+"padding-v",et=(0,_.default)('<div class="'.concat(X,'marginName">')).get(0),Mt=(0,_.default)('<div class="'.concat(X,'paddingName">')).get(0),zt=X+yt+"-el",Zt=X+rt+"-el",Et="".concat(zt," ").concat(X+yt),Ht="".concat(Zt," ").concat(X+rt);Ot=(0,_.default)('<div class="'.concat(Et,'-top"></div>')).get(0),$=(0,_.default)('<div class="'.concat(Et,'-bottom"></div>')).get(0),Y=(0,_.default)('<div class="'.concat(Et,'-left"></div>')).get(0),q=(0,_.default)('<div class="'.concat(Et,'-right"></div>')).get(0),Z=(0,_.default)('<div class="'.concat(Ht,'-top"></div>')).get(0),ht=(0,_.default)('<div class="'.concat(Ht,'-bottom"></div>')).get(0),J=(0,_.default)('<div class="'.concat(Ht,'-left"></div>')).get(0),xt=(0,_.default)('<div class="'.concat(Ht,'-right"></div>')).get(0),this["marginT"+z]=Ot,this["marginB"+z]=$,this["marginL"+z]=Y,this["marginR"+z]=q,this["padT"+z]=Z,this["padB"+z]=ht,this["padL"+z]=J,this["padR"+z]=xt,et.appendChild(Ot),et.appendChild($),et.appendChild(Y),et.appendChild(q),Mt.appendChild(Z),Mt.appendChild(ht),Mt.appendChild(J),Mt.appendChild(xt),St.appendChild(et),St.appendChild(Mt),this[mt]="1"}var Wt="px",$t=parseFloat(K.marginLeft.replace(Wt,""))*dt,Kt=parseFloat(K.marginRight.replace(Wt,""))*dt,qt=parseFloat(K.marginTop.replace(Wt,""))*dt,ge=parseFloat(K.marginBottom.replace(Wt,""))*dt,be=Ot.style,se=$.style,ve=Y.style,Ue=q.style,mn=Z.style,an=ht.style,en=J.style,ie=xt.style,F=parseFloat(U.left),nt=parseFloat(K.width)*dt+Wt;be.height=qt+Wt,be.width=nt,be.top=U.top-qt+Wt,be.left=F+Wt,se.height=ge+Wt,se.width=nt,se.top=U.top+U.height+Wt,se.left=F+Wt;var vt=U.height+qt+ge+Wt,Lt=U.top-qt+Wt;ve.height=vt,ve.width=$t+Wt,ve.top=Lt,ve.left=F-$t+Wt,Ue.height=vt,Ue.width=Kt+Wt,Ue.top=Lt,Ue.left=F+U.width+Wt;var Ft=parseFloat(K.paddingTop)*dt;mn.height=Ft+Wt;var ct=parseFloat(K.paddingBottom)*dt;an.height=ct+Wt;var Vt=U.height-ct-Ft+Wt,Pt=U.top+Ft+Wt;en.height=Vt,en.width=parseFloat(K.paddingLeft)*dt+Wt,en.top=Pt;var Ce=parseFloat(K.paddingRight)*dt;ie.height=Vt,ie.width=Ce+Wt,ie.top=Pt}},stop:function(O,A,k){k===void 0&&(k={});var L=k||{},R=L.state||"",z=this.getOffsetMethod(R),ot=k.view,dt=this.canvas,tt=dt[z](ot);tt.style.opacity=0}}},434:(i,s,f)=>{f.r(s),f.d(s,{default:()=>_});var g=f(50),w=f(163);const _={init:function(){(0,g.bindAll)(this,"_onFramesChange")},run:function(x){this.toggleVis(x,!0)},stop:function(x){this.toggleVis(x,!1)},toggleVis:function(x,S){if(S===void 0&&(S=!0),!x.Commands.isActive("preview")){var T=x.Canvas,O=S?"on":"off",A=T.getModel();A[O]("change:frames",this._onFramesChange),this.handleFrames(T.getFrames(),S)}},handleFrames:function(x,S){var T=this;x.forEach(function(O){var A;!((A=O.view)===null||A===void 0)&&A.loaded&&T._upFrame(O,S),O.__ol||(O.on("loaded",function(){return T._upFrame(O)}),O.__ol=!0)})},_onFramesChange:function(x,S){this.handleFrames(S)},_upFrame:function(x,S){var T,O=this,A=O.ppfx,k=O.em,L=O.id,R=(0,w.isDef)(S)?S:k.Commands.isActive(L),z=R?"add":"remove",ot="".concat(A,"dashed");(T=x.view)===null||T===void 0||T.getBody().classList[z](ot)}}},346:(i,s,f)=>{f.d(s,{FE:()=>T,G7:()=>O,Hn:()=>S,pH:()=>k,vA:()=>A});var g=f(316),w=f.n(g),_=function(){var L=function(R,z){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,dt){ot.__proto__=dt}||function(ot,dt){for(var tt in dt)Object.prototype.hasOwnProperty.call(dt,tt)&&(ot[tt]=dt[tt])},L(R,z)};return function(R,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");L(R,z);function ot(){this.constructor=R}R.prototype=z===null?Object.create(z):(ot.prototype=z.prototype,new ot)}}(),x=function(){return x=Object.assign||function(L){for(var R,z=1,ot=arguments.length;z<ot;z++){R=arguments[z];for(var dt in R)Object.prototype.hasOwnProperty.call(R,dt)&&(L[dt]=R[dt])}return L},x.apply(this,arguments)},S=function(L){_(R,L);function R(){return L!==null&&L.apply(this,arguments)||this}return R}(w().Model),T=function(L){_(R,L);function R(){return L!==null&&L.apply(this,arguments)||this}return R}(w().Collection),O=function(L){_(R,L);function R(){return L!==null&&L.apply(this,arguments)||this}return R}(w().View),A;(function(L){L.Screen="screen",L.World="world"})(A||(A={}));var k={x:0,y:0};x(x({},k),{width:0,height:0})},330:(i,s,f)=>{f.d(s,{Z:()=>S});var g=f(50),w=f(346),_=function(){var T=function(O,A){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(k[R]=L[R])},T(O,A)};return function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");T(O,A);function k(){this.constructor=O}O.prototype=A===null?Object.create(A):(k.prototype=A.prototype,new k)}}(),x=function(T){_(O,T);function O(A,k,L){A===void 0&&(A={}),L===void 0&&(L=!1);var R=T.call(this,A)||this;return R.itemsView="",R.itemType="type",R.reuseView=!1,R.config=k||A.config||{},L&&R.listenTo(R.collection,"add",R.addTo),R.items=[],R}return O.prototype.addTo=function(A){this.add(A)},O.prototype.itemViewNotFound=function(A){var k=this,L=k.config,R=k.ns,z=L.em,ot="".concat(R?"[".concat(R,"]: "):"","'").concat(A,"' type not found");z&&z.logWarning(ot)},O.prototype.add=function(A,k){var L=this,R=L.config,z=L.reuseView,ot=L.items,dt=this.itemsView||{},tt=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],U=k||null,K=this.itemView,X=A.get(this.itemType),mt;dt[X]?K=dt[X]:X&&!dt[X]&&!(0,g.includes)(tt,X)&&this.itemViewNotFound(X),A.view&&z?mt=A.view:mt=new K({model:A,config:R},R),ot&&ot.push(mt);var bt=mt.render().el;U?U.appendChild(bt):this.$el.append(bt)},O.prototype.render=function(){var A=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(k){this.add(k,A)},this),this.$el.append(A),this.onRender(),this},O.prototype.onRender=function(){},O.prototype.onRemoveBefore=function(A,k){},O.prototype.onRemove=function(A,k){},O.prototype.remove=function(A){A===void 0&&(A={});var k=this.items;return this.onRemoveBefore(k,A),this.clearItems(),T.prototype.remove.call(this),this.onRemove(k,A),this},O.prototype.clearItems=function(){this.items},O}(w.G7);const S=x;x.prototype.itemView=""},668:(i,s,f)=>{f.d(s,{Z:()=>O});var g=f(50),w=f(491),_=function(){return _=Object.assign||function(A){for(var k,L=1,R=arguments.length;L<R;L++){k=arguments[L];for(var z in k)Object.prototype.hasOwnProperty.call(k,z)&&(A[z]=k[z])}return A},_.apply(this,arguments)},x=function(){return{x:0,y:0}},S=["x","y"],T=function(){function A(k){return k===void 0&&(k={}),this.opts={snapOffset:5,scale:1},(0,g.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(k),this.delta=x(),this.lastScroll=x(),this.lastScrollDiff=x(),this.startPointer=x(),this.startPosition=x(),this.globScrollDiff=x(),this.currentPointer=x(),this.position=x(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return A.prototype.setOptions=function(k){k===void 0&&(k={}),this.opts=_(_({},this.opts),k)},A.prototype.toggleDrag=function(k){var L=this.getDocumentEl(),R=this.getContainerEl(),z=this.getWindowEl(),ot=k?"on":"off",dt={on:w.on,off:w.S1};dt[ot](R,"mousemove dragover",this.drag),dt[ot](L,"mouseup dragend touchend",this.stop),dt[ot](L,"keydown",this.keyHandle),dt[ot](z,"scroll",this.handleScroll)},A.prototype.handleScroll=function(){var k=this,L=k.lastScroll,R=k.delta,z=this.getScrollInfo(),ot={x:z.x-L.x,y:z.y-L.y};this.move(R.x+ot.x,R.y+ot.y),this.lastScrollDiff=ot},A.prototype.start=function(k){var L=this.opts,R=L.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(k),this.guidesStatic=(0,g.result)(L,"guidesStatic")||[],this.guidesTarget=(0,g.result)(L,"guidesTarget")||[],(0,g.isFunction)(R)&&R(k,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=x(),this.globScrollDiff=x(),this.drag(k)},A.prototype.drag=function(k){var L=this,R=this,z=R.opts,ot=R.lastScrollDiff,dt=R.globScrollDiff,tt=z.onDrag,U=this.startPointer,K=this.getPointerPos(k),X={x:dt.x+ot.x,y:dt.y+ot.y};this.globScrollDiff=X;var mt={x:K.x-U.x+X.x,y:K.y-U.y+X.y};this.lastScrollDiff=x();var bt=this.lockedAxis;k.shiftKey?bt=!bt&&this.detectAxisLock(mt.x,mt.y):bt=null,bt==="x"?mt.x=U.x:bt==="y"&&(mt.y=U.y);var St=function(ht){S.forEach(function(J){return ht[J]=ht[J]*(0,g.result)(z,"scale")}),L.delta=ht,L.move(ht.x,ht.y),(0,g.isFunction)(tt)&&tt(k,L)},Ot=_({},mt);if(this.currentPointer=K,this.lockedAxis=bt,this.lastScroll=this.getScrollInfo(),St(mt),this.guidesTarget.length){var $=this.snapGuides(Ot),Y=$.newDelta,q=$.trgX,Z=$.trgY;(q||Z)&&St(Y)}k.which===0&&this.stop(k)},A.prototype.snapGuides=function(k){var L=this,R=k,z=this,ot=z.trgX,dt=z.trgY;return this.guidesTarget.forEach(function(tt){tt.x&&L.trgX||tt.y&&L.trgY||(tt.active=!1,L.guidesStatic.forEach(function(U){if(!(tt.y&&U.x||tt.x&&U.y)){var K=tt.y&&U.y,X=K?"y":"x",mt=tt[X],bt=U[X],St=k[X],Ot=K?dt:ot;if(L.isPointIn(mt,bt)&&(0,g.isUndefined)(Ot)){var $=St-(mt-bt);L.setGuideLock(tt,$)}}}))}),ot=this.trgX,dt=this.trgY,S.forEach(function(tt){var U=tt.toUpperCase(),K=L["trg".concat(U)];K&&!L.isPointIn(k[tt],K.lock)&&(L.setGuideLock(K,null),K=null),K&&!(0,g.isUndefined)(K.lock)&&(R[tt]=K.lock)}),{newDelta:R,trgX:this.trgX,trgY:this.trgY}},A.prototype.isPointIn=function(k,L,R){var z=R===void 0?{}:R,ot=z.offset,dt=ot||this.opts.snapOffset||0;return k>=L&&k<=L+dt||k<=L&&k>=L-dt},A.prototype.setGuideLock=function(k,L){var R=(0,g.isUndefined)(k.x)?"Y":"X",z="trg".concat(R);return L!==null?(k.active=!0,k.lock=L,this[z]=k):(delete k.active,delete k.lock,delete this[z]),k},A.prototype.stop=function(k,L){L===void 0&&(L={});var R=this.delta,z=!!L.cancel,ot=z?0:R.x,dt=z?0:R.y;this.toggleDrag(),this.lockedAxis=null,this.move(ot,dt,!0);var tt=this.opts.onEnd;(0,g.isFunction)(tt)&&tt(k,this,{cancelled:z})},A.prototype.keyHandle=function(k){(0,w.kl)(k)&&this.stop(k,{cancel:!0})},A.prototype.move=function(k,L,R){var z=this,ot=z.el,dt=z.opts,tt=this.startPosition;if(tt){var U=dt.setPosition,K=tt.x+k,X=tt.y+L;this.position={x:K,y:X,end:R},(0,g.isFunction)(U)&&U(this.position),ot&&(ot.style.left="".concat(K,"px"),ot.style.top="".concat(X,"px"))}},A.prototype.getContainerEl=function(){var k=this.opts.container;return k?[k]:this.getDocumentEl()},A.prototype.getWindowEl=function(){var k=this.getContainerEl();return k.map(function(L){var R=L.ownerDocument||L;return R.defaultView||R.parentWindow})},A.prototype.getDocumentEl=function(k){var L=this.opts.doc;if(k=k||this.el,!this.docs.length){var R=[document];k&&R.push(k.ownerDocument),L&&R.push(L),this.docs=R}return this.docs},A.prototype.getPointerPos=function(k){var L=this.opts.getPointerPosition,R=(0,w.VB)(k);return L?L(k):{x:R.clientX,y:R.clientY}},A.prototype.getStartPosition=function(){var k=this,L=k.el,R=k.opts,z=R.getPosition,ot=x();return(0,g.isFunction)(z)?ot=z():L&&(ot={x:parseFloat(L.style.left),y:parseFloat(L.style.top)}),ot},A.prototype.getScrollInfo=function(){var k=this.opts.doc,L=k&&k.body;return{y:L?L.scrollTop:0,x:L?L.scrollLeft:0}},A.prototype.detectAxisLock=function(k,L){var R=k,z=L,ot=Math.abs(R),dt=Math.abs(z);if(z>=ot||z<=-ot)return"x";if(R>dt||R<-dt)return"y"},A}();const O=T},895:(i,s,f)=>{f.r(s),f.d(s,{default:()=>ro});var g=typeof document<"u"?document:null,w=typeof window<"u"?window:null,_=Array.prototype,x=_.filter,S=_.indexOf,T=_.map,O=_.push,A=_.reverse,k=_.slice,L=_.splice,R=/^#[\w-]*$/,z=/^\.[\w-]*$/,ot=/<.+>/,dt=/^\w+$/;function tt(Q,_t){return _t===void 0&&(_t=g),z.test(Q)?_t.getElementsByClassName(Q.slice(1)):dt.test(Q)?_t.getElementsByTagName(Q):_t.querySelectorAll(Q)}function U(Q,_t){if(_t===void 0&&(_t=g),!!Q){if(Q.__cash)return Q;var At=Q;if(ht(Q)){if(_t.__cash&&(_t=_t[0]),At=R.test(Q)?_t.getElementById(Q.slice(1)):ot.test(Q)?sn(Q):tt(Q,_t),!At)return}else if(Z(Q))return this.ready(Q);(At.nodeType||At===w)&&(At=[At]),this.length=At.length;for(var Gt=0,pe=this.length;Gt<pe;Gt++)this[Gt]=At[Gt]}}function K(Q,_t){return new U(Q,_t)}var X=K.fn=K.prototype=U.prototype={constructor:K,__cash:!0,length:0,splice:L};X.get=function(Q){return Q===void 0?k.call(this):this[Q<0?Q+this.length:Q]},X.eq=function(Q){return K(this.get(Q))},X.first=function(){return this.eq(0)},X.last=function(){return this.eq(-1)},X.map=function(Q){return K(T.call(this,function(_t,At){return Q.call(_t,At,_t)}))},X.slice=function(){return K(k.apply(this,arguments))};var mt=/(?:^\w|[A-Z]|\b\w)/g,bt=/[\s-_]+/g;function St(Q){return Q.replace(mt,function(_t,At){return _t[At?"toUpperCase":"toLowerCase"]()}).replace(bt,"")}K.camelCase=St;function Ot(Q,_t){for(var At=0,Gt=Q.length;At<Gt&&_t.call(Q[At],Q[At],At,Q)!==!1;At++);}K.each=Ot,X.each=function(Q){return Ot(this,function(_t,At){return Q.call(_t,At,_t)}),this},X.removeProp=function(Q){return this.each(function(_t,At){delete At[Q]})};function $(Q){Q===void 0&&(Q=this);for(var _t=arguments,At=_t.length,Gt=At<2?0:1;Gt<At;Gt++)for(var pe in _t[Gt])Q[pe]=_t[Gt][pe];return Q}K.extend=X.extend=$;var Y=1;K.guid=Y;function q(Q,_t){var At=Q&&(Q.matches||Q.webkitMatchesSelector||Q.mozMatchesSelector||Q.msMatchesSelector||Q.oMatchesSelector);return!!At&&At.call(Q,_t)}K.matches=q;function Z(Q){return typeof Q=="function"}K.isFunction=Z;function ht(Q){return typeof Q=="string"}K.isString=ht;function J(Q){return!isNaN(parseFloat(Q))&&isFinite(Q)}K.isNumeric=J;var xt=Array.isArray;K.isArray=xt,X.prop=function(Q,_t){if(Q){if(ht(Q))return arguments.length<2?this[0]&&this[0][Q]:this.each(function(Gt,pe){pe[Q]=_t});for(var At in Q)this.prop(At,Q[At]);return this}};function D(Q){return ht(Q)?function(_t,At){return q(At,Q)}:Q.__cash?function(_t,At){return Q.is(At)}:function(_t,At,Gt){return At===Gt}}X.filter=function(Q){if(!Q)return K();var _t=Z(Q)?Q:D(Q);return K(x.call(this,function(At,Gt){return _t.call(At,Gt,At,Q)}))};var yt=/\S+/g;function rt(Q){return ht(Q)?Q.match(yt)||[]:[]}X.hasClass=function(Q){var _t=rt(Q),At=!1;return _t.length&&this.each(function(Gt,pe){return At=pe.classList.contains(_t[0]),!At}),At},X.removeAttr=function(Q){var _t=rt(Q);return _t.length?this.each(function(At,Gt){Ot(_t,function(pe){Gt.removeAttribute(pe)})}):this},X.attr=function(Q,_t){if(Q){if(ht(Q)){if(arguments.length<2){if(!this[0])return;var At=this[0].getAttribute(Q);return At===null?void 0:At}return _t===null?this.removeAttr(Q):this.each(function(pe,je){je.setAttribute(Q,_t)})}for(var Gt in Q)this.attr(Gt,Q[Gt]);return this}},X.toggleClass=function(Q,_t){var At=rt(Q),Gt=_t!==void 0;return At.length?this.each(function(pe,je){Ot(At,function(Xe){Gt?_t?je.classList.add(Xe):je.classList.remove(Xe):je.classList.toggle(Xe)})}):this},X.addClass=function(Q){return this.toggleClass(Q,!0)},X.removeClass=function(Q){return arguments.length?this.toggleClass(Q,!1):this.attr("class","")};function et(Q){return Q.filter(function(_t,At,Gt){return Gt.indexOf(_t)===At})}K.unique=et,X.add=function(Q,_t){return K(et(this.get().concat(K(Q,_t).get())))};function Mt(Q,_t,At){if(Q.nodeType===1){var Gt=w.getComputedStyle(Q,null);return _t?At?Gt.getPropertyValue(_t):Gt[_t]:Gt}}function zt(Q,_t){return parseInt(Mt(Q,_t),10)||0}var Zt=/^--/;function Et(Q){return Zt.test(Q)}var Ht={},Wt=g&&g.createElement("div"),$t=Wt?Wt.style:{},Kt=["webkit","moz","ms","o"];function qt(Q,_t){if(_t===void 0&&(_t=Et(Q)),_t)return Q;if(!Ht[Q]){var At=St(Q),Gt=""+At.charAt(0).toUpperCase()+At.slice(1),pe=(At+" "+Kt.join(Gt+" ")+Gt).split(" ");Ot(pe,function(je){if(je in $t)return Ht[Q]=je,!1})}return Ht[Q]}K.prefixedProp=qt;var ge={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function be(Q,_t,At){return At===void 0&&(At=Et(Q)),!At&&!ge[Q]&&J(_t)?_t+"px":_t}X.css=function(Q,_t){if(ht(Q)){var At=Et(Q);return Q=qt(Q,At),arguments.length<2?this[0]&&Mt(this[0],Q,At):Q?(_t=be(Q,_t,At),this.each(function(pe,je){je.nodeType===1&&(At?je.style.setProperty(Q,_t):je.style[Q]=_t)})):this}for(var Gt in Q)this.css(Gt,Q[Gt]);return this};var se="__cashData",ve=/^data-(.*)/;K.hasData=function(Q){return se in Q};function Ue(Q){return Q[se]=Q[se]||{}}function mn(Q,_t){var At=Ue(Q);if(_t){if(!(_t in At)){var Gt=Q.dataset?Q.dataset[_t]||Q.dataset[St(_t)]:K(Q).attr("data-"+_t);if(Gt!==void 0){try{Gt=JSON.parse(Gt)}catch{}At[_t]=Gt}}return At[_t]}return At}function an(Q,_t){_t===void 0?delete Q[se]:delete Ue(Q)[_t]}function en(Q,_t,At){Ue(Q)[_t]=At}X.data=function(Q,_t){var At=this;if(!Q)return this[0]?(Ot(this[0].attributes,function(pe){var je=pe.name.match(ve);je&&At.data(je[1])}),mn(this[0])):void 0;if(ht(Q))return _t===void 0?this[0]&&mn(this[0],Q):this.each(function(pe,je){return en(je,Q,_t)});for(var Gt in Q)this.data(Gt,Q[Gt]);return this},X.removeData=function(Q){return this.each(function(_t,At){return an(At,Q)})};function ie(Q,_t){return zt(Q,"border"+(_t?"Left":"Top")+"Width")+zt(Q,"padding"+(_t?"Left":"Top"))+zt(Q,"padding"+(_t?"Right":"Bottom"))+zt(Q,"border"+(_t?"Right":"Bottom")+"Width")}Ot(["Width","Height"],function(Q){X["inner"+Q]=function(){if(this[0])return this[0]===w?w["inner"+Q]:this[0]["client"+Q]}}),Ot(["width","height"],function(Q,_t){X[Q]=function(At){return this[0]?arguments.length?(At=parseInt(At,10),this.each(function(Gt,pe){if(pe.nodeType===1){var je=Mt(pe,"boxSizing");pe.style[Q]=be(Q,At+(je==="border-box"?ie(pe,!_t):0))}})):this[0]===w?this[0][St("outer-"+Q)]:this[0].getBoundingClientRect()[Q]-ie(this[0],!_t):At===void 0?void 0:this}}),Ot(["Width","Height"],function(Q,_t){X["outer"+Q]=function(At){if(this[0])return this[0]===w?w["outer"+Q]:this[0]["offset"+Q]+(At?zt(this[0],"margin"+(_t?"Top":"Left"))+zt(this[0],"margin"+(_t?"Bottom":"Right")):0)}});function F(Q,_t){for(var At=0,Gt=_t.length;At<Gt;At++)if(Q.indexOf(_t[At])<0)return!1;return!0}function nt(Q,_t,At){Ot(Q[At],function(Gt){Gt[0];var pe=Gt[1];_t.removeEventListener(At,pe)}),delete Q[At]}var vt="__cashEvents",Lt=".";function Ft(Q){return Q[vt]=Q[vt]||{}}function ct(Q,_t,At,Gt){Gt.guid=Gt.guid||Y++;var pe=Ft(Q);pe[_t]=pe[_t]||[],pe[_t].push([At,Gt]),Q.addEventListener(_t,Gt)}function Vt(Q){var _t=Q.split(Lt);return[_t[0],_t.slice(1).sort()]}function Pt(Q,_t,At,Gt){var pe=Ft(Q);if(_t){var je=pe[_t];if(!je)return;Gt&&(Gt.guid=Gt.guid||Y++),pe[_t]=je.filter(function(Xe){var gr=Xe[0],Dr=Xe[1];if(Gt&&Dr.guid!==Gt.guid||!F(gr,At))return!0;Q.removeEventListener(_t,Dr)})}else if(!At||!At.length)for(_t in pe)nt(pe,Q,_t);else for(_t in pe)Pt(Q,_t,At,Gt)}X.off=function(Q,_t){var At=this;return Q===void 0?this.each(function(Gt,pe){return Pt(pe)}):Ot(rt(Q),function(Gt){var pe=Vt(Gt),je=pe[0],Xe=pe[1];At.each(function(gr,Dr){return Pt(Dr,je,Xe,_t)})}),this},X.on=function(Q,_t,At,Gt){var pe=this;if(!ht(Q)){for(var je in Q)this.on(je,_t,Q[je]);return this}return Z(_t)&&(At=_t,_t=!1),Ot(rt(Q),function(Xe){var gr=Vt(Xe),Dr=gr[0],ln=gr[1];pe.each(function(Bi,Nr){var Wr=function Ho(Rn){if(!(Rn.namespace&&!F(ln,Rn.namespace.split(Lt)))){var Tr=Nr;if(_t){for(var fn=Rn.target;!q(fn,_t);)if(fn===Nr||(fn=fn.parentNode,!fn))return;Tr=fn}Rn.namespace=Rn.namespace||"";var ee=At.call(Tr,Rn,Rn.data);Gt&&Pt(Nr,Dr,ln,Ho),ee===!1&&(Rn.preventDefault(),Rn.stopPropagation())}};Wr.guid=At.guid=At.guid||Y++,ct(Nr,Dr,ln,Wr)})}),this},X.one=function(Q,_t,At){return this.on(Q,_t,At,!0)},X.ready=function(Q){var _t=function(){return Q(K)};return g.readyState!=="loading"?setTimeout(_t):g.addEventListener("DOMContentLoaded",_t),this},X.trigger=function(Q,_t){var At=Q;if(ht(Q)){var Gt=Vt(Q),pe=Gt[0],je=Gt[1];At=g.createEvent("HTMLEvents"),At.initEvent(pe,!0,!0),At.namespace=je.join(Lt)}return At.data=_t,this.each(function(Xe,gr){gr.dispatchEvent(At)})};function Ce(Q){var _t=[];return Ot(Q.options,function(At){At.selected&&!At.disabled&&!At.parentNode.disabled&&_t.push(At.value)}),_t}function Ae(Q){return Q.selectedIndex<0?null:Q.options[Q.selectedIndex].value}var Te=/select-one/i,Fe=/select-multiple/i;function qe(Q){var _t=Q.type;return Te.test(_t)?Ae(Q):Fe.test(_t)?Ce(Q):Q.value}var we=/%20/g;function Vn(Q,_t){return"&"+encodeURIComponent(Q)+"="+encodeURIComponent(_t).replace(we,"+")}var nn=/file|reset|submit|button|image/i,Ze=/radio|checkbox/i;X.serialize=function(){var Q="";return this.each(function(_t,At){Ot(At.elements||[At],function(Gt){if(!(Gt.disabled||!Gt.name||Gt.tagName==="FIELDSET")&&!nn.test(Gt.type)&&!(Ze.test(Gt.type)&&!Gt.checked)){var pe=qe(Gt);if(pe!==void 0){var je=xt(pe)?pe:[pe];Ot(je,function(Xe){Q+=Vn(Gt.name,Xe)})}}})}),Q.substr(1)},X.val=function(Q){return Q===void 0?this[0]&&qe(this[0]):this.each(function(_t,At){var Gt=Fe.test(At.type),pe=Q===null?Gt?[]:"":Q;Gt&&xt(pe)?Ot(At.options,function(je){je.selected=pe.indexOf(je.value)>=0}):At.value=pe})},X.clone=function(){return this.map(function(Q,_t){return _t.cloneNode(!0)})},X.detach=function(){return this.each(function(Q,_t){_t.parentNode&&_t.parentNode.removeChild(_t)})};var Zn=/^\s*<(\w+)[^>]*>/,xe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Tn;function Le(){if(!Tn){var Q=g.createElement("table"),_t=g.createElement("tr");Tn={"*":g.createElement("div"),tr:g.createElement("tbody"),td:_t,th:_t,thead:Q,tbody:Q,tfoot:Q}}}function sn(Q){if(Le(),!ht(Q))return[];if(xe.test(Q))return[g.createElement(RegExp.$1)];var _t=Zn.test(Q)&&RegExp.$1,At=Tn[_t]||Tn["*"];return At.innerHTML=Q,K(At.childNodes).detach().get()}K.parseHTML=sn,X.empty=function(){var Q=this[0];if(Q)for(;Q.firstChild;)Q.removeChild(Q.firstChild);return this};function hn(Q,_t,At){At?Q.insertBefore(_t,Q.childNodes[0]):Q.appendChild(_t)}function or(Q,_t,At){if(_t!==void 0){var Gt=ht(_t);!Gt&&_t.length?Ot(_t,function(pe){return or(Q,pe,At)}):Ot(Q,Gt?function(pe){pe.insertAdjacentHTML(At?"afterbegin":"beforeend",_t)}:function(pe,je){return hn(pe,je?_t.cloneNode(!0):_t,At)})}}X.append=function(){var Q=this;return Ot(arguments,function(_t){or(Q,_t)}),this},X.appendTo=function(Q){return or(K(Q),this),this},X.html=function(Q){if(Q===void 0)return this[0]&&this[0].innerHTML;var _t=Q.nodeType?Q[0].outerHTML:Q;return this.each(function(At,Gt){Gt.innerHTML=_t})},X.insertAfter=function(Q){var _t=this;return K(Q).each(function(At,Gt){var pe=Gt.parentNode;_t.each(function(je,Xe){pe.insertBefore(At?Xe.cloneNode(!0):Xe,Gt.nextSibling)})}),this},X.after=function(){var Q=this;return Ot(A.apply(arguments),function(_t){A.apply(K(_t).slice()).insertAfter(Q)}),this},X.insertBefore=function(Q){var _t=this;return K(Q).each(function(At,Gt){var pe=Gt.parentNode;_t.each(function(je,Xe){pe.insertBefore(At?Xe.cloneNode(!0):Xe,Gt)})}),this},X.before=function(){var Q=this;return Ot(arguments,function(_t){K(_t).insertBefore(Q)}),this},X.prepend=function(){var Q=this;return Ot(arguments,function(_t){or(Q,_t,!0)}),this},X.prependTo=function(Q){return or(K(Q),A.apply(this.slice()),!0),this},X.remove=function(){return this.detach().off()},X.replaceWith=function(Q){var _t=this;return this.each(function(At,Gt){var pe=Gt.parentNode;if(pe){var je=At?K(Q).clone():K(Q);if(!je[0])return _t.remove(),!1;pe.replaceChild(je[0],Gt),K(je[0]).after(je.slice(1))}})},X.replaceAll=function(Q){return K(Q).replaceWith(this),this},X.text=function(Q){return Q===void 0?this[0]?this[0].textContent:"":this.each(function(_t,At){At.textContent=Q})};var En=g&&g.documentElement;X.offset=function(){var Q=this[0];if(Q){var _t=Q.getBoundingClientRect();return{top:_t.top+w.pageYOffset-En.clientTop,left:_t.left+w.pageXOffset-En.clientLeft}}},X.offsetParent=function(){return K(this[0]&&this[0].offsetParent)},X.position=function(){var Q=this[0];if(Q)return{left:Q.offsetLeft,top:Q.offsetTop}},X.children=function(Q){var _t=[];return this.each(function(At,Gt){O.apply(_t,Gt.children)}),_t=K(et(_t)),Q?_t.filter(function(At,Gt){return q(Gt,Q)}):_t},X.contents=function(){var Q=[];return this.each(function(_t,At){O.apply(Q,At.tagName==="IFRAME"?[At.contentDocument]:At.childNodes)}),K(Q.length&&et(Q))},X.find=function(Q){for(var _t=[],At=0,Gt=this.length;At<Gt;At++){var pe=tt(Q,this[At]);pe.length&&O.apply(_t,pe)}return K(_t.length&&et(_t))},X.has=function(Q){var _t=ht(Q)?function(At,Gt){return!!tt(Q,Gt).length}:function(At,Gt){return Gt.contains(Q)};return this.filter(_t)},X.is=function(Q){if(!Q||!this[0])return!1;var _t=D(Q),At=!1;return this.each(function(Gt,pe){return At=_t(Gt,pe,Q),!At}),At},X.next=function(){return K(this[0]&&this[0].nextElementSibling)},X.not=function(Q){if(!Q||!this[0])return this;var _t=D(Q);return this.filter(function(At,Gt){return!_t(At,Gt,Q)})},X.parent=function(){var Q=[];return this.each(function(_t,At){At&&At.parentNode&&Q.push(At.parentNode)}),K(et(Q))},X.index=function(Q){var _t=Q?K(Q)[0]:this[0],At=Q?this:K(_t).parent().children();return S.call(At,_t)},X.closest=function(Q){return!Q||!this[0]?K():this.is(Q)?this.filter(Q):this.parent().closest(Q)},X.parents=function(Q){var _t=[],At;return this.each(function(Gt,pe){for(At=pe;At&&At.parentNode&&At!==g.body.parentNode;)At=At.parentNode,(!Q||Q&&q(At,Q))&&_t.push(At)}),K(et(_t))},X.prev=function(){return K(this[0]&&this[0].previousElementSibling)},X.siblings=function(){var Q=this[0];return this.parent().children().filter(function(_t,At){return At!==Q})};const ro=K},491:(i,s,f)=>{f.d(s,{$Q:()=>ot,BM:()=>mt,FW:()=>L,G1:()=>S,GX:()=>$,L_:()=>O,Mx:()=>T,R3:()=>dt,S1:()=>rt,SJ:()=>X,Ut:()=>Ot,VB:()=>Z,Vb:()=>D,cx:()=>A,dL:()=>z,kl:()=>ht,o5:()=>St,on:()=>yt,pn:()=>R,r$:()=>J,rw:()=>U,sE:()=>k,sN:()=>q,t3:()=>K,ut:()=>tt});var g=f(50),w=function(et,Mt,zt){if(zt||arguments.length===2)for(var Zt=0,Et=Mt.length,Ht;Zt<Et;Zt++)(Ht||!(Zt in Mt))&&(Ht||(Ht=Array.prototype.slice.call(Mt,0,Zt)),Ht[Zt]=Mt[Zt]);return et.concat(Ht||Array.prototype.slice.call(Mt))},_="tag",x="attributes",S="transitionend oTransitionEnd transitionend webkitTransitionEnd",T=function(et){return(et==null?void 0:et.nodeType)===Node.DOCUMENT_NODE},O=function(et){var Mt=et&&et.parentNode;Mt&&Mt.removeChild(et)};function A(){for(var et=[],Mt=0;Mt<arguments.length;Mt++)et[Mt]=arguments[Mt];var zt=Array.isArray(et[0])?et[0]:w([],et,!0);return zt.filter(Boolean).join(" ")}var k=function(et,Mt){return et.querySelectorAll(Mt)},L=function(et,Mt){return Mt===void 0&&(Mt={}),et&&et.setAttribute&&(0,g.each)(Mt,function(zt,Zt){return et.setAttribute(Zt,zt)})},R=function(et){return et&&!!(et.offsetWidth||et.offsetHeight||et.getClientRects().length)},z=function(et,Mt){var zt;(zt=et.parentNode)===null||zt===void 0||zt.replaceChild(Mt,et)},ot=function(et,Mt,zt){var Zt=et.childNodes,Et=Zt.length,Ht=(0,g.isUndefined)(zt)?Et:zt;(0,g.isString)(Mt)&&(et.insertAdjacentHTML("beforeEnd",Mt),Mt=et.lastChild,et.removeChild(Mt)),Ht>=Et?et.appendChild(Mt):et.insertBefore(Mt,Zt[Ht])},dt=function(et,Mt){return ot(et,Mt)},tt=function(et,Mt,zt){Mt===void 0&&(Mt={});var Zt=document.createElement(et);return Mt&&(0,g.each)(Mt,function(Et,Ht){return Zt.setAttribute(Ht,Et)}),zt&&((0,g.isString)(zt)?Zt.innerHTML=zt:Zt.appendChild(zt)),Zt},U=function(et){return document.createTextNode(et)},K=function(et,Mt){var zt,Zt=et.type;try{zt=new window[Mt](Zt,et)}catch{zt=document.createEvent(Mt),zt.initEvent(Zt,!0,!0)}return zt._parentEvent=et,Zt.indexOf("key")===0&&(zt.keyCodeVal=et.keyCode,["keyCode","which"].forEach(function(Et){Object.defineProperty(zt,Et,{get:function(){return this.keyCodeVal}})})),zt},X=function(et,Mt){Mt===void 0&&(Mt=[]);var zt=Array.isArray(Mt)?Mt:[Mt];zt.forEach(function(Zt){var Et=Zt[_]||"div",Ht=Zt[x]||{},Wt=document.createElement(Et);(0,g.each)(Ht,function($t,Kt){Wt.setAttribute(Kt,$t)}),et.appendChild(Wt)})},mt=function(et){return(et==null?void 0:et.nodeType)===Node.TEXT_NODE},bt=function(et){return(et==null?void 0:et.nodeType)===Node.COMMENT_NODE},St=function(et){return et&&!mt(et)&&!bt(et)},Ot=function(et){var Mt={top:0,left:0,width:0,height:0};if(!et)return Mt;var zt;if(mt(et)){var Zt=document.createRange();Zt.selectNode(et),zt=Zt.getBoundingClientRect(),Zt.detach()}return zt||(et.getBoundingClientRect?et.getBoundingClientRect():Mt)},$=function(et){var Mt=(et==null?void 0:et.ownerDocument)||document,zt=Mt.documentElement,Zt=Mt.defaultView||window;return{x:(Zt.pageXOffset||zt.scrollLeft||0)-(zt.clientLeft||0),y:(Zt.pageYOffset||zt.scrollTop||0)-(zt.clientTop||0)}},Y=function(et){return et.which||et.keyCode},q=function(et){return String.fromCharCode(Y(et))},Z=function(et){return et.touches&&et.touches[0]?et.touches[0]:et},ht=function(et){return Y(et)===27},J=function(et){return Y(et)===13},xt=function(et){return et.ctrlKey},D=function(et){return xt(et)||et.metaKey},yt=function(et,Mt,zt,Zt){var Et=Mt.split(/\s+/),Ht=(0,g.isArray)(et)?et:[et];Et.forEach(function(Wt){Ht.forEach(function($t){return $t==null?void 0:$t.addEventListener(Wt,zt,Zt)})})},rt=function(et,Mt,zt,Zt){var Et=Mt.split(/\s+/),Ht=(0,g.isArray)(et)?et:[et];Et.forEach(function(Wt){Ht.forEach(function($t){return $t==null?void 0:$t.removeEventListener(Wt,zt,Zt)})})}},163:(i,s,f)=>{f.r(s),f.d(s,{appendStyles:()=>ot,buildBase64UrlFromSvg:()=>Zt,camelCase:()=>K,capitalize:()=>J,createId:()=>zt,deepMerge:()=>Y,escape:()=>Ot,escapeNodeContent:()=>$,find:()=>St,getComponentModel:()=>et,getComponentView:()=>rt,getElement:()=>bt,getGlobal:()=>A,getModel:()=>q,getUiClass:()=>z,getUnitFromValue:()=>tt,getViewEl:()=>D,hasDnd:()=>mt,hasWin:()=>O,isComponent:()=>yt,isDef:()=>T,isEmptyObj:()=>ht,isObject:()=>Z,isRule:()=>xt,matches:()=>R,normalizeFloat:()=>X,setViewEl:()=>Mt,shallowDiff:()=>dt,toLowerCase:()=>k,upFirst:()=>U,wait:()=>S});var g=f(50),w=f(491),_=function(){return _=Object.assign||function(Et){for(var Ht,Wt=1,$t=arguments.length;Wt<$t;Wt++){Ht=arguments[Wt];for(var Kt in Ht)Object.prototype.hasOwnProperty.call(Ht,Kt)&&(Et[Kt]=Ht[Kt])}return Et},_.apply(this,arguments)},x=function(Et,Ht,Wt){if(Wt||arguments.length===2)for(var $t=0,Kt=Ht.length,qt;$t<Kt;$t++)(qt||!($t in Ht))&&(qt||(qt=Array.prototype.slice.call(Ht,0,$t)),qt[$t]=Ht[$t]);return Et.concat(qt||Array.prototype.slice.call(Ht))},S=function(Et){return Et===void 0&&(Et=0),new Promise(function(Ht){return setTimeout(Ht,Et)})},T=function(Et){return typeof Et<"u"},O=function(){return typeof window<"u"},A=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:f.g},k=function(Et){return(Et||"").toLowerCase()},L=O()?window.Element.prototype:{},R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.msMatchesSelector,z=function(Et,Ht){var Wt=Et.getConfig(),$t=Wt.stylePrefix,Kt=Wt.customUI;return[Kt&&"".concat($t,"cui"),Ht].filter(function(qt){return qt}).join(" ")},ot=function(Et,Ht){Ht===void 0&&(Ht={});var Wt=(0,g.isArray)(Et)?x([],Et,!0):[Et];if(Wt.length){var $t=Wt.shift();if($t&&(!Ht.unique||!document.querySelector('link[href="'.concat($t,'"]')))){var Kt=document.head,qt=document.createElement("link");qt.href=$t,qt.rel="stylesheet",Ht.prepand?Kt.insertBefore(qt,Kt.firstChild):Kt.appendChild(qt)}ot(Wt)}},dt=function(Et,Ht){var Wt={},$t=(0,g.keys)(Ht);for(var Kt in Et)if(Et.hasOwnProperty(Kt)){var qt=Et[Kt],ge=Ht[Kt];$t.indexOf(Kt)>=0?qt!==ge&&(Wt[Kt]=ge):Wt[Kt]=null}for(var Kt in Ht)Ht.hasOwnProperty(Kt)&&(0,g.isUndefined)(Et[Kt])&&(Wt[Kt]=Ht[Kt]);return Wt},tt=function(Et){return Et.replace(parseFloat(Et),"")},U=function(Et){return Et[0].toUpperCase()+Et.toLowerCase().slice(1)},K=function(Et){return Et.replace(/-./g,function(Ht){return Ht[1].toUpperCase()})},X=function(Et,Ht,Wt){Ht===void 0&&(Ht=1),Wt===void 0&&(Wt=0);var $t=0;if(isNaN(Et))return Wt;if(Et=parseFloat(Et),Math.floor(Et)!==Et){var Kt=Ht.toString().split(".")[1];$t=Kt?Kt.length:0}return $t?parseFloat(Et.toFixed($t)):Et},mt=function(Et){return"draggable"in document.createElement("i")&&(Et?Et.config.nativeDnD:!0)},bt=function(Et){if((0,g.isElement)(Et)||(0,w.BM)(Et))return Et;if(Et&&Et.getEl)return Et.getEl()},St=function(Et,Ht){var Wt=null;return Et.some(function($t,Kt){return Ht($t,Kt,Et)?(Wt=$t,1):0}),Wt},Ot=function(Et){return Et===void 0&&(Et=""),"".concat(Et).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},$=function(Et){return Et===void 0&&(Et=""),"".concat(Et).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Y=function(){for(var Et=[],Ht=0;Ht<arguments.length;Ht++)Et[Ht]=arguments[Ht];for(var Wt=_({},Et[0]),$t=1;$t<Et.length;$t++){var Kt=_({},Et[$t]);for(var qt in Kt){var ge=Wt[qt],be=Kt[qt];Z(ge)&&Z(be)?Wt[qt]=Y(ge,be):Wt[qt]=be}}return Wt},q=function(Et,Ht){var Wt=Et;return!Ht&&Et&&Et.__cashData?Wt=Et.__cashData.model:(0,g.isElement)(Et)&&(Wt=Ht(Et).data("model")),Wt},Z=function(Et){return Et&&!Array.isArray(Et)&&typeof Et=="object"},ht=function(Et){return Object.keys(Et).length<=0},J=function(Et){return Et===void 0&&(Et=""),Et&&Et.charAt(0).toUpperCase()+Et.substring(1)},xt=function(Et){return Et&&Et.toCSS},D=function(Et){return Et==null?void 0:Et.__gjsv},yt=function(Et){return!!(Et!=null&&Et.toHTML)},rt=function(Et){return D(Et)},et=function(Et){var Ht;return(Ht=rt(Et))===null||Ht===void 0?void 0:Ht.model},Mt=function(Et,Ht){Et.__gjsv=Ht},zt=function(Et){Et===void 0&&(Et=16);for(var Ht="",Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",$t=Wt.length,Kt=0;Kt<Et;Kt++)Ht+=Wt.charAt(Math.floor(Math.random()*$t));return Ht},Zt=function(Et){if(Et&&Et.substr(0,4)==="<svg"){var Ht="";return O()?Ht=window.btoa(Et):typeof Buffer<"u"&&(Ht=Buffer.from(Et,"utf8").toString("base64")),Ht?"data:image/svg+xml;base64,".concat(Ht):Et}return Et}},828:(i,s,f)=>{var g={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./DeleteComponent":517,"./DeleteComponent.ts":517,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function w(x){var S=_(x);return f(S)}function _(x){if(!f.o(g,x)){var S=new Error("Cannot find module '"+x+"'");throw S.code="MODULE_NOT_FOUND",S}return g[x]}w.keys=function(){return Object.keys(g)},w.resolve=_,i.exports=w,w.id=828},50:(i,s,f)=>{f.r(s),f.d(s,{VERSION:()=>w,after:()=>Ts,all:()=>fo,allKeys:()=>Tn,any:()=>Uo,assign:()=>Wr,before:()=>wl,bind:()=>Va,bindAll:()=>xu,chain:()=>zo,chunk:()=>na,clone:()=>ee,collect:()=>uo,compact:()=>xl,compose:()=>Ou,constant:()=>ie,contains:()=>Fn,countBy:()=>wr,create:()=>fn,debounce:()=>Wi,default:()=>oa,defaults:()=>Ho,defer:()=>yl,delay:()=>ao,detect:()=>Xi,difference:()=>Wo,drop:()=>Pr,each:()=>Ir,escape:()=>Qt,every:()=>fo,extend:()=>Nr,extendOwn:()=>Wr,filter:()=>co,find:()=>Xi,findIndex:()=>Ki,findKey:()=>Es,findLastIndex:()=>Gi,findWhere:()=>ri,first:()=>ta,flatten:()=>Sl,foldl:()=>Zi,foldr:()=>Ha,forEach:()=>Ir,functions:()=>ln,get:()=>Jn,groupBy:()=>Qi,has:()=>Bo,head:()=>ta,identity:()=>$r,include:()=>Fn,includes:()=>Fn,indexBy:()=>wi,indexOf:()=>Fa,initial:()=>ir,inject:()=>Zi,intersection:()=>bi,invert:()=>Dr,invoke:()=>oi,isArguments:()=>mn,isArray:()=>se,isArrayBuffer:()=>zt,isBoolean:()=>Z,isDataView:()=>be,isDate:()=>yt,isElement:()=>ht,isEmpty:()=>Fe,isEqual:()=>xe,isError:()=>et,isFinite:()=>an,isFunction:()=>Ht,isMap:()=>At,isMatch:()=>qe,isNaN:()=>en,isNull:()=>Y,isNumber:()=>D,isObject:()=>$,isRegExp:()=>rt,isSet:()=>pe,isString:()=>xt,isSymbol:()=>Mt,isTypedArray:()=>Vt,isUndefined:()=>q,isWeakMap:()=>Gt,isWeakSet:()=>je,iteratee:()=>Gr,keys:()=>Te,last:()=>Hn,lastIndexOf:()=>qi,map:()=>uo,mapObject:()=>mr,matcher:()=>Kr,matches:()=>Kr,max:()=>_l,memoize:()=>io,methods:()=>ln,min:()=>Tu,mixin:()=>Ci,negate:()=>Po,noop:()=>Qe,now:()=>V,object:()=>Lu,omit:()=>Pu,once:()=>Ra,pairs:()=>gr,partial:()=>Ui,partition:()=>qr,pick:()=>Ao,pluck:()=>Ji,property:()=>gi,propertyOf:()=>To,random:()=>Qn,range:()=>Ol,reduce:()=>Zi,reduceRight:()=>Ha,reject:()=>ko,rest:()=>Pr,restArguments:()=>Ot,result:()=>ml,sample:()=>$e,select:()=>co,shuffle:()=>Cl,size:()=>za,some:()=>Uo,sortBy:()=>Er,sortedIndex:()=>lo,tail:()=>Pr,take:()=>ta,tap:()=>So,template:()=>zi,templateSettings:()=>rn,throttle:()=>Su,times:()=>ni,toArray:()=>bl,toPath:()=>Na,transpose:()=>ii,unescape:()=>Be,union:()=>Au,uniq:()=>ea,unique:()=>ea,uniqueId:()=>xs,unzip:()=>ii,values:()=>Xe,where:()=>yi,without:()=>ku,wrap:()=>$i,zip:()=>Mu});var g={};f.r(g),f.d(g,{VERSION:()=>w,after:()=>Ts,all:()=>fo,allKeys:()=>Tn,any:()=>Uo,assign:()=>Wr,before:()=>wl,bind:()=>Va,bindAll:()=>xu,chain:()=>zo,chunk:()=>na,clone:()=>ee,collect:()=>uo,compact:()=>xl,compose:()=>Ou,constant:()=>ie,contains:()=>Fn,countBy:()=>wr,create:()=>fn,debounce:()=>Wi,default:()=>po,defaults:()=>Ho,defer:()=>yl,delay:()=>ao,detect:()=>Xi,difference:()=>Wo,drop:()=>Pr,each:()=>Ir,escape:()=>Qt,every:()=>fo,extend:()=>Nr,extendOwn:()=>Wr,filter:()=>co,find:()=>Xi,findIndex:()=>Ki,findKey:()=>Es,findLastIndex:()=>Gi,findWhere:()=>ri,first:()=>ta,flatten:()=>Sl,foldl:()=>Zi,foldr:()=>Ha,forEach:()=>Ir,functions:()=>ln,get:()=>Jn,groupBy:()=>Qi,has:()=>Bo,head:()=>ta,identity:()=>$r,include:()=>Fn,includes:()=>Fn,indexBy:()=>wi,indexOf:()=>Fa,initial:()=>ir,inject:()=>Zi,intersection:()=>bi,invert:()=>Dr,invoke:()=>oi,isArguments:()=>mn,isArray:()=>se,isArrayBuffer:()=>zt,isBoolean:()=>Z,isDataView:()=>be,isDate:()=>yt,isElement:()=>ht,isEmpty:()=>Fe,isEqual:()=>xe,isError:()=>et,isFinite:()=>an,isFunction:()=>Ht,isMap:()=>At,isMatch:()=>qe,isNaN:()=>en,isNull:()=>Y,isNumber:()=>D,isObject:()=>$,isRegExp:()=>rt,isSet:()=>pe,isString:()=>xt,isSymbol:()=>Mt,isTypedArray:()=>Vt,isUndefined:()=>q,isWeakMap:()=>Gt,isWeakSet:()=>je,iteratee:()=>Gr,keys:()=>Te,last:()=>Hn,lastIndexOf:()=>qi,map:()=>uo,mapObject:()=>mr,matcher:()=>Kr,matches:()=>Kr,max:()=>_l,memoize:()=>io,methods:()=>ln,min:()=>Tu,mixin:()=>Ci,negate:()=>Po,noop:()=>Qe,now:()=>V,object:()=>Lu,omit:()=>Pu,once:()=>Ra,pairs:()=>gr,partial:()=>Ui,partition:()=>qr,pick:()=>Ao,pluck:()=>Ji,property:()=>gi,propertyOf:()=>To,random:()=>Qn,range:()=>Ol,reduce:()=>Zi,reduceRight:()=>Ha,reject:()=>ko,rest:()=>Pr,restArguments:()=>Ot,result:()=>ml,sample:()=>$e,select:()=>co,shuffle:()=>Cl,size:()=>za,some:()=>Uo,sortBy:()=>Er,sortedIndex:()=>lo,tail:()=>Pr,take:()=>ta,tap:()=>So,template:()=>zi,templateSettings:()=>rn,throttle:()=>Su,times:()=>ni,toArray:()=>bl,toPath:()=>Na,transpose:()=>ii,unescape:()=>Be,union:()=>Au,uniq:()=>ea,unique:()=>ea,uniqueId:()=>xs,unzip:()=>ii,values:()=>Xe,where:()=>yi,without:()=>ku,wrap:()=>$i,zip:()=>Mu});var w="1.13.6",_=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},x=Array.prototype,S=Object.prototype,T=typeof Symbol<"u"?Symbol.prototype:null,O=x.push,A=x.slice,k=S.toString,L=S.hasOwnProperty,R=typeof ArrayBuffer<"u",z=typeof DataView<"u",ot=Array.isArray,dt=Object.keys,tt=Object.create,U=R&&ArrayBuffer.isView,K=isNaN,X=isFinite,mt=!{toString:null}.propertyIsEnumerable("toString"),bt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],St=Math.pow(2,53)-1;function Ot(I,W){return W=W==null?I.length-1:+W,function(){for(var pt=Math.max(arguments.length-W,0),wt=Array(pt),Nt=0;Nt<pt;Nt++)wt[Nt]=arguments[Nt+W];switch(W){case 0:return I.call(this,wt);case 1:return I.call(this,arguments[0],wt);case 2:return I.call(this,arguments[0],arguments[1],wt)}var kt=Array(W+1);for(Nt=0;Nt<W;Nt++)kt[Nt]=arguments[Nt];return kt[W]=wt,I.apply(this,kt)}}function $(I){var W=typeof I;return W==="function"||W==="object"&&!!I}function Y(I){return I===null}function q(I){return I===void 0}function Z(I){return I===!0||I===!1||k.call(I)==="[object Boolean]"}function ht(I){return!!(I&&I.nodeType===1)}function J(I){var W="[object "+I+"]";return function(pt){return k.call(pt)===W}}const xt=J("String"),D=J("Number"),yt=J("Date"),rt=J("RegExp"),et=J("Error"),Mt=J("Symbol"),zt=J("ArrayBuffer");var Zt=J("Function"),Et=_.document&&_.document.childNodes;typeof Int8Array!="object"&&typeof Et!="function"&&(Zt=function(I){return typeof I=="function"||!1});const Ht=Zt,Wt=J("Object");var $t=z&&Wt(new DataView(new ArrayBuffer(8))),Kt=typeof Map<"u"&&Wt(new Map),qt=J("DataView");function ge(I){return I!=null&&Ht(I.getInt8)&&zt(I.buffer)}const be=$t?ge:qt,se=ot||J("Array");function ve(I,W){return I!=null&&L.call(I,W)}var Ue=J("Arguments");(function(){Ue(arguments)||(Ue=function(I){return ve(I,"callee")})})();const mn=Ue;function an(I){return!Mt(I)&&X(I)&&!isNaN(parseFloat(I))}function en(I){return D(I)&&K(I)}function ie(I){return function(){return I}}function F(I){return function(W){var pt=I(W);return typeof pt=="number"&&pt>=0&&pt<=St}}function nt(I){return function(W){return W==null?void 0:W[I]}}const vt=nt("byteLength"),Lt=F(vt);var Ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function ct(I){return U?U(I)&&!be(I):Lt(I)&&Ft.test(k.call(I))}const Vt=R?ct:ie(!1),Pt=nt("length");function Ce(I){for(var W={},pt=I.length,wt=0;wt<pt;++wt)W[I[wt]]=!0;return{contains:function(Nt){return W[Nt]===!0},push:function(Nt){return W[Nt]=!0,I.push(Nt)}}}function Ae(I,W){W=Ce(W);var pt=bt.length,wt=I.constructor,Nt=Ht(wt)&&wt.prototype||S,kt="constructor";for(ve(I,kt)&&!W.contains(kt)&&W.push(kt);pt--;)kt=bt[pt],kt in I&&I[kt]!==Nt[kt]&&!W.contains(kt)&&W.push(kt)}function Te(I){if(!$(I))return[];if(dt)return dt(I);var W=[];for(var pt in I)ve(I,pt)&&W.push(pt);return mt&&Ae(I,W),W}function Fe(I){if(I==null)return!0;var W=Pt(I);return typeof W=="number"&&(se(I)||xt(I)||mn(I))?W===0:Pt(Te(I))===0}function qe(I,W){var pt=Te(W),wt=pt.length;if(I==null)return!wt;for(var Nt=Object(I),kt=0;kt<wt;kt++){var Yt=pt[kt];if(W[Yt]!==Nt[Yt]||!(Yt in Nt))return!1}return!0}function we(I){if(I instanceof we)return I;if(!(this instanceof we))return new we(I);this._wrapped=I}we.VERSION=w,we.prototype.value=function(){return this._wrapped},we.prototype.valueOf=we.prototype.toJSON=we.prototype.value,we.prototype.toString=function(){return String(this._wrapped)};function Vn(I){return new Uint8Array(I.buffer||I,I.byteOffset||0,vt(I))}var nn="[object DataView]";function Ze(I,W,pt,wt){if(I===W)return I!==0||1/I===1/W;if(I==null||W==null)return!1;if(I!==I)return W!==W;var Nt=typeof I;return Nt!=="function"&&Nt!=="object"&&typeof W!="object"?!1:Zn(I,W,pt,wt)}function Zn(I,W,pt,wt){I instanceof we&&(I=I._wrapped),W instanceof we&&(W=W._wrapped);var Nt=k.call(I);if(Nt!==k.call(W))return!1;if($t&&Nt=="[object Object]"&&be(I)){if(!be(W))return!1;Nt=nn}switch(Nt){case"[object RegExp]":case"[object String]":return""+I==""+W;case"[object Number]":return+I!=+I?+W!=+W:+I==0?1/+I===1/W:+I==+W;case"[object Date]":case"[object Boolean]":return+I==+W;case"[object Symbol]":return T.valueOf.call(I)===T.valueOf.call(W);case"[object ArrayBuffer]":case nn:return Zn(Vn(I),Vn(W),pt,wt)}var kt=Nt==="[object Array]";if(!kt&&Vt(I)){var Yt=vt(I);if(Yt!==vt(W))return!1;if(I.buffer===W.buffer&&I.byteOffset===W.byteOffset)return!0;kt=!0}if(!kt){if(typeof I!="object"||typeof W!="object")return!1;var fe=I.constructor,Ve=W.constructor;if(fe!==Ve&&!(Ht(fe)&&fe instanceof fe&&Ht(Ve)&&Ve instanceof Ve)&&"constructor"in I&&"constructor"in W)return!1}pt=pt||[],wt=wt||[];for(var Me=pt.length;Me--;)if(pt[Me]===I)return wt[Me]===W;if(pt.push(I),wt.push(W),kt){if(Me=I.length,Me!==W.length)return!1;for(;Me--;)if(!Ze(I[Me],W[Me],pt,wt))return!1}else{var gn=Te(I),cr;if(Me=gn.length,Te(W).length!==Me)return!1;for(;Me--;)if(cr=gn[Me],!(ve(W,cr)&&Ze(I[cr],W[cr],pt,wt)))return!1}return pt.pop(),wt.pop(),!0}function xe(I,W){return Ze(I,W)}function Tn(I){if(!$(I))return[];var W=[];for(var pt in I)W.push(pt);return mt&&Ae(I,W),W}function Le(I){var W=Pt(I);return function(pt){if(pt==null)return!1;var wt=Tn(pt);if(Pt(wt))return!1;for(var Nt=0;Nt<W;Nt++)if(!Ht(pt[I[Nt]]))return!1;return I!==Q||!Ht(pt[sn])}}var sn="forEach",hn="has",or=["clear","delete"],En=["get",hn,"set"],ro=or.concat(sn,En),Q=or.concat(En),_t=["add"].concat(or,sn,hn);const At=Kt?Le(ro):J("Map"),Gt=Kt?Le(Q):J("WeakMap"),pe=Kt?Le(_t):J("Set"),je=J("WeakSet");function Xe(I){for(var W=Te(I),pt=W.length,wt=Array(pt),Nt=0;Nt<pt;Nt++)wt[Nt]=I[W[Nt]];return wt}function gr(I){for(var W=Te(I),pt=W.length,wt=Array(pt),Nt=0;Nt<pt;Nt++)wt[Nt]=[W[Nt],I[W[Nt]]];return wt}function Dr(I){for(var W={},pt=Te(I),wt=0,Nt=pt.length;wt<Nt;wt++)W[I[pt[wt]]]=pt[wt];return W}function ln(I){var W=[];for(var pt in I)Ht(I[pt])&&W.push(pt);return W.sort()}function Bi(I,W){return function(pt){var wt=arguments.length;if(W&&(pt=Object(pt)),wt<2||pt==null)return pt;for(var Nt=1;Nt<wt;Nt++)for(var kt=arguments[Nt],Yt=I(kt),fe=Yt.length,Ve=0;Ve<fe;Ve++){var Me=Yt[Ve];(!W||pt[Me]===void 0)&&(pt[Me]=kt[Me])}return pt}}const Nr=Bi(Tn),Wr=Bi(Te),Ho=Bi(Tn,!0);function Rn(){return function(){}}function Tr(I){if(!$(I))return{};if(tt)return tt(I);var W=Rn();W.prototype=I;var pt=new W;return W.prototype=null,pt}function fn(I,W){var pt=Tr(I);return W&&Wr(pt,W),pt}function ee(I){return $(I)?se(I)?I.slice():Nr({},I):I}function So(I,W){return W(I),I}function Na(I){return se(I)?I:[I]}we.toPath=Na;function oo(I){return we.toPath(I)}function Oo(I,W){for(var pt=W.length,wt=0;wt<pt;wt++){if(I==null)return;I=I[W[wt]]}return pt?I:void 0}function Jn(I,W,pt){var wt=Oo(I,oo(W));return q(wt)?pt:wt}function Bo(I,W){W=oo(W);for(var pt=W.length,wt=0;wt<pt;wt++){var Nt=W[wt];if(!ve(I,Nt))return!1;I=I[Nt]}return!!pt}function $r(I){return I}function Kr(I){return I=Wr({},I),function(W){return qe(W,I)}}function gi(I){return I=oo(I),function(W){return Oo(W,I)}}function un(I,W,pt){if(W===void 0)return I;switch(pt??3){case 1:return function(wt){return I.call(W,wt)};case 3:return function(wt,Nt,kt){return I.call(W,wt,Nt,kt)};case 4:return function(wt,Nt,kt,Yt){return I.call(W,wt,Nt,kt,Yt)}}return function(){return I.apply(W,arguments)}}function _e(I,W,pt){return I==null?$r:Ht(I)?un(I,W,pt):$(I)&&!se(I)?Kr(I):gi(I)}function Gr(I,W){return _e(I,W,1/0)}we.iteratee=Gr;function Pn(I,W,pt){return we.iteratee!==Gr?we.iteratee(I,W):_e(I,W,pt)}function mr(I,W,pt){W=Pn(W,pt);for(var wt=Te(I),Nt=wt.length,kt={},Yt=0;Yt<Nt;Yt++){var fe=wt[Yt];kt[fe]=W(I[fe],fe,I)}return kt}function Qe(){}function To(I){return I==null?Qe:function(W){return Jn(I,W)}}function ni(I,W,pt){var wt=Array(Math.max(0,I));W=un(W,pt,1);for(var Nt=0;Nt<I;Nt++)wt[Nt]=W(Nt);return wt}function Qn(I,W){return W==null&&(W=I,I=0),I+Math.floor(Math.random()*(W-I+1))}const V=Date.now||function(){return new Date().getTime()};function it(I){var W=function(kt){return I[kt]},pt="(?:"+Te(I).join("|")+")",wt=RegExp(pt),Nt=RegExp(pt,"g");return function(kt){return kt=kt==null?"":""+kt,wt.test(kt)?kt.replace(Nt,W):kt}}const Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Qt=it(Ut),Ne=Dr(Ut),Be=it(Ne),rn=we.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Se=/(.)^/,Yr={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},bs=/\\|'|\r|\n|\u2028|\u2029/g;function Cs(I){return"\\"+Yr[I]}var Eo=/^\s*(\w|\$)+\s*$/;function zi(I,W,pt){!W&&pt&&(W=pt),W=Ho({},W,we.templateSettings);var wt=RegExp([(W.escape||Se).source,(W.interpolate||Se).source,(W.evaluate||Se).source].join("|")+"|$","g"),Nt=0,kt="__p+='";I.replace(wt,function(Me,gn,cr,Tl,Ua){return kt+=I.slice(Nt,Ua).replace(bs,Cs),Nt=Ua+Me.length,gn?kt+=`'+
((__t=(`+gn+`))==null?'':_.escape(__t))+
'`:cr?kt+=`'+
((__t=(`+cr+`))==null?'':__t)+
'`:Tl&&(kt+=`';
`+Tl+`
__p+='`),Me}),kt+=`';
`;var Yt=W.variable;if(Yt){if(!Eo.test(Yt))throw new Error("variable is not a bare identifier: "+Yt)}else kt=`with(obj||{}){
`+kt+`}
`,Yt="obj";kt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+kt+`return __p;
`;var fe;try{fe=new Function(Yt,"_",kt)}catch(Me){throw Me.source=kt,Me}var Ve=function(Me){return fe.call(this,Me,we)};return Ve.source="function("+Yt+`){
`+kt+"}",Ve}function ml(I,W,pt){W=oo(W);var wt=W.length;if(!wt)return Ht(pt)?pt.call(I):pt;for(var Nt=0;Nt<wt;Nt++){var kt=I==null?void 0:I[W[Nt]];kt===void 0&&(kt=pt,Nt=wt),I=Ht(kt)?kt.call(I):kt}return I}var Ia=0;function xs(I){var W=++Ia+"";return I?I+W:W}function zo(I){var W=we(I);return W._chain=!0,W}function Ss(I,W,pt,wt,Nt){if(!(wt instanceof W))return I.apply(pt,Nt);var kt=Tr(I.prototype),Yt=I.apply(kt,Nt);return $(Yt)?Yt:kt}var Os=Ot(function(I,W){var pt=Os.placeholder,wt=function(){for(var Nt=0,kt=W.length,Yt=Array(kt),fe=0;fe<kt;fe++)Yt[fe]=W[fe]===pt?arguments[Nt++]:W[fe];for(;Nt<arguments.length;)Yt.push(arguments[Nt++]);return Ss(I,wt,this,this,Yt)};return wt});Os.placeholder=we;const Ui=Os,Va=Ot(function(I,W,pt){if(!Ht(I))throw new TypeError("Bind must be called on a function");var wt=Ot(function(Nt){return Ss(I,wt,W,this,pt.concat(Nt))});return wt}),yr=F(Pt);function mi(I,W,pt,wt){if(wt=wt||[],!W&&W!==0)W=1/0;else if(W<=0)return wt.concat(I);for(var Nt=wt.length,kt=0,Yt=Pt(I);kt<Yt;kt++){var fe=I[kt];if(yr(fe)&&(se(fe)||mn(fe)))if(W>1)mi(fe,W-1,pt,wt),Nt=wt.length;else for(var Ve=0,Me=fe.length;Ve<Me;)wt[Nt++]=fe[Ve++];else pt||(wt[Nt++]=fe)}return wt}const xu=Ot(function(I,W){W=mi(W,!1,!1);var pt=W.length;if(pt<1)throw new Error("bindAll must be passed function names");for(;pt--;){var wt=W[pt];I[wt]=Va(I[wt],I)}return I});function io(I,W){var pt=function(wt){var Nt=pt.cache,kt=""+(W?W.apply(this,arguments):wt);return ve(Nt,kt)||(Nt[kt]=I.apply(this,arguments)),Nt[kt]};return pt.cache={},pt}const ao=Ot(function(I,W,pt){return setTimeout(function(){return I.apply(null,pt)},W)}),yl=Ui(ao,we,1);function Su(I,W,pt){var wt,Nt,kt,Yt,fe=0;pt||(pt={});var Ve=function(){fe=pt.leading===!1?0:V(),wt=null,Yt=I.apply(Nt,kt),wt||(Nt=kt=null)},Me=function(){var gn=V();!fe&&pt.leading===!1&&(fe=gn);var cr=W-(gn-fe);return Nt=this,kt=arguments,cr<=0||cr>W?(wt&&(clearTimeout(wt),wt=null),fe=gn,Yt=I.apply(Nt,kt),wt||(Nt=kt=null)):!wt&&pt.trailing!==!1&&(wt=setTimeout(Ve,cr)),Yt};return Me.cancel=function(){clearTimeout(wt),fe=0,wt=Nt=kt=null},Me}function Wi(I,W,pt){var wt,Nt,kt,Yt,fe,Ve=function(){var gn=V()-Nt;W>gn?wt=setTimeout(Ve,W-gn):(wt=null,pt||(Yt=I.apply(fe,kt)),wt||(kt=fe=null))},Me=Ot(function(gn){return fe=this,kt=gn,Nt=V(),wt||(wt=setTimeout(Ve,W),pt&&(Yt=I.apply(fe,kt))),Yt});return Me.cancel=function(){clearTimeout(wt),wt=kt=fe=null},Me}function $i(I,W){return Ui(W,I)}function Po(I){return function(){return!I.apply(this,arguments)}}function Ou(){var I=arguments,W=I.length-1;return function(){for(var pt=W,wt=I[W].apply(this,arguments);pt--;)wt=I[pt].call(this,wt);return wt}}function Ts(I,W){return function(){if(--I<1)return W.apply(this,arguments)}}function wl(I,W){var pt;return function(){return--I>0&&(pt=W.apply(this,arguments)),I<=1&&(W=null),pt}}const Ra=Ui(wl,2);function Es(I,W,pt){W=Pn(W,pt);for(var wt=Te(I),Nt,kt=0,Yt=wt.length;kt<Yt;kt++)if(Nt=wt[kt],W(I[Nt],Nt,I))return Nt}function so(I){return function(W,pt,wt){pt=Pn(pt,wt);for(var Nt=Pt(W),kt=I>0?0:Nt-1;kt>=0&&kt<Nt;kt+=I)if(pt(W[kt],kt,W))return kt;return-1}}const Ki=so(1),Gi=so(-1);function lo(I,W,pt,wt){pt=Pn(pt,wt,1);for(var Nt=pt(W),kt=0,Yt=Pt(I);kt<Yt;){var fe=Math.floor((kt+Yt)/2);pt(I[fe])<Nt?kt=fe+1:Yt=fe}return kt}function Yi(I,W,pt){return function(wt,Nt,kt){var Yt=0,fe=Pt(wt);if(typeof kt=="number")I>0?Yt=kt>=0?kt:Math.max(kt+fe,Yt):fe=kt>=0?Math.min(kt+1,fe):kt+fe+1;else if(pt&&kt&&fe)return kt=pt(wt,Nt),wt[kt]===Nt?kt:-1;if(Nt!==Nt)return kt=W(A.call(wt,Yt,fe),en),kt>=0?kt+Yt:-1;for(kt=I>0?Yt:fe-1;kt>=0&&kt<fe;kt+=I)if(wt[kt]===Nt)return kt;return-1}}const Fa=Yi(1,Ki,lo),qi=Yi(-1,Gi);function Xi(I,W,pt){var wt=yr(I)?Ki:Es,Nt=wt(I,W,pt);if(Nt!==void 0&&Nt!==-1)return I[Nt]}function ri(I,W){return Xi(I,Kr(W))}function Ir(I,W,pt){W=un(W,pt);var wt,Nt;if(yr(I))for(wt=0,Nt=I.length;wt<Nt;wt++)W(I[wt],wt,I);else{var kt=Te(I);for(wt=0,Nt=kt.length;wt<Nt;wt++)W(I[kt[wt]],kt[wt],I)}return I}function uo(I,W,pt){W=Pn(W,pt);for(var wt=!yr(I)&&Te(I),Nt=(wt||I).length,kt=Array(Nt),Yt=0;Yt<Nt;Yt++){var fe=wt?wt[Yt]:Yt;kt[Yt]=W(I[fe],fe,I)}return kt}function wn(I){var W=function(pt,wt,Nt,kt){var Yt=!yr(pt)&&Te(pt),fe=(Yt||pt).length,Ve=I>0?0:fe-1;for(kt||(Nt=pt[Yt?Yt[Ve]:Ve],Ve+=I);Ve>=0&&Ve<fe;Ve+=I){var Me=Yt?Yt[Ve]:Ve;Nt=wt(Nt,pt[Me],Me,pt)}return Nt};return function(pt,wt,Nt,kt){var Yt=arguments.length>=3;return W(pt,un(wt,kt,4),Nt,Yt)}}const Zi=wn(1),Ha=wn(-1);function co(I,W,pt){var wt=[];return W=Pn(W,pt),Ir(I,function(Nt,kt,Yt){W(Nt,kt,Yt)&&wt.push(Nt)}),wt}function ko(I,W,pt){return co(I,Po(Pn(W)),pt)}function fo(I,W,pt){W=Pn(W,pt);for(var wt=!yr(I)&&Te(I),Nt=(wt||I).length,kt=0;kt<Nt;kt++){var Yt=wt?wt[kt]:kt;if(!W(I[Yt],Yt,I))return!1}return!0}function Uo(I,W,pt){W=Pn(W,pt);for(var wt=!yr(I)&&Te(I),Nt=(wt||I).length,kt=0;kt<Nt;kt++){var Yt=wt?wt[kt]:kt;if(W(I[Yt],Yt,I))return!0}return!1}function Fn(I,W,pt,wt){return yr(I)||(I=Xe(I)),(typeof pt!="number"||wt)&&(pt=0),Fa(I,W,pt)>=0}const oi=Ot(function(I,W,pt){var wt,Nt;return Ht(W)?Nt=W:(W=oo(W),wt=W.slice(0,-1),W=W[W.length-1]),uo(I,function(kt){var Yt=Nt;if(!Yt){if(wt&&wt.length&&(kt=Oo(kt,wt)),kt==null)return;Yt=kt[W]}return Yt==null?Yt:Yt.apply(kt,pt)})});function Ji(I,W){return uo(I,gi(W))}function yi(I,W){return co(I,Kr(W))}function _l(I,W,pt){var wt=-1/0,Nt=-1/0,kt,Yt;if(W==null||typeof W=="number"&&typeof I[0]!="object"&&I!=null){I=yr(I)?I:Xe(I);for(var fe=0,Ve=I.length;fe<Ve;fe++)kt=I[fe],kt!=null&&kt>wt&&(wt=kt)}else W=Pn(W,pt),Ir(I,function(Me,gn,cr){Yt=W(Me,gn,cr),(Yt>Nt||Yt===-1/0&&wt===-1/0)&&(wt=Me,Nt=Yt)});return wt}function Tu(I,W,pt){var wt=1/0,Nt=1/0,kt,Yt;if(W==null||typeof W=="number"&&typeof I[0]!="object"&&I!=null){I=yr(I)?I:Xe(I);for(var fe=0,Ve=I.length;fe<Ve;fe++)kt=I[fe],kt!=null&&kt<wt&&(wt=kt)}else W=Pn(W,pt),Ir(I,function(Me,gn,cr){Yt=W(Me,gn,cr),(Yt<Nt||Yt===1/0&&wt===1/0)&&(wt=Me,Nt=Yt)});return wt}var Eu=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function bl(I){return I?se(I)?A.call(I):xt(I)?I.match(Eu):yr(I)?uo(I,$r):Xe(I):[]}function $e(I,W,pt){if(W==null||pt)return yr(I)||(I=Xe(I)),I[Qn(I.length-1)];var wt=bl(I),Nt=Pt(wt);W=Math.max(Math.min(W,Nt),0);for(var kt=Nt-1,Yt=0;Yt<W;Yt++){var fe=Qn(Yt,kt),Ve=wt[Yt];wt[Yt]=wt[fe],wt[fe]=Ve}return wt.slice(0,W)}function Cl(I){return $e(I,1/0)}function Er(I,W,pt){var wt=0;return W=Pn(W,pt),Ji(uo(I,function(Nt,kt,Yt){return{value:Nt,index:wt++,criteria:W(Nt,kt,Yt)}}).sort(function(Nt,kt){var Yt=Nt.criteria,fe=kt.criteria;if(Yt!==fe){if(Yt>fe||Yt===void 0)return 1;if(Yt<fe||fe===void 0)return-1}return Nt.index-kt.index}),"value")}function Ba(I,W){return function(pt,wt,Nt){var kt=W?[[],[]]:{};return wt=Pn(wt,Nt),Ir(pt,function(Yt,fe){var Ve=wt(Yt,fe,pt);I(kt,Yt,Ve)}),kt}}const Qi=Ba(function(I,W,pt){ve(I,pt)?I[pt].push(W):I[pt]=[W]}),wi=Ba(function(I,W,pt){I[pt]=W}),wr=Ba(function(I,W,pt){ve(I,pt)?I[pt]++:I[pt]=1}),qr=Ba(function(I,W,pt){I[pt?0:1].push(W)},!0);function za(I){return I==null?0:yr(I)?I.length:Te(I).length}function _i(I,W,pt){return W in pt}const Ao=Ot(function(I,W){var pt={},wt=W[0];if(I==null)return pt;Ht(wt)?(W.length>1&&(wt=un(wt,W[1])),W=Tn(I)):(wt=_i,W=mi(W,!1,!1),I=Object(I));for(var Nt=0,kt=W.length;Nt<kt;Nt++){var Yt=W[Nt],fe=I[Yt];wt(fe,Yt,I)&&(pt[Yt]=fe)}return pt}),Pu=Ot(function(I,W){var pt=W[0],wt;return Ht(pt)?(pt=Po(pt),W.length>1&&(wt=W[1])):(W=uo(mi(W,!1,!1),String),pt=function(Nt,kt){return!Fn(W,kt)}),Ao(I,pt,wt)});function ir(I,W,pt){return A.call(I,0,Math.max(0,I.length-(W==null||pt?1:W)))}function ta(I,W,pt){return I==null||I.length<1?W==null||pt?void 0:[]:W==null||pt?I[0]:ir(I,I.length-W)}function Pr(I,W,pt){return A.call(I,W==null||pt?1:W)}function Hn(I,W,pt){return I==null||I.length<1?W==null||pt?void 0:[]:W==null||pt?I[I.length-1]:Pr(I,Math.max(0,I.length-W))}function xl(I){return co(I,Boolean)}function Sl(I,W){return mi(I,W,!1)}const Wo=Ot(function(I,W){return W=mi(W,!0,!0),co(I,function(pt){return!Fn(W,pt)})}),ku=Ot(function(I,W){return Wo(I,W)});function ea(I,W,pt,wt){Z(W)||(wt=pt,pt=W,W=!1),pt!=null&&(pt=Pn(pt,wt));for(var Nt=[],kt=[],Yt=0,fe=Pt(I);Yt<fe;Yt++){var Ve=I[Yt],Me=pt?pt(Ve,Yt,I):Ve;W&&!pt?((!Yt||kt!==Me)&&Nt.push(Ve),kt=Me):pt?Fn(kt,Me)||(kt.push(Me),Nt.push(Ve)):Fn(Nt,Ve)||Nt.push(Ve)}return Nt}const Au=Ot(function(I){return ea(mi(I,!0,!0))});function bi(I){for(var W=[],pt=arguments.length,wt=0,Nt=Pt(I);wt<Nt;wt++){var kt=I[wt];if(!Fn(W,kt)){var Yt;for(Yt=1;Yt<pt&&Fn(arguments[Yt],kt);Yt++);Yt===pt&&W.push(kt)}}return W}function ii(I){for(var W=I&&_l(I,Pt).length||0,pt=Array(W),wt=0;wt<W;wt++)pt[wt]=Ji(I,wt);return pt}const Mu=Ot(ii);function Lu(I,W){for(var pt={},wt=0,Nt=Pt(I);wt<Nt;wt++)W?pt[I[wt]]=W[wt]:pt[I[wt][0]]=I[wt][1];return pt}function Ol(I,W,pt){W==null&&(W=I||0,I=0),pt||(pt=W<I?-1:1);for(var wt=Math.max(Math.ceil((W-I)/pt),0),Nt=Array(wt),kt=0;kt<wt;kt++,I+=pt)Nt[kt]=I;return Nt}function na(I,W){if(W==null||W<1)return[];for(var pt=[],wt=0,Nt=I.length;wt<Nt;)pt.push(A.call(I,wt,wt+=W));return pt}function Ps(I,W){return I._chain?we(W).chain():W}function Ci(I){return Ir(ln(I),function(W){var pt=we[W]=I[W];we.prototype[W]=function(){var wt=[this._wrapped];return O.apply(wt,arguments),Ps(this,pt.apply(we,wt))}}),we}Ir(["pop","push","reverse","shift","sort","splice","unshift"],function(I){var W=x[I];we.prototype[I]=function(){var pt=this._wrapped;return pt!=null&&(W.apply(pt,arguments),(I==="shift"||I==="splice")&&pt.length===0&&delete pt[0]),Ps(this,pt)}}),Ir(["concat","join","slice"],function(I){var W=x[I];we.prototype[I]=function(){var pt=this._wrapped;return pt!=null&&(pt=W.apply(pt,arguments)),Ps(this,pt)}});const po=we;var ra=Ci(g);ra._=ra;const oa=ra}},b1={};function bn(i){var s=b1[i];if(s!==void 0)return s.exports;var f=b1[i]={exports:{}};return oA[i].call(f.exports,f,f.exports,bn),f.exports}bn.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return bn.d(s,{a:s}),s};bn.d=(i,s)=>{for(var f in s)bn.o(s,f)&&!bn.o(i,f)&&Object.defineProperty(i,f,{enumerable:!0,get:s[f]})};bn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();bn.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s);bn.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var NC={};(()=>{bn.d(NC,{ZP:()=>QE,kr:()=>qw,j7:()=>Yw});var i=bn(50),s=bn(163);function f(l){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=l.raw;return e.reduce(function(n,o,c){var h=r[c-1],m=e[c-1];return Array.isArray(h)?h=h.join(""):m&&m.slice(-1)==="$"?n=n.slice(0,-1):h=(0,s.escape)(h),n+h+o})}var g={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const w=g;var _=bn(316),x=bn.n(_),S=bn(895);const T=function(l){var r=l.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var t=r.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,c){return this.on(o,c)},t.unbind=function(o,c){if((0,i.isObject)(o)){for(var h in o)o.hasOwnProperty(h)&&this.off(h,o[h]);return this}else return this.off(o,c)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,c,h,m){return m||(m=h),this.on(c,o,function(y){y.data=h,m(y)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var c=o instanceof Window?o:null;return c?c.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var c=o instanceof Window?o:null;return c?c.pageYOffset:o.scrollTop||0};var e=r.prototype.offset;t.offset=function(o){var c,h;return o&&(c=o.top,h=o.left),typeof c<"u"&&this.css("top","".concat(c,"px")),typeof h<"u"&&this.css("left","".concat(h,"px")),e.call(this)},r.map=function(o,c){for(var h=[],m=0;m<o.length;m++)h.push(c(o[m],m));return h};var n=Array.prototype.indexOf;r.inArray=function(o,c,h){return c==null?-1:n.call(c,o,h)},r.Event=function(o,c){if(!(this instanceof r.Event))return new r.Event(o,c);this.type=o,this.isDefaultPrevented=function(){return!1}}}};var O=bn(346),A=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),k=function(l){A(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(O.Hn),L=function(l){A(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.getByComponent=function(t){var e=this;return this.filter(function(n){return e.getComponent(n)===t})[0]},r.prototype.addComponent=function(t,e){var n=this,o=((0,i.isArray)(t)?t:[t]).filter(function(c){return!n.hasComponent(c)}).map(function(c){return new k({component:c})})[0];return this.push(o,e)},r.prototype.getComponent=function(t){return t.get("component")},r.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},r.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},r.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},r.prototype.removeComponent=function(t,e){var n=this,o=((0,i.isArray)(t)?t:[t]).map(function(c){return n.getByComponent(c)});return this.remove(o,e)},r}(O.FE);const R=L;var z=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ot=function(){return ot=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ot.apply(this,arguments)},dt=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},tt=function(){function l(r,t,e){this.cls=[],this._em=r,this._name=t;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,i.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],c=o===!0?{}:o||{};c.pStylePrefix=r.config.pStylePrefix||"",!(0,i.isUndefined)(o)&&!o&&(c._disable=1),c.em=r,this._config=(0,s.deepMerge)(e||{},c)}return Object.defineProperty(l.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),l.prototype.render=function(r){},l.prototype.postLoad=function(r){},Object.defineProperty(l.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),l.prototype.getConfig=function(r){return r?this.config[r]:this.config},l.prototype.__logWarn=function(r,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),t)},l.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var t=(0,i.isElement)(r)?r:document.querySelector(r);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},l}();const U=tt;var K=function(l){z(r,l);function r(t,e,n,o,c,h){h===void 0&&(h={});var m=l.call(this,t,e,c)||this;return m.cls=[],m.private=!1,m.all=n,m.events=o,!h.skipListen&&m.__initListen(),m}return r.prototype.postLoad=function(t){},r.prototype.render=function(t){},r.prototype.getProjectData=function(t){var e={},n=this.storageKey;return n&&(e[n]=t||this.getAll()),e},r.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.all,o=e.onResult,c=e.reset,h=this.storageKey,m={action:"load"},y=n||this.all,C=t[h];if(typeof C=="string")try{C=JSON.parse(C)}catch{this.__logWarn("Data parsing failed",{input:C})}return c&&C&&y.reset(void 0,m),o?C&&o(C,m):C&&(0,s.isDef)(C.length)&&y.reset(C,m),C},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},r.prototype.getAll=function(){return dt([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},r.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,n=e.all,o=e.em,c=e.events;n&&o&&n.on("add",function(h,m,y){return o.trigger(c.add,h,y)}).on("remove",function(h,m,y){return o.trigger(c.remove,h,y)}).on("change",function(h,m){return o.trigger(c.update,h,h.changedAttributes(),m)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(t.collections||[]),(t.propagate||[]).forEach(function(h){var m=h.entity,y=h.event;m.on("all",function(C,P,N,B){var G=B||N,ut=ot({event:C},G);[o,n].map(function(ft){return ft.trigger(y,P,ut)})})})},r.prototype.__remove=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=(0,i.isString)(t)?this.get(t):t,h=function(){return c&&n.all.remove(c,e),c};return!e.silent&&(o==null||o.trigger(this.events.removeBefore,c,h,e)),!e.abort&&h()},r.prototype.__catchAllEvent=function(t,e,n,o){var c=this,h=c.em,m=c.events,y=o||n;h&&m.all&&h.trigger(m.all,{event:t,model:e,options:y}),this.__onAllEvent()},r.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var n=(0,i.isElement)(e)?e:document.querySelector(e);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(t))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),n=e.length+t,o=this.getAllMap(),c;do c=(0,s.createId)(n);while(o[c]);return c},r.prototype.__listenAdd=function(t,e){var n=this;t.on("add",function(o,c,h){return n.em.trigger(e,o,h)})},r.prototype.__listenRemove=function(t,e){var n=this;t.on("remove",function(o,c,h){return n.em.trigger(e,o,h)})},r.prototype.__listenUpdate=function(t,e){var n=this;t.on("change",function(o,c){return n.em.trigger(e,o,o.changedAttributes(),c)})},r.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},r}(tt),X={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const mt=X;var bt=bn(642),St={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const Ot=St;var $=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Y=function(l){$(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(n){return t.checkUnit(n)})},r.prototype.checkUnit=function(t){var e=this.get(t)||"",n=(parseFloat(e)||0).toString()===e.toString();n&&this.set(t,"".concat(e,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(O.Hn);const q=Y;var Z=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ht=function(l){Z(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(O.FE);const J=ht;ht.prototype.model=q;var xt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),D=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},yt=function(l){xt(r,l);function r(t){var e=l.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return r.prototype.template=function(t){var e=t.ppfx,n=t.label;return f(et||(et=D([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,n,e,e,e,e,e,e,e)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},r.prototype.updateSelect=function(){var t=this,e=t.em,n=t.devicesEl;if(e&&e.getDeviceModel&&n){var o=e.getDeviceModel();n.val(o?o.get("id"):"")}},r.prototype.getOptions=function(){var t=this,e=t.collection,n=t.em,o="";return e.forEach(function(c){var h=c.attributes,m=h.name,y=h.id,C=n&&n.t&&n.t("deviceManager.devices.".concat(y))||m;o+='<option value="'.concat(y||m,'">').concat(C,"</option>")}),o},r.prototype.render=function(){var t=this,e=t.em,n=t.ppfx,o=t.$el,c=t.el,h=e&&e.t&&e.t("deviceManager.device");return o.html(this.template({ppfx:n,label:h})),this.devicesEl=o.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),c.className="".concat(n,"devices-c"),this},r}(O.G7);const rt=yt;var et,Mt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zt=function(){return zt=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},zt.apply(this,arguments)},Zt="device",Et="".concat(Zt,":"),Ht="".concat(Et,"select"),Wt="".concat(Et,"update"),$t="".concat(Et,"add"),Kt="".concat(Et,"remove"),qt="".concat(Kt,":before"),ge="change:device",be={all:Zt,select:Ht,update:Wt,add:$t,remove:Kt,removeBefore:qt},se=function(l){Mt(r,l);function r(t){var e,n=l.call(this,t,"DeviceManager",new J,be,Ot)||this;return n.Device=q,n.Devices=J,n.storageKey="",n.devices=n.all,(e=n.config.devices)===null||e===void 0||e.forEach(function(o){return n.add(o,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),t.on(ge,n._onSelect,n),n}return r.prototype._onSelect=function(t,e,n){var o=this,c=o.em,h=o.events,m=t.previous("device"),y=this.get(e),C=h.select;c.trigger(C,y,this.get(m)),this.__catchAllEvent(C,y,n)},r.prototype.add=function(t,e){e===void 0&&(e={});var n,o=e;if((0,i.isString)(t)){var c=e;o=arguments[2]||{},n=zt(zt({},o),{id:t,name:o.name||t,width:c})}else n=t;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,o)},r.prototype.get=function(t){var e=this.getAll().filter(function(n){return n.get("name")===t})[0];return e||this.devices.get(t)||null},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,i.isString)(t)?this.get(t):t;return n&&this.em.set("device",n.get("id"),e),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new rt({collection:this.devices,config:zt({em:e},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(K);const ve=se;var Ue=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mn=function(l){Ue(r,l);function r(t,e,n){return l.call(this,e,{module:t,modelConstructor:n})||this}return r.prototype.add=function(t,e){var n=this,o,c=(0,i.isArray)(t)?t:(0,i.isUndefined)(t)?void 0:[t];return c=(o=c==null?void 0:c.map(function(h){return h instanceof n.newModel?h:new n.newModel(n.module,h)}))!==null&&o!==void 0?o:[void 0],l.prototype.add.call(this,(0,i.isArray)(t)?c:c[0],e)},r.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},r}(O.FE);const an=mn;var en=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ie=function(){return ie=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ie.apply(this,arguments)},F=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},nt="__aw",vt="__ah",Lt=function(l,r){var t,e=l.get(r),n=(t=l.view)===null||t===void 0?void 0:t.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,i.isNumber)(e)?e:(0,i.isString)(e)&&e.endsWith("px")?parseFloat(e):n||0},Ft=function(l){en(r,l);function r(t,e){var n=l.call(this,t,e)||this,o=n.em,c=n.attributes,h=c.styles,m=c.component,y=o.Components,C=y.getConfig(),P=o.Css.getAll(),N={},B={em:o,config:C,frame:n,idMap:N};if(!(0,s.isComponent)(m)){var G=(0,s.isObject)(m)?m:{components:m};!G.type&&(G.type="wrapper");var ut=y.getType("wrapper").model;n.set("component",new ut(G,B))}if(!h)n.set("styles",P);else if(!(0,s.isObject)(h)){var ft=Object.keys(N);ft.length&&Array.isArray(h)&&h.forEach(function(Ct){var Rt=Ct.selectors;if(Rt&&Rt.length==1){var It=Rt[0],ne=It.name&&It.type===2&&It;if(ne&&N[ne.name])ne.name=N[ne.name];else if((0,i.isString)(It)&&It[0]==="#"){var de=It.substring(1);de&&N[de]&&(Rt[0]="#".concat(N[de]))}}}),P.add(h),n.set("styles",P)}return!e.width&&n.set(nt,1),!e.height&&n.set(vt,1),!n.id&&n.set("id",(0,s.createId)()),n}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return Lt(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Lt(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var t=this.refFrame;if((0,i.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},r.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,n=t.y,o=this,c=o.width,h=o.height;return{x:e,y:n,width:c,height:h}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},r.prototype.getHead=function(){return F([],this.head,!0)},r.prototype.setHead=function(t){return this.set("head",F([],t,!0))},r.prototype.addHeadItem=function(t){this.head.push(t)},r.prototype.getHeadByAttr=function(t,e,n){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==e&&(!n||n===o.tag)})[0]},r.prototype.removeHeadByAttr=function(t,e,n){var o=this.getHeadByAttr(t,e,n),c=this.head.indexOf(o);c>=0&&this.head.splice(c,1)},r.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},r.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},r.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},r.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},r.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},r.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",ie({frame:this},t))},r.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=bt.Z.prototype.toJSON.call(this,t),n=(0,i.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[nt]&&delete e.width,e[vt]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,i.forEach)(e,function(o,c){c.indexOf("_")===0&&delete e[c]}),(0,i.forEach)(n,function(o,c){e[c]===o&&delete e[c]}),(0,i.forEach)(["attributes","head"],function(o){(0,i.isEmpty)(e[o])&&delete e[o]}),e},r}(bt.Z);const ct=Ft;var Vt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pt=function(l){Vt(r,l);function r(t,e){e===void 0&&(e=[]);var n=l.call(this,t,e,ct)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,i.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(o){return n.onAdd(o)}),n}return r.prototype.onAdd=function(t){this.module.framesById[t.id]=t},r.prototype.onReset=function(t,e){var n=this,o=(e==null?void 0:e.previousModels)||[];o.map(function(c){return n.onRemove(c)})},r.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},r.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})},r}(an);const Ce=Pt;var Ae=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Te=function(l){Ae(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t,e)||this,o=e.em,c={};n.em=o,t.frames||(c.component=t.component,c.styles=t.styles,["component","styles"].map(function(y){return n.unset(y)}));var h=t.frames||[c],m=new Ce(o.Canvas,h);return m.page=n,n.set("frames",m),!n.getId()&&n.set("id",o==null?void 0:o.Pages._createId()),o==null||o.UndoManager.add(m),n}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(t){return this.set({name:t})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=O.Hn.prototype.toJSON.call(this,t),n=(0,i.result)(this,"defaults");return(0,i.forEach)(e,function(o,c){c.indexOf("_")===0&&delete e[c]}),(0,i.forEach)(n,function(o,c){e[c]===o&&delete e[c]}),e},r}(O.Hn);const Fe=Te;var qe=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),we=function(){return we=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},we.apply(this,arguments)},Vn=function(l){qe(r,l);function r(t,e){var n=l.call(this,t)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(o,c){return c===void 0&&(c={}),new Fe(o,we(we({},c),{em:e}))},n}return r.prototype.onReset=function(t,e){var n=this,o;(o=e==null?void 0:e.previousModels)===null||o===void 0||o.map(function(c){return n.onRemove(c)})},r.prototype.onRemove=function(t){t==null||t.onRemove()},r}(O.FE);const nn=Vn;var Ze=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zn=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},xe="page",Tn="".concat(xe,":"),Le="".concat(Tn,"select"),sn="".concat(Le,":before"),hn="".concat(Tn,"update"),or="".concat(Tn,"add"),En="".concat(or,":before"),ro="".concat(Tn,"remove"),Q="".concat(ro,":before"),_t="change:selected",At="main",Gt={all:xe,select:Le,selectBefore:sn,update:hn,add:or,addBefore:En,remove:ro,removeBefore:Q},pe=function(l){Ze(r,l);function r(t){var e=l.call(this,t,"PageManager",new nn([],t),Gt)||this;e.storageKey="pages",(0,i.bindAll)(e,"_onPageChange");var n=new bt.Z({_undo:!0});return e.model=n,e.pages.on("reset",function(o){return o.at(0)&&e.select(o.at(0))}),e.pages.on("all",e.__onChange,e),n.on(_t,e._onPageChange),e}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return Zn([],this.all.models,!0)},r.prototype.__onChange=function(t,e,n,o){var c=o||n;this.em.trigger(xe,{event:t,page:e,options:c})},r.prototype.onLoad=function(){var t,e=this,n=e.pages,o=e.config,c=e.em,h={silent:!0},m=((t=o.pages)===null||t===void 0?void 0:t.map(function(C){return new Fe(C,{em:c,config:o})}))||[];n.add(m,h);var y=n.length?this.getMain():this.add({type:At},h);y&&this.select(y,h)},r.prototype._onPageChange=function(t,e,n){var o=this.em,c=o.Layers,h=e.getMainComponent();c&&h&&c.setRoot(h),o.trigger(Le,e,t.previous("selected")),this.__onChange(_t,e,n)},r.prototype.postLoad=function(){var t=this,e=t.em,n=t.model,o=t.pages,c=e.UndoManager;c.add(n),c.add(o),o.on("add remove reset change",function(h,m,y){return e.changesUp(y||m)})},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var o=this.em;t.id=t.id||this._createId();var c=function(){var h=n.pages.add(new Fe(t,{em:n.em,config:n.config}),e);return e.select&&n.select(h),h};return!e.silent&&o.trigger(En,t,c,e),!e.abort&&c()},r.prototype.remove=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=(0,i.isString)(t)?this.get(t):t,h=function(){return c&&n.pages.remove(c,e),c};return!e.silent&&o.trigger(Q,c,h,e),!e.abort&&h()},r.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},r.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===At})[0]||t.at(0)},r.prototype.getAllWrappers=function(){var t=this.getAll();return(0,i.unique)((0,i.flatten)(t.map(function(e){return e.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,i.isString)(t)?this.get(t):t;return n&&(this.em.trigger(sn,n,e),this.model.set("selected",n,e)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),e},r.prototype._createId=function(){var t=this.getAll(),e=t.length+16,n=this.getAllMap(),o;do o=(0,s.createId)(e);while(n[o]);return o},r}(K);const je=pe;var Xe=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gr=function(l){Xe(r,l);function r(t){var e=this,n=t.em,o=t.config,c=o.scripts,h=o.styles;return e=l.call(this,t,{scripts:c,styles:h})||this,e.set("frames",new Ce(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(n,"change:device ".concat(Wt),e.updateDevice),e.listenTo(n,Le,e._pageUpdated),e}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:O.pH,pointerScreen:O.pH}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var t=this.em,e=t.Pages.getMain();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype._pageUpdated=function(t,e){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),e==null||e.getFrames().map(function(o){return o.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,n=e.getDeviceModel(),o=t.frame||e.getCurrentFrameModel();if(o&&n){var c=n.attributes,h=c.width,m=c.height;o.set({width:h,height:m},{noUndo:1})}},r.prototype.onZoomChange=function(){var t=this,e=t.em,n=t.module,o=this.get("zoom");o<1&&this.set("zoom",1),e.trigger(n.events.zoom)},r.prototype.onCoordsChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.coords)},r.prototype.onPointerChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.pointer)},r.prototype.getPointerCoords=function(t){t===void 0&&(t=O.vA.World);var e=this.attributes,n=e.pointer,o=e.pointerScreen;return t===O.vA.World?n:o},r}(bt.Z);const Dr=gr;var ln=bn(675),Bi=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nr=function(l){Bi(r,l);function r(t,e){e===void 0&&(e=[]);var n=l.call(this,t,e,ln.Z)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var o=n.em;n.refreshDbn=(0,i.debounce)(function(){return n.refresh()},0);var c="component:resize styleable:change component:input component:update frame:updated undo redo";return n.listenTo(o,c,function(){return n.refreshDbn()}),n}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var t=this,e=t.em,n=t.events;e.trigger(n.spot)},r.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},r.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},r.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},r.prototype.__trgEvent=function(t,e){var n=this.module,o=n.em;o.trigger(t,e),this.refreshDbn()},r}(an);const Wr=Nr;var Ho;(function(l){l.dragEnter="canvas:dragenter",l.dragOver="canvas:dragover",l.dragEnd="canvas:dragend",l.dragData="canvas:dragdata",l.drop="canvas:drop",l.spot="canvas:spot",l.spotAdd="canvas:spot:add",l.spotUpdate="canvas:spot:update",l.spotRemove="canvas:spot:remove",l.coords="canvas:coords",l.zoom="canvas:zoom",l.pointer="canvas:pointer"})(Ho||(Ho={}));var Rn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tr=function(l){Rn(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(t){this.className=""},r}(O.G7);const fn=Tr;var ee=bn(491),So=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Na=function(l){So(r,l);function r(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var n=l.call(this,t)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],e&&n.listenTo(n.collection,"add",n.addTo),n}return r.prototype.addTo=function(t){this.add(t)},r.prototype.itemViewNotFound=function(t){},r.prototype.add=function(t,e){var n=this,o=n.reuseView,c=n.viewCollection,h=e||null,m=t.get(this.itemType),y;t.view&&o?y=t.view:y=this.renderView(t,m),c.push(y);var C=y.render().el;h?h.appendChild(C):this.$el.append(C)},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return t.add(n,e)}),this.$el.append(e),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(t,e){},r.prototype.onRemove=function(t,e){},r.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),O.G7.prototype.remove.apply(this,t),this.onRemove(e,t),this},r.prototype.clearItems=function(){this.viewCollection},r}(fn);const oo=Na;var Oo=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jn=function(l){Oo(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.config=t.config||{};var n=e.model;return e.listenTo(n,"change",e.render),e.listenTo(n,"destroy remove",e.remove),e.listenTo(n.get("selectors"),"change",e.render),e}return r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var t=this,e=t.model,n=t.el,o=e.get("important");return n.innerHTML=e.toCSS({important:o}),this},r}(O.G7);const Bo=Jn;var $r=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kr=function(l){$r(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},r}(Bo);const gi=Kr;var un=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_e=function(l,r){return"".concat(l).concat(r?"-".concat(parseFloat(r)):"")},Gr=function(l){un(r,l);function r(t){var e=l.call(this,t)||this;(0,i.bindAll)(e,"sortRules");var n=t.config||{};e.atRules={},e.config=n,e.em=n.em,e.pfx=n.stylePrefix||"",e.className=e.pfx+"rules";var o=e.collection;return e.listenTo(o,"add",e.addTo),e.listenTo(o,"reset",e.render),e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){if(this.renderStarted){var n=e||null,o=this.config,c={model:t,config:o},h,m;if(t.get("atRuleType")==="keyframes"){var y=t.getAtRule(),C=this.atRules[y];if(!C){var P=document.createElement("style");C=document.createTextNode(""),P.appendChild(document.createTextNode("".concat(y,"{"))),P.appendChild(C),P.appendChild(document.createTextNode("}")),this.atRules[y]=C,h=P}m=new gi(c),C.appendData(m.render().el.textContent)}else m=new Bo(c),h=m.render().el;var N=this.className,B=t.get("mediaText"),G=_e(N),ut=G;if(B&&(ut=_e(N,this.getMediaWidth(B))),h){var ft=n||this.el,Ct=void 0;try{Ct=ft.querySelector("#".concat(ut))}catch{}Ct||(Ct=ft.querySelector("#".concat(G))),Ct==null||Ct.appendChild(h)}return h}},r.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(t,e){var n=this.em,o=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var c=o?t:e,h=o?e:t;return c-h},r.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,n=e.em,o=e.$el,c=e.collection,h=this.className,m=document.createDocumentFragment();o.empty();var y=n.Devices.getAll().pluck("priority").sort(this.sortRules);return y.every(function(C){return C})&&y.unshift(0),y.forEach(function(C){return m.appendChild((0,ee.ut)("div",{id:_e(h,C)}))}),c.each(function(C){return t.addToCollection(C,m)}),o.append(m),o.attr("class",h),this},r}(O.G7);const Pn=Gr;var mr=function(){return mr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},mr.apply(this,arguments)},Qe=function(){function l(r,t){var e=this;this.em=r,this.canvas=r.Canvas;var n=t||this.canvas.getFrames().map(function(c){return c.getComponent().getEl()}),o=Array.isArray(n)?n:[n];this.el=o[0],this.counter=0,(0,i.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),o.forEach(function(c){return e.toggleEffects(c,!0)})}return l.prototype.toggleEffects=function(r,t){var e={on:ee.on,off:ee.S1},n=t?"on":"off";e[n](r,"dragenter",this.handleDragEnter),e[n](r,"dragover",this.handleDragOver),e[n](r,"drop",this.handleDrop),e[n](r,"dragleave",this.handleDragLeave)},l.prototype.__customTglEff=function(r){var t,e=r?ee.on:ee.S1,n=this.el.ownerDocument,o=(t=n.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=r?{onStart:function(c){var h=c.sorter;(0,ee.on)(o,"pointermove",h.onMove)},onEnd:function(c){var h=c.sorter;(0,ee.S1)(o,"pointermove",h.onMove)},customTarget:function(c){var h=c.event;return n.elementFromPoint(h.clientX,h.clientY)}}:null,e(o,"pointerenter",this.handleDragEnter),e(o,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(o,"pointerout",this.handleDragLeave)},l.prototype.startCustom=function(){this.__customTglEff(!0)},l.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},l.prototype.endDrop=function(r,t){var e=this,n=e.em,o=e.dragStop;this.counter=0,o&&o(r||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",t)},l.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},l.prototype.updateCounter=function(r,t){this.counter+=r,this.counter===0&&this.endDrop(!0,t)},l.prototype.handleDragEnter=function(r){var t=this,e=this,n=e.em,o=e.canvas,c=r.dataTransfer,h=n.get("dragContent");if(!(!h&&!o.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var m=n.Utils,y=h||"<br>",C,P;if(n.stopDefault(),n.inAbsoluteMode()){var N=n.Components.getWrapper(),B=N.append({})[0],G=n.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:B,onEnd:function(ft,Ct,Rt){var It=Rt.cancelled,ne;if(!It){ne=N.append(y)[0];var de=o.getOffset(),Pe=B.getStyle(),He=Pe.top,ae=Pe.left,Re=Pe.position,tn=(0,ee.GX)(ft.target),xr=parseInt("".concat(parseFloat(ae)+tn.x-de.left),10),ue=parseInt("".concat(parseFloat(He)+tn.y-de.top),10);ne.addStyle({left:xr+"px",top:ue+"px",position:Re})}t.handleDragEnd(ne,c),B.remove()}});C=function(ft){return G.stop(r,{cancel:ft})},P=function(ft){return y=ft}}else{var ut=new m.Sorter(mr({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:o.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(ft){return t.handleDragEnd(ft,c)},document:this.el.ownerDocument},this.sortOpts||{}));ut.setDropContent(y),ut.startSort(),this.sorter=ut,C=function(ft){ft&&(ut.moved=!1),ut.endMove()},P=function(ft){return ut.setDropContent(ft)}}this.dragStop=C,this.dragContent=P,n.trigger("canvas:dragenter",c,y)}},l.prototype.handleDragEnd=function(r,t){var e=this.em;this.over=!1,r&&(e.set("dragResult",r),e.trigger("canvas:drop",t,r)),e.runDefault({preserveSelected:1})},l.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},l.prototype.handleDrop=function(r){r.preventDefault();var t=this.dragContent,e=r.dataTransfer,n=this.getContentByData(e).content;r.target.style.border="",n&&t&&t(n),this.endDrop(!n,r)},l.prototype.getContentByData=function(r){var t=this.em,e=r&&r.types,n=r&&r.files||[],o=t.get("dragContent"),c=r&&r.getData("text");if(n.length){c=[];for(var h=0;h<n.length;h++){var m=n[h],y=m.type.split("/")[0];y=="image"&&c.push({type:y,file:m,attributes:{alt:m.name}})}}else if(o)c=o;else if((0,i.indexOf)(e,"text/html")>=0)c=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,i.indexOf)(e,"text/uri-list")>=0)c={type:"link",attributes:{href:c},content:c};else if((0,i.indexOf)(e,"text/json")>=0){var C=r&&r.getData("text/json");C&&(c=JSON.parse(C))}else e.length===1&&e[0]==="text/plain"&&(c="<div>".concat(c,"</div>"));var P={content:c};return t.trigger("canvas:dragdata",r,P),P},l}();const To=Qe;var ni=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qn=function(){return Qn=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Qn.apply(this,arguments)},V=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},it=function(l){ni(r,l);function r(t,e){var n=l.call(this,{model:t})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,i.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var o=n.el;n.module._config=Qn(Qn({},n.config||{}),{frameView:n}),n.frameWrapView=e,n.showGlobalTools=(0,i.debounce)(n.showGlobalTools.bind(n),50);var c=n.getCanvasModel();return n.listenTo(t,"change:head",n.updateHead),n.listenTo(c,"change:styles",n.renderStyles),t.view=n,(0,s.setViewEl)(o,n),n}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var t=this,e=t.el,n=t.module,o=n.getCanvasView(),c=n.getCoords(),h=e.getBoundingClientRect(),m=o.getCanvasOffset(),y=o.getViewportDelta(),C=n.getZoomMultiplier(),P=(h.x-m.left-y.x-c.x)*C,N=(h.y-m.top-y.y-c.y)*C,B=h.width*C,G=h.height*C;return{x:P,y:N,width:B,height:G}},r.prototype.updateHead=function(){var t=this.model,e=this.getHead(),n=[],o=[],c=t.head,h=t.previous("head"),m=function(C){return C===void 0&&(C={}),Object.keys(C).sort().map(function(P){return"[".concat(P,'="').concat(C[P],'"]')}).join("")},y=function(C,P,N){C.forEach(function(B){var G=B.tag,ut=B.attributes,ft=P.some(function(Ct){return Ct.tag===G&&m(Ct.attributes)===m(ut)});!ft&&N.push(B)})};y(c,h,o),y(h,c,n),n.forEach(function(C){var P,N=e.querySelector("".concat(C.tag).concat(m(C.attributes)));(P=N==null?void 0:N.parentNode)===null||P===void 0||P.removeChild(N)}),(0,ee.SJ)(e,o)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ee.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),n=e.scrollTop,o=e.scrollLeft,c=t.offsetHeight,h=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:c,width:h,scrollTop:n,scrollLeft:o,scrollBottom:n+c,scrollRight:o+h}},r.prototype._getTool=function(t){var e=this.tools,n=this.getToolsEl();return e[t]||(e[t]=n.querySelector(t)),e[t]},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),fn.prototype.remove.apply(this,e),this},r.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,n=this.getWindow(),o=n.pageYOffset,c=t||0,h=e.getConfig().autoscrollLimit,m=this.getRect().height-h,y=o;if(c<h&&(y-=h-c),c>m&&(y+=c-m),!(0,i.isUndefined)(t)&&y!==o&&y>0&&y<this.lastMaxHeight){var C=this.getGlobalToolsEl();C.style.opacity="0",this.showGlobalTools(),n.scrollTo(0,y),e.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,ee.VB)(t).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),n=t?"on":"off",o={on:ee.on,off:ee.S1};o[n](e,"mousemove dragover",this.updateClientY),o[n](e,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var t=this,e=t.$el,n=t.ppfx,o=t.em;return e.attr({class:"".concat(n,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var t=this,e=this,n=e.el,o=e.model,c=e.em,h="frame:load",m={el:n,model:o,view:this},y=this.getCanvasModel(),C=function(P){var N;if(P.length>0){var B=P.shift(),G=(0,ee.ut)("script",Qn({type:"text/javascript"},(0,i.isString)(B)?{src:B}:B));G.onerror=G.onload=C.bind(null,P),(N=n.contentDocument)===null||N===void 0||N.head.appendChild(G)}else t.renderBody(),c&&c.trigger(h,m)};n.onload=function(){var P=t.config.frameContent;if(P){var N=t.getDoc();N.open(),N.write(P),N.close()}c&&c.trigger("".concat(h,":before"),m),C(V([],y.get("scripts"),!0))}},r.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),n=this.getCanvasModel(),o=function(P){return P.map(function(N){return{tag:"link",attributes:Qn({rel:"stylesheet"},(0,i.isString)(N)?{href:N}:N)}})},c=o(t.prev||n.previous("styles")),h=o(n.get("styles")),m=[],y=[],C=function(P,N,B){P.forEach(function(G){var ut=G.attributes.href,ft=N.some(function(Ct){return Ct.attributes.href===ut});!ft&&B.push(G)})};C(h,c,y),C(c,h,m),m.forEach(function(P){var N,B=e.querySelector('link[href="'.concat(P.attributes.href,'"]'));(N=B==null?void 0:B.parentNode)===null||N===void 0||N.removeChild(B)}),(0,ee.SJ)(e,y)},r.prototype.renderBody=function(){var t=this,e,n,o=this,c=o.config,h=o.em,m=o.model,y=o.ppfx,C=this.getDoc(),P=this.getBody(),N=this.getWindow(),B=m.hasAutoHeight(),G=h.config;N._isEditor=!0,this.renderStyles({prev:[]});var ut="#ffca6f";(0,ee.R3)(P,`<style>
      `.concat(G.baseCss||c.frameStyle||"",`

      `).concat(B?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(B?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(y,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(y,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(y,`selected-parent {
        outline: 2px solid `).concat(ut,` !important
      }

      .`).concat(y,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(y,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(y,`no-pointer {
        pointer-events: none;
      }

      .`).concat(y,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(y,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(y,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(y,`is__grabbing,
      .`).concat(y,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(G.canvasCss||"",`
      `).concat(G.protectedCss||"",`
    </style>`));var ft=m.root,Ct=h.Components.getType("wrapper").view;this.wrapper=new Ct({model:ft,config:Qn(Qn({},ft.config),{em:h,frameView:this})}).render(),(0,ee.R3)(P,(e=this.wrapper)===null||e===void 0?void 0:e.el),(0,ee.R3)(P,new Pn({collection:m.getStyles(),config:Qn(Qn({},h.Css.getConfig()),{frameView:this})}).render().el),(0,ee.R3)(P,this.getJsContainer()),(0,ee.on)(P,"click",function(Rt){var It;return Rt&&((It=Rt.target)===null||It===void 0?void 0:It.tagName)=="A"&&Rt.preventDefault()}),(0,ee.on)(P,"submit",function(Rt){return Rt&&Rt.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!c.infiniteCanvas}}].forEach(function(Rt){return Rt.event.split(" ").forEach(function(It){C.addEventListener(It,function(ne){return t.el.dispatchEvent((0,ee.t3)(ne,Rt.class))},Rt.opts)})}),this._toggleEffects(!0),(0,s.hasDnd)(h)&&(this.droppable=new To(h,(n=this.wrapper)===null||n===void 0?void 0:n.el)),this.loaded=!0,m.trigger("loaded")},r.prototype._toggleEffects=function(t){var e=t?ee.on:ee.S1,n=this.getWindow();n&&e(n,"".concat(ee.G1," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(fn);const Ut=it;var Qt=bn(668),Ne=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Be=function(){return Be=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Be.apply(this,arguments)},rn=function(l){Ne(r,l);function r(t,e){var n=l.call(this,{model:t})||this;return(0,i.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Be(Be({},t.config),{frameWrapView:n}),n.cv=e,n.frame=new Ut(t,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,i.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,i.debounce)(n.updateSize.bind(n),0),n.listenTo(t,"loaded",n.frameLoaded),n.listenTo(t,"change:x change:y",n.updatePos),n.listenTo(t,"change:width change:height",n.updateSize),n.listenTo(t,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var t=this,e=this,n=e.module,o=e.model,c,h,m,y=function(C){n.toggleFramesEvents(C)};this.dragger=new Qt.Z({onStart:function(){var C=o.attributes,P=C.x,N=C.y;m=t.em.getZoomMultiplier(),c=P,h=N,y(!1)},onEnd:function(){return y(!0)},setPosition:function(C){o.set({x:c+C.x*m,y:h+C.y*m})}})},r.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},r.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,ee.L_)(this.elTools)},r.prototype.remove=function(t){var e=this;return this.__clear(t),fn.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(n){return e[n]=0}),this},r.prototype.updateOffset=function(){var t,e=this,n=e.em,o=e.$el,c=e.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=c==null?void 0:c.model)===null||t===void 0||t._emitUpdated())},r.prototype.updatePos=function(t){var e=this,n=e.model,o=e.el,c=n.attributes,h=c.x,m=c.y,y=o.style;this.frame.rect=void 0,y.left=isNaN(h)?h:"".concat(h,"px"),y.top=isNaN(m)?m:"".concat(m,"px"),t&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var t=this,e=t.em,n=t.el,o=t.$el,c=t.model,h=t.classAnim,m=t.frame;if(m){m.rect=void 0,o.addClass(h);var y=this.__handleSize(),C=y.noChanges,P=y.width,N=y.height;((0,i.isNull)(P)||(0,i.isNull)(N))&&c.set(Be(Be({},P?{}:{width:n.offsetWidth}),N?{}:{height:n.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),C?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var t=this,e=t.frame,n=t.em;n.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},r.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var t,e,n="px",o=this,c=o.model,h=o.el,m=h.style,y=c.attributes,C=y.width,P=y.height,N=m.width||"",B=m.height||"",G=C||"",ut=P||"",ft=N==G&&B==ut,Ct=(0,i.isNumber)(G)?"".concat(G).concat(n):G,Rt=(0,i.isNumber)(ut)?"".concat(ut).concat(n):ut;if(m.width=Ct,c.hasAutoHeight()){var It=this.frame.el;if(It.contentDocument){var ne=It.contentDocument,de=new ResizeObserver(function(){m.height="".concat(ne.body.scrollHeight,"px")});de.observe(ne.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=de}}else m.height=Rt,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:ft,width:C,height:P,newW:G,newH:ut}},r.prototype.render=function(){var t=this,e=t.frame,n=t.$el,o=t.ppfx,c=t.cv,h=t.model,m=t.el,y=h.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),n.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(h.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var C=(0,ee.ut)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=C;var P=c==null?void 0:c.toolsWrapper;return P&&P.appendChild(C),y&&y({el:m,elTop:m.querySelector("[data-frame-top]"),elRight:m.querySelector("[data-frame-right]"),elBottom:m.querySelector("[data-frame-bottom]"),elLeft:m.querySelector("[data-frame-left]"),frame:h,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(fn);const Se=rn;var Yr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bs=function(l){Yr(r,l);function r(t,e){t===void 0&&(t={});var n=l.call(this,t,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=e.canvasView,n._module=e.module,n}return r.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(n){return n.remove(e)})},r.prototype.onRender=function(){var t=this,e=t.$el,n=t.ppfx;e.attr({class:"".concat(n,"frames")})},r.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},r.prototype.renderView=function(t,e){return new Se(t,this.canvasView)},r}(oo);const Cs=bs;var Eo=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zi=function(){return zi=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},zi.apply(this,arguments)},ml=function(l){Eo(r,l);function r(t){var e=l.call(this,{model:t})||this;e.ready=!1,(0,i.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var n=e,o=n.em,c=n.pfx,h=n.ppfx,m=e.module.events;return e.className="".concat(c,"canvas ").concat(h,"no-touch-actions").concat(o.config.customUI?"":" ".concat(c,"canvas-bg")),e.clsUnscale="".concat(c,"unscale"),e._initFrames(),e.listenTo(o,"change:canvasOffset",e.clearOff),e.listenTo(o,"component:selected",e.checkSelected),e.listenTo(o,"".concat(m.coords," ").concat(m.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return r.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var t=this,e=t.frames,n=t.model,o=t.config,c=t.em,h=n.frames;c.set("readyCanvas",0),h.once("loaded:all",function(){return c.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new Cs({collection:h},zi(zi({},o),{canvasView:this}))},r.prototype.checkSelected=function(t,e){var n;e===void 0&&(e={});var o=e.scroll,c=this.em.getCurrentFrame();o&&((n=t.views)===null||n===void 0||n.forEach(function(h){h.frameView===c&&h.scrollIntoView(o)}))},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,fn.prototype.remove.apply(this,e),this.toggleListeners(!1),this},r.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},r.prototype.toggleListeners=function(t){var e=this,n=e.el,o=e.config,c=t?ee.on:ee.S1;c(document,"keypress",this.onKeyPress),c(window,"scroll resize",this.clearOff),c(n,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),c(n,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(t,e){var n=this.module,o=n.getCoords(),c=n.getZoomMultiplier(),h=this.getViewportDelta();return{x:(t-o.x-h.x)*c,y:(e-o.y-h.y)*c}},r.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),n=(0,ee.GX)(),o={x:t.clientX-e.left+n.x,y:t.clientY-e.top+n.y};if(t._parentEvent){var c=t.target.getBoundingClientRect(),h=this.module.getZoomDecimal();o.x=c.left-e.left+n.x+t.clientX*h,o.y=c.top-e.top+n.y+t.clientY*h}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},r.prototype.onKeyPress=function(t){var e=this.em,n=(0,ee.sN)(t);n===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(t){var e=this,n=e.module,o=e.config;if(o.infiniteCanvas){this.preventDefault(t);var c=t.deltaX,h=t.deltaY,m=n.getZoomDecimal(),y=(0,ee.Vb)(t),C=n.getCoords();if(y){var P=m-h*m*.01;n.setZoom(P*100);var N=this.model.getPointerCoords(O.vA.Screen),B=this.getCanvasOffset(),G=N.x-B.width/2,ut=N.y-B.height/2,ft=P/m,Ct=G-(G-C.x)*ft,Rt=ut-(ut-C.y)*ft;n.setCoords(Ct,Rt)}else this.onPointer(t),n.setCoords(C.x-c,C.y-h)}},r.prototype.updateFrames=function(t){var e=this.em,n=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(o),e.runDefault(o),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,n=t.model,o=t.module,c=t.cvStyle,h=t.clsUnscale,m=o.getZoomMultiplier();if(e){var y=n.attributes,C=y.x,P=y.y,N=o.getZoomDecimal();e.style.transform="scale(".concat(N,") translate(").concat(C*m,"px, ").concat(P*m,"px)")}c&&(c.innerHTML=`
        .`.concat(h," { scale: ").concat(m,` }
      `))},r.prototype.fitViewport=function(t){var e,n;t===void 0&&(t={});var o=this,c=o.em,h=o.module,m=o.model,y=this.getCanvasOffset(),C=t.el,P=C&&((e=(0,s.getComponentView)(C))===null||e===void 0?void 0:e.frameView),N=P?P.model:t.frame||c.getCurrentFrameModel()||m.frames.at(0),B=N.attributes,G=B.x,ut=B.y,ft={x:G??0,y:ut??0,width:N.width,height:N.height};if(C){var Ct=this.getElBoxRect(C);ft.x=ft.x+Ct.x,ft.y=ft.y+Ct.y,ft.width=Ct.width,ft.height=Ct.height}var Rt=t.ignoreHeight,It=(n=t.gap)!==null&&n!==void 0?n:0,ne=(0,i.isNumber)(It),de=ne?It:It.x,Pe=ne?It:It.y,He=ft.width+de*2,ae=ft.height+Pe*2,Re=y.width,tn=y.height,xr=Re/He,ue=tn/ae,Mr=Rt?xr:Math.min(xr,ue),ba=Mr*100;h.setZoom(ba);var Ca=-ft.x+(N.width>=Re?Re/2-He/2:-de),xa=-ft.y+tn/2-ae/2,Li={x:(Ca+de)*Mr,y:(xa+Pe)*Mr};if(Rt){var _h=h.getZoomMultiplier(),bh=tn*_h,Ch=bh-tn,ym=Ch/2;Li.y=(-ft.y+Pe)*Mr-ym/_h}h.setCoords(Li.x,Li.y)},r.prototype.isElInViewport=function(t){var e=(0,s.getElement)(t),n=(0,ee.Ut)(e),o=this.getFrameOffset(e),c=n.top,h=n.left;return c>=0&&h>=0&&c<=o.height&&h<=o.width},r.prototype.offset=function(t,e){e===void 0&&(e={});var n=e.noScroll,o=(0,ee.Ut)(t),c=n?{x:0,y:0}:(0,ee.GX)(t);return{top:o.top+c.y,left:o.left+c.x,width:o.width,height:o.height}},r.prototype.getRectToScreen=function(t){var e,n,o,c,h=this.module.getZoomDecimal(),m=this.module.getCoords(),y=this.getViewportDelta(),C=((e=t.x)!==null&&e!==void 0?e:0)*h+m.x+y.x||0,P=((n=t.y)!==null&&n!==void 0?n:0)*h+m.y+y.y||0;return{x:C,y:P,width:((o=t.width)!==null&&o!==void 0?o:0)*h,height:((c=t.height)!==null&&c!==void 0?c:0)*h}},r.prototype.getElBoxRect=function(t,e){var n,o,c;e===void 0&&(e={});var h=this.module,m=(0,ee.Ut)(t),y=m.width,C=m.height,P=m.left,N=m.top,B=(n=(0,s.getComponentView)(t))===null||n===void 0?void 0:n.frameView,G=B==null?void 0:B.getBoxRect(),ut=h.getZoomMultiplier(),ft=(o=G==null?void 0:G.x)!==null&&o!==void 0?o:0,Ct=(c=G==null?void 0:G.y)!==null&&c!==void 0?c:0,Rt=this.el,It=(0,ee.GX)(),ne=P+ft+(Rt.scrollLeft+It.x)*ut,de=N+Ct+(Rt.scrollTop+It.y)*ut,Pe={x:ne,y:de,width:y,height:C};return e.local&&(Pe.x=P,Pe.y=N),e.toScreen?this.getRectToScreen(Pe):Pe},r.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),n=e.top,o=e.left,c=e.width,h=e.height,m=this.module;if(t.toWorld){var y=m.getZoomMultiplier(),C=m.getCoords(),P=this.getViewportDelta(),N=-C.x-P.x||0,B=-C.y-P.y||0;return{x:N*y,y:B*y,width:c*y,height:h*y}}else return{x:o,y:n,width:c,height:h}},r.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),o=n.width,c=n.height,h=o*e,m=c*e,y=h-o,C=m-c;return{x:y/2/e,y:C/2/e}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var n=(e=this.frame)===null||e===void 0?void 0:e.el,o=t==null?void 0:t.ownerDocument.defaultView,c=o?o.frameElement:n;this.frmOff=this.offset(c||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(t,e){e===void 0&&(e={});var n=this.module.getZoomDecimal(),o=this.getFrameOffset(t),c=this.el,h=this.getCanvasOffset(),m=this.offset(t,e),y=e.avoidFrameOffset?0:o.top,C=e.avoidFrameOffset?0:o.left,P=e.avoidFrameZoom?m.top:m.top*n,N=e.avoidFrameZoom?m.left:m.left*n,B=e.avoidFrameOffset?P:P+y-h.top+c.scrollTop,G=e.avoidFrameOffset?N:N+C-h.left+c.scrollLeft,ut=e.avoidFrameZoom?m.height:m.height*n,ft=e.avoidFrameZoom?m.width:m.width*n;return{top:B,left:G,height:ut,width:ft,zoom:n,rect:m}},r.prototype.getElementOffsets=function(t){if(!t||(0,ee.BM)(t))return{};var e={},n=window.getComputedStyle(t),o=this.module.getZoomDecimal(),c=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"];return c.forEach(function(h){e[h]=parseFloat(n[h])*o}),e},r.prototype.getPosition=function(t){var e;t===void 0&&(t={});var n=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var o=n.body,c=this.module.getZoomDecimal(),h=this.getFrameOffset(),m=this.getCanvasOffset(),y=t.noScroll;return{top:h.top+(y?0:o.scrollTop)*c-m.top,left:h.left+(y?0:o.scrollLeft)*c-m.left,width:m.width,height:m.height}},r.prototype.updateScript=function(t){var e=t.model,n=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,ee.ut)("div",{"data-id":n});var o=this.getJsContainer();o==null||o.appendChild(t.scriptContainer)}t.el.id=n,t.scriptContainer.innerHTML="";var c=document.createElement("script"),h=e.getScriptString(),m=e.get("script-props")?h:`function(){
`.concat(h,`
;}`),y=JSON.stringify(e.__getScriptProps());c.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        (`).concat(m,".bind(item))(").concat(y,`)
      }, 1);`),setTimeout(function(){var C=t.scriptContainer;C==null||C.appendChild(c)},0)},r.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},r.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,n=t.frames,o=t.em,c=t.framesArea,h=e.frames;h.listenToLoad(),n.render();var m=h.at(0),y=m==null?void 0:m.view;o.setCurrentFrame(y),c==null||c.appendChild(n.el),this.frame=y,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var t=this,e=t.el,n=t.$el,o=t.ppfx,c=t.config,h=t.em;n.html(this.template());var m=n.find("[data-frames]");this.framesArea=m.get(0);var y=n.find("[data-tools]");return this.toolsWrapper=y.get(0),y.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(c.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(o,"tools")),this.hlEl=e.querySelector(".".concat(o,"highlighter")),this.badgeEl=e.querySelector(".".concat(o,"badge")),this.placerEl=e.querySelector(".".concat(o,"placeholder")),this.ghostEl=e.querySelector(".".concat(o,"ghost")),this.toolbarEl=e.querySelector(".".concat(o,"toolbar")),this.resizerEl=e.querySelector(".".concat(o,"resizer")),this.offsetEl=e.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(o,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,s.getUiClass)(h,this.className),this.ready=!0,this._renderFrames(),this},r}(fn);const Ia=ml;var xs=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zo=function(){return zo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},zo.apply(this,arguments)},Ss=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Os=function(l){xs(r,l);function r(t){var e=l.call(this,t,"Canvas",mt)||this;return e.events=Ho,e.framesById={},e.canvas=new Dr(e),e.spots=new Wr(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(t){return this.getFrames()[t||0]},r.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},r.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},r.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},r.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},r.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},r.prototype._getLocalEl=function(t,e,n){var o=t,c=e==null?void 0:e.frameView;return o=c?c[n]():o,o},r.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},r.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},r.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},r.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},r.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new Ia(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},r.prototype.offset=function(t){return this.getCanvasView().offset(t)},r.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},r.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},r.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},r.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},n=e.top,o=n===void 0?0:n,c=e.left,h=c===void 0?0:c;return zo(zo({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:h})},r.prototype.getTargetToElementDim=function(t,e,n){n===void 0&&(n={});var o=n||{},c=this.getCanvasView().getPosition();if(c){var h=o.elPos||this.getCanvasView().getElementPos(e),m=n.toRight||0,y=o.targetHeight||t.offsetHeight,C=o.targetWidth||t.offsetWidth,P=o.event||null,N=h.top-y,B=h.left;B+=m?h.width:0,B=m?B-C:B;var G=B<c.left?c.left:B,ut=N<c.top?c.top:N;ut=ut>h.top+h.height?h.top+h.height:ut;var ft={top:ut,left:G,elementTop:h.top,elementLeft:h.left,elementWidth:h.width,elementHeight:h.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:c.top,canvasLeft:c.left,canvasWidth:c.width,canvasHeight:c.height};return P&&this.em&&this.em.trigger(P,ft),ft}},r.prototype.canvasRectOffset=function(t,e,n){var o=this;n===void 0&&(n={});var c=function(m){var y=m.defaultView;return y==null?void 0:y.frameElement},h=function(m,y,C){y===void 0&&(y=1);var P=o.em.getZoomDecimal(),N=y?"top":"left",B=m.ownerDocument,G=n.offset?c(B):{},ut=G.offsetTop,ft=ut===void 0?0:ut,Ct=G.offsetLeft,Rt=Ct===void 0?0:Ct,It=B.body||{},ne=It.scrollTop,de=ne===void 0?0:ne,Pe=It.scrollLeft,He=Pe===void 0?0:Pe,ae=y?de:He,Re=y?ft:Rt;return C[N]-(ae-Re)*P};return{top:h(t,1,e),left:h(t,0,e)}},r.prototype.getTargetToElementFixed=function(t,e,n){n===void 0&&(n={});var o=n.pos||this.getElementPos(t,{noScroll:!0}),c=n.canvasOff||this.canvasRectOffset(t,o),h=e.offsetHeight||0,m=e.offsetWidth||0,y=o.left+o.width,C=this.getCanvasView(),P=C.getPosition(),N=C.getFrameOffset(t),B=n.event,G=-h,ut=(0,i.isUndefined)(n.left)?o.width-m:n.left;if(ut=o.left<-ut?-o.left:ut,ut=y>P.width?ut-(y-P.width):ut,c.top<h){var ft=o.height+h,Ct=ft<N.height;Ct?G=G+ft:G=-c.top<o.height?-c.top:o.height}var Rt={top:G,left:ut,canvasOffsetTop:c.top,canvasOffsetLeft:c.left,elRect:o,canvasOffset:c,canvasRect:P,targetWidth:m,targetHeight:h};return B&&this.em.trigger(B,Rt),Rt},r.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var n=0,o=0,c=e.subWinOffset,h=t.target.ownerDocument,m=h.defaultView||h.parentWindow,y=m.frameElement,C=c?m.pageYOffset:0,P=c?m.pageXOffset:0;if(y){var N=y.getBoundingClientRect();n=N.top||0,o=N.left||0}return{y:t.clientY+n-C,x:t.clientX+o-P}},r.prototype.getMouseRelativeCanvas=function(t,e){var n,o=this.getZoomDecimal(),c=(n=this.getCanvasView().getPosition(e))!==null&&n!==void 0?n:{},h=c.top,m=h===void 0?0:h,y=c.left,C=y===void 0?0:y;return{y:t.clientY*o+m,x:t.clientX*o+C}},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),n=Ss(["body"],this.config.notTextable,!0),o=e&&document.activeElement===e,c=o?t&&t.activeElement:document.activeElement;return c&&!n.some(function(h){return c.matches(h)})},r.prototype.scrollTo=function(t,e){e===void 0&&(e={});var n=(0,s.getElement)(t),o=n&&(0,s.getViewEl)(n);o&&o.scrollIntoView(e)},r.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},r.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},r.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(t,e,n){var o;n===void 0&&(n={});var c=t||t===0,h=e||e===0,m={x:this.canvas.get("x"),y:this.canvas.get("y")};if(c&&(m.x=parseFloat("".concat(t))),h&&(m.y=parseFloat("".concat(e))),n.toWorld){var y=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();y&&(c&&(m.x=m.x-y.x),h&&(m.y=m.y-y.y))}return this.canvas.set(m),this},r.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,n=t.y;return{x:e,y:n}},r.prototype.getPointer=function(t){var e=this.canvas.attributes,n=e.pointer,o=e.pointerScreen;return t?o:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},r.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},r.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},r.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new ct(this,zo({},t)),e)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(t,e){var n;e===void 0&&(e={});var o=t,c=this.getSpots(o);if(c.length){var h=c[0];return h.set(o),h}var m=o.componentView||((n=o.component)===null||n===void 0?void 0:n.view),y=new ln.Z(this,zo(zo({},o),{id:o.id||"cs_".concat(o.type,"_").concat(m==null?void 0:m.cid),type:o.type||""}));return this.spots.add(y,e),y},r.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},r.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,i.isArray)(t)?t:this.getSpots(t),n=this.spots.remove(e);return n},r.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},r.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(n){return t[n]={}})},r}(U);const Ui=Os,Va={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var yr="text/html",mi=yr;const xu=function(l,r){r===void 0&&(r={});var t=new DOMParser,e=r.htmlType||mi,n=e===yr,o=n?l:"<div>".concat(l,"</div>"),c=t.parseFromString(o,e),h;if(n){var m=c.head,y=c.body,C=m.querySelectorAll("script");(0,i.each)(C,function(N){return y.appendChild(N)});var P=[];(0,i.each)(m.children,function(N){return P.push(N)}),(0,i.each)(P,function(N,B){return y.insertBefore(N,y.children[B])}),h=y}else h=c.firstChild;return h};var io=function(){return io=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},io.apply(this,arguments)},ao="data-gjs-",yl="parse:html",Su=function(l,r){return r===void 0&&(r={}),{compTypes:"",modelAttrStart:ao,getPropAttribute:function(t,e){var n=t.replace(this.modelAttrStart,""),o=(e==null?void 0:e.length)||0,c=e==null?void 0:e.substring(0,1),h=e==null?void 0:e.substring(o-1),m=e==="true"?!0:e==="false"?!1:e;try{m=c=="{"&&h=="}"||c=="["&&h=="]"?JSON.parse(m):m}catch{}return{name:n,value:m}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var n={},o={};return(0,i.each)(t,function(c,h){if(h.indexOf(e.modelAttrStart)===0){var m=e.getPropAttribute(h,c);n[m.name]=m.value}else o[h]=c}),{props:n,attrs:o}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var n=t.indexOf("/*"),o=t.indexOf("*/")+2;t=t.replace(t.slice(n,o),"")}for(var c=t.split(";"),h=0,m=c.length;h<m;h++){var y=c[h].trim();if(y){var C=y.split(":"),P=C[0].trim(),N=C.slice(1).join(":").trim();e[P]?((0,i.isArray)(e[P])||(e[P]=[e[P]]),e[P].push(N)):e[P]=N}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),o=0,c=n.length;o<c;o++){var h=n[o].trim();h&&e.push(h)}return e},parseNode:function(t,e){e===void 0&&(e={});for(var n=[],o=t.childNodes,c=0,h=o.length;c<h;c++){var m=o[c],y=m.attributes||[],C=y.length,P=n[n.length-1],N=m.childNodes.length,B=this.compTypes,G={};if(B){var ut="",ft=m.getAttribute&&m.getAttribute("".concat(this.modelAttrStart,"type"));if(ft)G={type:ft};else{for(var Ct=0;Ct<B.length;Ct++){var Rt=B[Ct];if(ut=Rt.model.isComponent(m,e),ut){typeof ut!="object"&&(ut={type:Rt.id});break}}G=ut}}if(!G.tagName){var It=m.tagName||"",ne=m.namespaceURI||"";G.tagName=It&&ne==="http://www.w3.org/1999/xhtml"?It.toLowerCase():It}C&&(G.attributes={});for(var de=0;de<C;de++){var Pe=y[de].nodeName,He=y[de].nodeValue;if(Pe=="style")G.style=this.parseStyle(He);else if(Pe=="class")G.classes=this.parseClass(He);else{if(Pe=="contenteditable")continue;if(Pe.indexOf(this.modelAttrStart)===0){var ae=this.getPropAttribute(Pe,He);G[ae.name]=ae.value}else He===""&&m[Pe]===!0&&(He=!0),G.attributes[Pe]=He}}if(N&&!G.components){var Re=m.childNodes[0];N===1&&Re.nodeType===3?(!G.type&&(G.type="text"),G.components={type:"textnode",content:Re.nodeValue}):G.components=this.parseNode(m,io(io({},e),{inSvg:e.inSvg||G.type==="svg"}))}if(G.type=="textnode"){if(P&&P.type=="textnode"){P.content+=G.content;continue}if(!e.keepEmptyTextNodes){var tn=m.nodeValue;if(tn!=" "&&!tn.trim())continue}}!N&&"".concat(m.outerHTML).slice(-2)==="/>"&&(G.void=!0);var xr=G.components;if(!G.type&&xr){for(var ue=1,Mr=0,ba=0;ba<xr.length;ba++){var Ca=xr[ba],xa=Ca.type;if(["text","textnode"].indexOf(xa)<0&&r.textTags.indexOf(Ca.tagName)<0){ue=0;break}xa=="textnode"&&(Mr=1)}ue&&Mr&&(G.type="text")}!G.tagName&&G.type!="textnode"||n.push(G)}return n},parse:function(t,e,n){var o;n===void 0&&(n={});var c=(l==null?void 0:l.get("Config"))||{},h={html:[]},m=io(io({},r),n),y=io(io(io({},r.optionsHtml),{htmlType:((o=r.optionsHtml)===null||o===void 0?void 0:o.htmlType)||r.htmlType}),n),C=(0,i.isFunction)(m.parserHtml)?m.parserHtml(t,y):xu(t,y),P=C.querySelectorAll("script"),N=P.length,B=(0,i.isUndefined)(c.allowScripts)?y.allowScripts:c.allowScripts;if(!B)for(;N--;)P[N].parentNode.removeChild(P[N]);if(y.allowUnsafeAttr||this.__clearUnsafeAttr(C),e){for(var G=C.querySelectorAll("style"),ut=G.length,ft="";ut--;)ft=G[ut].innerHTML+ft,G[ut].parentNode.removeChild(G[ut]);ft&&(h.css=e.parse(ft))}l&&l.trigger("".concat(yl,":root"),{input:t,root:C});var Ct=this.parseNode(C,m),Rt=Ct.length===1&&!m.returnArray?Ct[0]:Ct;return h.html=Rt,l&&l.trigger(yl,{input:t,output:h}),h},__clearUnsafeAttr:function(t){var e=this,n=t.attributes||[],o=t.childNodes||[],c=[];(0,i.each)(n,function(h){var m=h.nodeName||"";m.indexOf("on")===0&&c.push(m)}),c.map(function(h){return t.removeAttribute(h)}),(0,i.each)(o,function(h){return e.__clearUnsafeAttr(h)})}}};const Wi=Su;var $i=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Po=function(){return Po=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Po.apply(this,arguments)},Ou=Wi(),Ts=function(l){return(0,i.isArray)(l)?l[l.length-1]:l},wl=function(l){$i(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.parseStyle=function(t){return Ou.parseStyle(t)},r.prototype.extendStyle=function(t){return Po(Po({},this.getStyle()),t)},r.prototype.getStyle=function(t){var e=this.get("style")||{},n=Po({},e);return t&&(0,i.isString)(t)?n[t]:n},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,i.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var c=Po({},t),h=Po({},c);(0,i.keys)(h).forEach(function(y){h[y]===""&&delete h[y]}),this.set("style",h,e);var m=(0,s.shallowDiff)(o,c);return delete m.__p,(0,i.keys)(m).forEach(function(y){var C=n.em;e.noEvent||(n.trigger("change:style:".concat(y)),C&&(C.trigger("styleable:change",n,y,e),C.trigger("styleable:change:".concat(y),n,y,e)))}),c},r.prototype.addStyle=function(t,e,n){var o;e===void 0&&(e=""),n===void 0&&(n={}),typeof t=="string"?t=(o={},o[t]=e,o):n=e||{},t=this.extendStyle(t),this.setStyle(t,n)},r.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},r.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],n=this.getStyle(t),o=t.important,c=function(m){var y=(0,i.isArray)(o)?o.indexOf(m)>=0:o,C=m.substring(0,2),P=C==="__";if(P)return"continue";var N=n[m],B=(0,i.isArray)(N)?N:[N];B.forEach(function(G){var ut="".concat(G).concat(y?" !important":"");ut&&e.push("".concat(m,":").concat(ut,";"))})};for(var h in n)c(h);return e.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},r}(O.Hn);const Ra=wl;var Es=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),so=function(){return so=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},so.apply(this,arguments)},Ki=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Gi=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},lo=function(l,r){if(r===void 0&&(r=[]),!l)return[];var t=(0,i.isArray)(l)||(0,i.isFunction)(l.map)?l:[l];return t.map(function(e){r.push(e.getId()),lo(e.components().models,r)}),r},Yi=function(l,r,t){r===void 0&&(r={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,n=(0,i.isArray)(l)?l:[l];return n.map(function(o){var c=o.attributes,h=c===void 0?{}:c,m=o.components,y=o.tagName,C=h.id;h.draggable;var P=Ki(h,["id","draggable"]),N=o;if(C&&(e[C]?(e[C].push(N),C=ir.getNewId(r),N.attributes.id=C):(e[C]=[],r[C]&&(N=r[C],y&&N.set({tagName:y},so(so({},t),{silent:!0})),(0,i.keys)(P).length&&N.addAttributes(P,so({},t))))),m){var B=Yi(m,r);if((0,i.isFunction)(N.components)){var G=N.components();G.length>0&&G.reset(B,t)}else N.components=B}return N})},Fa=function(l){Es(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.opt=e,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var n=e.em,o=e.config;this.config=o,this.em=n,this.domc=e.domc||(n==null?void 0:n.Components)},r.prototype.resetChildren=function(t,e){var n=this;e===void 0&&(e={});var o=this,c=e.previousModels||[],h=c.filter(function(C){return!t.get(C.cid)}),m=lo(t),y=lo(c).filter(function(C){return m.indexOf(C)>=0});e.keepIds=(e.keepIds||[]).concat(y),h.forEach(function(C){return n.removeChildren(C,o,e)}),t.each(function(C){return n.onAdd(C)})},r.prototype.resetFromString=function(t,e){var n,o;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=lo(this);var c=this,h=c.domc,m=c.em,y=c.parent,C=m==null?void 0:m.Css,P=(h==null?void 0:h.allById())||{},N=this.parseString(t,e),B=Yi(N,P,e),G=e.visitedCmps,ut=G===void 0?{}:G;Object.keys(ut).forEach(function(ft){var Ct=ut[ft];if(Ct.length){var Rt=(C==null?void 0:C.getRules("#".concat(ft)))||[];Rt.length&&Ct.forEach(function(It){Rt.forEach(function(ne){var de=ne.clone();de.set("selectors",["#".concat(It.attributes.id)]),C.getAll().add(de)})})}}),this.reset(B,e),m==null||m.trigger("component:content",y,e,t),(o=(n=y).__checkInnerChilds)===null||o===void 0||o.call(n)},r.prototype.removeChildren=function(t,e,n){var o=this;if(n===void 0&&(n={}),!!t){var c=this,h=c.domc,m=c.em,y=n.temporary||n.fromUndo;if(t.prevColl=this,!y){var C=t.getId(),P=m.Selectors.getAll(),N=m.Css.getAll(),B=(n.keepIds||[]).indexOf(C)<0,G=h?h.allById():{};delete G[C];var ut=B?N.remove(N.filter(function(Rt){return Rt.getSelectors().getFullString()==="#".concat(C)}),n):[];P.remove(ut.map(function(Rt){return Rt.getSelectors().at(0)})),t.opt.temporary||(m.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),m.trigger("component:remove",t));var ft=t.components();ft.forEach(function(Rt){return o.removeChildren(Rt,e,n)})}var Ct=t.components();m.stopListening(Ct),m.stopListening(t),m.stopListening(t.get("classes")),t.__postRemove()}},r.prototype.model=function(t,e){var n=e.collection.opt,o=n.em,c,h=o.Components.componentTypes;e.em=o,e.config=n.config,e.componentTypes=h,e.domc=n.domc;for(var m=0;m<h.length;m++){var y=h[m].id;if(y==t.type){c=h[m].model;break}}return c||(c=h[h.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new c(t,e)},r.prototype.parseString=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.domc,h=o.Css,m=o.Parser.parseHtml(t);if(ir.checkId(m.html,m.css,c.componentsById,e),m.css&&h&&!e.temporary){e.at;var y=Ki(e,["at"]);h.addCollection(m.css,so(so({},y),{extend:1}))}return m.html},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={}),e.keepIds=Gi(Gi([],e.keepIds||[],!0),lo(e.previousModels),!0),(0,i.isString)(t)?t=this.parseString(t,e):(0,i.isArray)(t)&&(t=Gi([],t,!0),t.forEach(function(h,m){if((0,i.isString)(h)){var y=n.parseString(h,e);t[m]=(0,i.isArray)(y)&&!y.length?null:y}}));var o=(0,i.isArray)(t);t=(o?t:[t]).filter(Boolean).map(function(h){return n.processDef(h)}),t=o?(0,i.flatten)(t,1):t[0];var c=O.FE.prototype.add.apply(this,[t,e]);return this.__firstAdd=c,c},r.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,n=e.em,o=e.config,c=o===void 0?{}:o,h=c.processor,m=t;if(h){m=so({},m);var y=h(m);y&&((0,i.each)(m,function(ft,Ct){return delete m[Ct]}),(0,i.extend)(m,y))}if(m.$$typeof&&typeof m.props=="object"){m=so({},m),m.props=so({},m.props);var C=n.Components,P=n.Parser,N=P.parserHtml;(0,i.each)(m,function(ft,Ct){(0,i.includes)(["props","type"],Ct)||delete m[Ct]});var B=m.props,G=B.children;delete B.children,delete m.props;var ut=N.splitPropsFromAttr(B);m.attributes=ut.attrs,G&&(m.components=G),m.type?C.getType(m.type)||(m.tagName=m.type,delete m.type):m.type="textnode",(0,i.extend)(m,ut.props)}return m},r.prototype.onAdd=function(t,e,n){n===void 0&&(n={});var o=this,c=o.domc,h=o.em,m=t.getStyle(),y=h&&h.getConfig().avoidInlineStyle;if(c&&c.Component.ensureInList(t),!(0,i.isEmpty)(m)&&!y&&h&&h.get&&h.getConfig().forceClass&&!n.temporary){var C=t.cid;h.Css.setClassRule(C,m),t.setStyle({}),t.addClass(C)}t.__postAdd({recursive:!0})},r}(O.FE);const qi=Fa;var Xi=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ri=1,Ir=2,uo=function(l){Xi(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t,e)||this,o=e.config,c=o===void 0?{}:o,h=n.get("name"),m=n.get("label");h?m||n.set("label",h):n.set("name",m);var y=n.get("name"),C=c.escapeName,P=C?C(y):r.escapeName(y);return n.set("name",P),n.em=e.em,n}return r.prototype.defaults=function(){return{name:"",label:"",type:ri,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===Ir},r.prototype.isClass=function(){return this.get("type")===ri},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,n=this.get("name"),o="";switch(this.get("type")){case ri:o=".";break;case Ir:o="#";break}return o+(e?e(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getLabel=function(){return this.get("label")},r.prototype.setLabel=function(t){return this.set("label",t)},r.prototype.getActive=function(){return this.get("active")},r.prototype.setActive=function(t){return this.set("active",t)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,n=O.Hn.prototype.toJSON.call(this,[t]),o=(0,i.result)(this,"defaults");if(e&&e.getConfig().avoidDefaults){(0,i.forEach)(o,function(h,m){n[m]===h&&delete n[m]}),n.label===n.name&&delete n.label;var c=(0,i.keys)(n).length;c===1&&n.name&&(n=n.name),c===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w-\:@]+)/gi,"-")},r.TYPE_CLASS=ri,r.TYPE_ID=Ir,r}(O.Hn);const wn=uo;uo.prototype.idAttribute="name";var Zi=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ha=function(l,r){return l.reduce(function(t,e,n){return t.concat(Ha(l.slice(n+1),"".concat(r).concat(e)))},[r])},co=function(l){Zi(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||wn.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,i.filter)(this.models,function(t){return t.get("active")&&!t.get("private")})},r.prototype.getValid=function(t){var e=t===void 0?{}:t,n=e.noDisabled;return(0,i.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return n?o.get("active"):1})},r.prototype.getFullString=function(t,e){e===void 0&&(e={});var n=[],o=t||this;return o.forEach(function(c){return n.push(c.getFullName(e))}),e.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,n=t.array,o=[],c=this.map(function(h){return h.getFullName(t)}).sort();return e?c.forEach(function(h,m){o=o.concat(Ha(c.slice(m+1),h))}):o=c,n?o:e?o.join(","):o.join("")},r}(O.FE);const ko=co;co.prototype.model=wn;var fo=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uo=function(){return Uo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Uo.apply(this,arguments)},Fn=function(l){fo(r,l);function r(t,e){var n=l.call(this,t)||this,o=n.attributes,c=o.target,h=o.name;return!n.get("id")&&n.set("id",h),c&&n.setTarget(c),n.em=e,n}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",changeProp:!1,options:[]}},r.prototype.setTarget=function(t){if(t){var e=this.attributes,n=e.name,o=e.changeProp,c=e.value;this.target=t,this.unset("target");var h=o?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,h,this.targetUpdated);var m=c||this.getValue();!(0,i.isUndefined)(m)&&this.set({value:m},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,o=n===void 0?!0:n,c=this.getId(),h=this.get("label")||this.getName();return o&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(c)))||h},r.prototype.getValue=function(){return this.getTargetValue()},r.prototype.setValue=function(t,e){var n=this,o;e===void 0&&(e={});var c={},h=this.get("setValue");if(h){h({value:t,editor:(o=this.em)===null||o===void 0?void 0:o.getEditor(),trait:this,component:this.target,partial:!!e.partial,emitUpdate:function(){return n.targetUpdated()}});return}e.partial&&(c.avoidStore=!0),this.setTargetValue(t,c),e.partial===!1&&(this.setTargetValue(""),this.setTargetValue(t))},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(t){var e=this,n=(0,s.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]},r.prototype.getOptionId=function(t){return t.id||t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var o=e.locale,c=o===void 0?!0:o,h=(0,i.isString)(t)?this.getOption(t):t,m=this.getOptionId(h),y=h.label||h.name||m,C=this.getName();return c&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(C,".").concat(m)))||y},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var t,e=this.getTargetValue();this.set({value:e},{fromTarget:1}),(t=this.em)===null||t===void 0||t.trigger("trait:update",{trait:this,component:this.target})},r.prototype.getTargetValue=function(){var t,e=this.getName(),n=this.target,o=this.get("getValue"),c;return o?c=o({editor:(t=this.em)===null||t===void 0?void 0:t.getEditor(),trait:this,component:n}):this.get("changeProp")?c=n.get(e):c=n.getAttributes()[e],(0,i.isUndefined)(c)?"":c},r.prototype.setTargetValue=function(t,e){var n;e===void 0&&(e={});var o=this,c=o.target,h=o.attributes,m=this.getName();if(!(0,i.isUndefined)(t)){var y=t;if(t==="false"?y=!1:t==="true"&&(y=!0),this.getType()==="checkbox"){var C=h.valueTrue,P=h.valueFalse;y&&!(0,i.isUndefined)(C)&&(y=C),!y&&!(0,i.isUndefined)(P)&&(y=P)}this.get("changeProp")?c.set(m,y,e):c.addAttributes((n={},n[m]=y,n),e)}},r.prototype.setValueFromInput=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var o={value:t};this.set(o,Uo(Uo({},n),{avoidStore:1})),e&&(this.set("value","",n),this.set(o,n))},r.prototype.getInitValue=function(){var t=this.target,e=this.getName(),n;if(t){var o=t.get("attributes");n=this.get("changeProp")?t.get(e):o[e]}return n||this.get("value")||this.get("default")},r}(O.Hn);const oi=Fn;var Ji=function(){function l(r){r===void 0&&(r={}),this.config=r}return l.prototype.build=function(r,t){return(0,i.isString)(r)?this.buildFromString(r,t):new oi(r,t)},l.prototype.buildFromString=function(r,t){var e={name:r,type:"text"};switch(r){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new oi(e,t)},l}();const yi=Ji;var _l=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tu=function(l){_l(r,l);function r(t,e){var n,o=l.call(this,t)||this;o.em=e.em,o.listenTo(o,"add",o.handleAdd),o.listenTo(o,"reset",o.handleReset);var c=(n=o.em)===null||n===void 0?void 0:n.Traits,h=c==null?void 0:c.getConfig();return o.tf=new yi(h),o}return r.prototype.handleReset=function(t,e){var n=e===void 0?{}:e,o=n.previousModels,c=o===void 0?[]:o;c.forEach(function(h){return h.trigger("remove")})},r.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e)},r.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},r.prototype.add=function(t,e){if(t!=null){var n=this,o=n.target,c=n.em;if((0,i.isArray)(t)){for(var h=[],m=0,y=t.length;m<y;m++){var C=t[m];h[m]=C instanceof oi?C:this.tf.build(C,c),h[m].setTarget(o)}return l.prototype.add.call(this,h,e)}var P=t instanceof oi?t:this.tf.build(t,c);return P.setTarget(o),l.prototype.add.call(this,P,e)}},r}(O.FE);const Eu=Tu;var bl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$e=function(){return $e=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},$e.apply(this,arguments)},Cl=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Er=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Ba=function(l){return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Qi=function(l){return!!(l!=null&&l.getConfig().avoidInlineStyle)},wi="component:drag",wr="__symbols",qr="__symbol",za="__symbol_ovrd",_i="component:update",Ao="".concat(_i,"-inside"),Pu=function(l){bl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null},t[qr]=0,t[wr]=0,t[za]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.updated=function(t,e,n){},r.prototype.removed=function(){},r.prototype.initialize=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,i.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var o=e.em,c=this.parent(),h=c==null?void 0:c.attributes,m=this.get("propagate");if(m&&this.set("propagate",(0,i.isArray)(m)?m:[m]),h&&h.propagate&&!m){var y={},C=h.propagate;C.forEach(function(ut){return y[ut]=c.get(ut)}),y.propagate=C,this.set($e($e({},y),t))}if(e&&e.config&&e.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),e.em=o,this.opt=e,this.em=o,this.frame=e.frame,this.config=e.config||{},this.set("attributes",$e($e({},(0,i.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=r.createId(this,e),this.initClasses(),this.initComponents(),this.initTraits(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(Ao,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(ut){var ft="add remove ".concat(ut!=="components"?"change":"");n.listenTo(n.get(ut),ft.trim(),function(){for(var Ct=[],Rt=0;Rt<arguments.length;Rt++)Ct[Rt]=arguments[Rt];return n.emitUpdate.apply(n,Er([ut],Ct,!1))})}),!e.temporary){var P=o&&o.Css,N=this.attributes,B=N.styles,G=N.type;B&&P&&P.addCollection(B,{avoidUpdateStyle:!0},{group:"cmp:".concat(G)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),o&&o.trigger("component:create",this)}},r.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,n=e==null?void 0:e.UndoManager,o=this.components();n&&!this.__hasUm&&(n.add(o),n.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(c){return c.__postAdd(t)})},r.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.get("UndoManager");e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(t,e){var n=this,o=this.changedAttributes()||{};(0,i.keys)(o).forEach(function(c){return n.emitUpdate(c)}),["status","open","toolbar","traits"].forEach(function(c){return delete o[c]}),(0,s.isEmptyObj)(o)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:o,options:e}))},r.prototype.__changesUp=function(t){var e=this,n=e.em,o=e.frame;[o,n].forEach(function(c){return c&&c.changesUp(t)})},r.prototype.__propSelfToParent=function(t){this.trigger(_i,t),this.__propToParent(t)},r.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(Ao,t)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.is=function(t){return this.get("type")==t},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.find=function(t){var e,n=[],o=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return o==null||o.each(function(c){var h=o.eq(c),m=h.data("model");m&&n.push(m)}),n},r.prototype.findType=function(t){var e=[],n=function(o){return o.forEach(function(c){c.is(t)&&e.push(c),n(c.components())})};return n(this.components()),e},r.prototype.closest=function(t){var e,n=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return n!=null&&n.length?n.data("model"):void 0},r.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},r.prototype.contains=function(t){var e=!1;if(!t)return e;var n=function(o){!e&&o.forEach(function(c){c===t&&(e=!0),!e&&n(c.components())})};return n(this.components()),e},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(t){var e=this.collection,n=e.indexOf(this);return e.remove(this),e.add(t,{at:n})},r.prototype.attrUpdated=function(t,e,n){var o=this;n===void 0&&(n={});var c=this.get("attributes"),h=c.class;h&&this.setClass(h),delete c.class;var m=c.style;m&&this.setStyle(m),delete c.style;var y=$e({},this.previous("attributes")),C=(0,s.shallowDiff)(y,this.get("attributes"));(0,i.keys)(C).forEach(function(P){return o.trigger("change:attributes:".concat(P),o,C[P],n)})},r.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",$e({},t),e),this},r.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes($e($e({},this.getAttributes({noClass:!0})),t),e)},r.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=Array.isArray(t)?t:[t],o=this.getAttributes();return n.map(function(c){return delete o[c]}),this.setAttributes(o,e)},r.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=this.em,o=(0,i.isString)(t)?t:"",c=o?e:t;if(Qi(n)&&!c.inline){var h=n.get("state"),m=n.Css,y=m.getIdRule(this.getId(),$e({state:h},c));if(this.rule=y,y)return y.getStyle(o)}return l.prototype.getStyle.call(this,o)},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={});var o=this,c=o.opt,h=o.em;if(Qi(h)&&!c.temporary&&!e.inline){var m=this.get("style")||{};t=(0,i.isString)(t)?this.parseStyle(t):t,t=$e($e({},t),m);var y=h.get("state"),C=h.Css,P=this.getStyle(e);this.rule=C.setIdRule(this.getId(),t,$e({state:y},e));var N=(0,s.shallowDiff)(P,t);this.set("style","",{silent:!0}),(0,i.keys)(N).forEach(function(B){return n.trigger("change:style:".concat(B))})}else t=l.prototype.setStyle.apply(this,arguments);return t},r.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,n=[],o=$e({},this.get("attributes")),c=e==null?void 0:e.Selectors,h=this.getId();if(t.noClass?delete o.class:(this.classes.forEach(function(C){return n.push((0,i.isString)(C)?C:C.get("name"))}),n.length&&(o.class=n.join(" "))),!t.noStyle){var m=this.get("style");(0,s.isObject)(m)&&!(0,s.isEmptyObj)(m)&&(o.style=this.styleToString({inline:1}))}if(!(0,i.has)(o,"id")){var y=!1;(Qi(e)||!(0,i.isEmpty)(this.getStyle()))&&(y=!!(c!=null&&c.get(h,c.Selector.TYPE_ID))),(this.__getSymbol()||this.__getSymbols())&&(y=!0),y&&(o.id=h)}return o},r.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},r.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},r.prototype.removeClass=function(t){var e=[];t=(0,i.isArray)(t)?t:[t];var n=this.classes,o=wn.TYPE_CLASS;return t.forEach(function(c){var h=c.split(" ");h.forEach(function(m){var y=n.where({name:m,type:o})[0];y&&e.push(n.remove(y))})}),e},r.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},r.prototype.__logSymbol=function(t,e,n){n===void 0&&(n={});var o=this.__getSymbol(),c=this.__getSymbols();!o&&!c||this.em.log(t,{model:this,toUp:e,context:"symbols",opts:n})},r.prototype.__initSymb=function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=!0)},r.prototype.__isSymbol=function(){return(0,i.isArray)(this.get(wr))},r.prototype.__isSymbolOrInst=function(){return!!(this.__isSymbol()||this.get(qr))},r.prototype.__isSymbolTop=function(){var t=this.parent(),e=this.__isSymbolOrInst();return e&&(!t||t&&!t.__isSymbol()&&!t.__getSymbol())},r.prototype.__isSymbolNested=function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var t=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),e=this.__getSymbTop(),n=e.__isSymbol()?e:e.__getSymbol();return n!==t},r.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},r.prototype.__getSymbol=function(){var t=this.get(qr);if(t&&(0,i.isString)(t)){var e=this.__getAllById()[t];e?(t=e,this.set(qr,e)):t=0}return t},r.prototype.__getSymbols=function(){var t=this,e=this.get(wr);return e&&(0,i.isArray)(e)&&(e.forEach(function(n,o){n&&(0,i.isString)(n)&&(e[o]=t.__getAllById()[n])}),e=e.filter(function(n){return n&&!(0,i.isString)(n)})),e},r.prototype.__isSymbOvrd=function(t){t===void 0&&(t="");var e=this.get(za),n=t.split(":")[0],o=t!==n?[t,n]:[t];return e===!0||(0,i.isArray)(e)&&o.some(function(c){return e.indexOf(c)>=0})},r.prototype.__getSymbToUp=function(t){var e=this;t===void 0&&(t={});var n=[],o=t.changed;if(t.fromInstance||t.noPropagate||t.fromUndo||o&&this.__isSymbOvrd(o))return n;var c=this.__getSymbols()||[],h=this.__getSymbol(),m=h?Er([h],h.__getSymbols()||[],!0):c;return n=m.filter(function(y){return y!==e}).filter(function(y){return!(o&&y.__isSymbOvrd(o))}),n},r.prototype.__getSymbTop=function(t){for(var e=this,n=this.parent(t);n&&(n.__isSymbol()||n.__getSymbol());)e=n,n=n.parent(t);return e},r.prototype.__upSymbProps=function(t,e){var n=this;e===void 0&&(e={});var o=this.changedAttributes()||{},c=o.attributes||{};if(delete o.status,delete o.open,delete o[wr],delete o[qr],delete o[za],delete o.attributes,delete c.id,(0,s.isEmptyObj)(c)||(o.attributes=c),!(0,s.isEmptyObj)(o)){var h=this.__getSymbToUp(e);(0,i.keys)(o).map(function(m){n.__isSymbOvrd(m)&&delete o[m]}),this.__logSymbol("props",h,{opts:e,changed:o}),h.forEach(function(m){var y=$e({},o);(0,i.keys)(y).map(function(C){m.__isSymbOvrd(C)&&delete y[C]}),m.set(y,$e({fromInstance:n},e))})}},r.prototype.__upSymbCls=function(t,e,n){var o=this;n===void 0&&(n={});var c=this.__getSymbToUp(n);this.__logSymbol("classes",c,{opts:n}),c.forEach(function(h){h.set("classes",o.get("classes"),{fromInstance:o})}),this.__changesUp(n)},r.prototype.__upSymbComps=function(t,e,n){var o=this,c=n||e||{},h=c.fromInstance,m=c.fromUndo,y={fromInstance:h,fromUndo:m},C=t.opt.temporary;if(n)if(n.add){var B=[],G=!!this.__getSymbols(),P=this.__getSymbToUp($e($e({},y),{changed:"components:add"}));if(P.length){var ut=t.__getSymbol();B=(ut?ut.__getSymbols():t.__getSymbols())||[],B=Er([],B,!0),B.push(ut||t)}!C&&this.__logSymbol("add",P,{opts:n,addedInstances:B.map(function(ae){return ae.cid}),added:t.cid}),P.forEach(function(ae){var Re=ae.__getSymbTop(),tn=B.filter(function(ue){var Mr=ue.__getSymbTop({prev:1});return Re&&Mr&&Mr===Re})[0],xr=tn||t.clone({symbol:!0,symbolInv:G});ae.append(xr,$e({fromInstance:o},n))})}else{var ft=t.__getSymbol();if(ft&&!n.temporary&&ft.set(wr,ft.__getSymbols().filter(function(He){return He!==t})),!t.__isSymbolTop()){var Ct="components:remove",Rt=n.index,It=t.parent(),ne=$e({fromInstance:t},n),de=t.__isSymbolNested(),Pe=function(ae){var Re=ae.parent();Re&&!Re.__isSymbOvrd(Ct)&&ae.remove(ne)},P=It!=null&&It.__isSymbOvrd(Ct)?[]:t.__getSymbToUp(y);de&&(P=It==null?void 0:It.__getSymbToUp($e($e({},y),{changed:Ct})),Pe=function(ae){var Re=ae.components().at(Rt);Re&&Re.remove($e({fromInstance:It},ne))}),!C&&this.__logSymbol("remove",P,{opts:n,removed:t.cid,isSymbNested:de}),P.forEach(Pe)}}else{var P=this.__getSymbToUp($e($e({},y),{changed:"components:reset"})),N=t.models;this.__logSymbol("reset",P,{components:N}),P.forEach(function(He){var ae=N.map(function(Re){return Re.clone({symbol:!0})});He.components().reset(ae,$e({fromInstance:o},e))})}this.__changesUp(c)},r.prototype.initClasses=function(t,e,n){n===void 0&&(n={});var o="change:classes",c=this.get("attributes")||{},h=c.class,m=Cl(c,["class"]),y=[this,o,this.initClasses],C=this.get("classes")||h||[],P=(0,i.isString)(C)?C.split(" "):C;this.stopListening.apply(this,y);var N=this.normalizeClasses(P),B=new ko([]);return this.set("classes",B,n),B.add(N),B.on("add remove reset",this.__upSymbCls),h&&N.length&&this.set("attributes",m),this.listenTo.apply(this,y),this},r.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var n=new qi([],this.opt);n.parent=this;var o=this.get("components"),c=!this.opt.avoidChildren;return this.set("components",n),c&&o&&n.add((0,i.isFunction)(o)?o(this):o,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},r.prototype.initTraits=function(t){var e=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var o=$e({},this.get("attributes")),c=this.traits;return c.each(function(h){if(!h.get("changeProp")){var m=h.get("name"),y=h.getInitValue();m&&y&&(o[m]=y)}}),c.length&&this.set("attributes",o),this.on(n,this.initTraits),t&&e&&e.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],o=this.get(t)||[],c=n.map(function(m){return"change:".concat(m)}).join(" "),h=o.map(function(m){return"change:".concat(m)}).join(" ");c&&this.off(c,this.__scriptPropsChange),h&&this.on(h,this.__scriptPropsChange),this.on.apply(this,e)}},r.prototype.__scriptPropsChange=function(t,e,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},r.prototype.append=function(t,e){e===void 0&&(e={});var n=(0,i.isArray)(t)?Er([],t,!0):[t],o=n.map(function(h){return(0,i.isString)(h)||h.collection&&h.collection.remove(h,{temporary:!0}),h}),c=this.components().add(o,e);return(0,i.isArray)(c)?c:[c]},r.prototype.components=function(t,e){e===void 0&&(e={});var n=this.get("components");return(0,i.isUndefined)(t)?n:(n.reset(void 0,e),t?this.append(t,e):[])},r.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},r.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},r.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},r.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},r.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var t=this.em,e=this,n=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var o=[];e.collection&&o.push({label:t.getIcon("arrowUp"),command:function(c){return c.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&o.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",o)}},r.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var n=t||this.traits;if(!(n instanceof Eu)){n=(0,i.isFunction)(n)?n(this):n;var o=new Eu([],this.opt);o.setTarget(this),n.length&&(n.forEach(function(c){return c.attributes&&delete c.attributes.value}),o.add(n)),this.set({traits:o},e)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Er([],this.traits.models,!0)},r.prototype.setTraits=function(t){var e=(0,i.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},r.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},r.prototype.updateTrait=function(t,e){var n,o=this.getTrait(t);return o&&o.set(e),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},r.prototype.removeTrait=function(t){var e=this,n,o=(0,i.isArray)(t)?t:[t],c=o.map(function(y){return e.getTrait(y)}),h=this.traits,m=c.length?h.remove(c):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,i.isArray)(m)?m:[m]},r.prototype.addTrait=function(t,e){var n;e===void 0&&(e={}),this.__loadTraits();var o=this.traits.add(t,e);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,i.isArray)(o)?o:[o]},r.prototype.normalizeClasses=function(t){var e=[],n=this.em,o=n==null?void 0:n.Selectors;return o?t.models?Er([],t.models,!0):(t.forEach(function(c){return e.push(o.add(c))}),e):[]},r.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,n=$e({},this.attributes),o=$e({},this.opt),c=this.getId(),h=e==null?void 0:e.Css;n.attributes=$e({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.__isSymbolTop()&&(t.symbol=!0),this.get("components").each(function(G,ut){n.components[ut]=G.clone($e($e({},t),{_inner:1}))}),this.get("traits").each(function(G,ut){n.traits[ut]=G.clone()}),this.get("classes").each(function(G,ut){n.classes[ut]=G.get("name")}),n.status="",o.collection=null;var m=new this.constructor(n,o),y="#".concat(m.getId()),C=h?h.getRules("#".concat(c)):[];C.forEach(function(G){var ut=G.clone();ut.set("selectors",[y]),h.getAll().add(ut)}),m.set(wr,0);var P=this.__getSymbol(),N=this.__getSymbols();!t.symbol&&(P||N)?(m.set(qr,0),m.set(wr,0)):P?(P.set(wr,Er(Er([],P.__getSymbols(),!0),[m],!1)),m.__initSymb()):t.symbol&&(this.__isSymbol()?(this.set(wr,Er(Er([],N,!0),[m],!1)),m.set(qr,this),m.__initSymb()):t.symbolInv?(this.set(wr,[m]),m.set(qr,this),[this,m].map(function(G){return G.__initSymb()})):(m.set(wr,[this]),[this,m].map(function(G){return G.__initSymb()}),this.set(qr,m)));var B="component:clone";return e&&e.trigger(B,m),this.trigger(B,m),m},r.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,n=this.attributes,o=n.type,c=n.tagName,h=n.name,m=o||c,y=o?"":c,C="domComponents.names.",P=h&&(e==null?void 0:e.t("".concat(C).concat(h))),N=y&&(e==null?void 0:e.t("".concat(C).concat(y))),B=e&&(e.t("".concat(C).concat(o))||e.t("".concat(C).concat(c))),G=this.get("custom-name");return(t.noCustom?"":G)||P||h||N||(0,s.capitalize)(y)||B||(0,s.capitalize)(m)},r.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},r.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,n=[],o=t.tag,c=o||e.get("tagName"),h=e.get("void"),m=t.attributes,y=this.getAttrToHTML();if(delete t.tag,m&&((0,i.isFunction)(m)?y=m(e,y)||{}:(0,s.isObject)(m)&&(y=m)),t.withProps){var C=this.toJSON();(0,i.forEach)(C,function(Rt,It){var ne=["classes","attributes","components"];It[0]!=="_"&&ne.indexOf(It)<0&&(y["data-gjs-".concat(It)]=(0,i.isArray)(Rt)||(0,s.isObject)(Rt)?JSON.stringify(Rt):Rt)})}for(var P in y){var N=y[P];if(!(0,i.isUndefined)(N)&&N!==null)if((0,i.isBoolean)(N))N&&n.push(P);else{var B="";if(t.altQuoteAttr&&(0,i.isString)(N)&&N.indexOf('"')>=0)B="'".concat(N.replace(/'/g,"&apos;"),"'");else{var G=(0,i.isString)(N)?N.replace(/"/g,"&quot;"):N;B='"'.concat(G,'"')}n.push("".concat(P,"=").concat(B))}}var ut=n.length?" ".concat(n.join(" ")):"",ft=e.getInnerHTML(t),Ct="<".concat(c).concat(ut).concat(h?"/":"",">").concat(ft);return!h&&(Ct+="</".concat(c,">")),Ct},r.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},r.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(n){return n.toHTML(t)}).join(""):this.content},r.prototype.getAttrToHTML=function(){var t=this.getAttributes();return Qi(this.em)&&delete t.style,t},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=_.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,!t.fromUndo){var n=e[qr],o=e[wr];o&&(0,i.isArray)(o)&&(e[wr]=o.filter(function(c){return c}).map(function(c){return c.getId?c.getId():c})),n&&!(0,i.isString)(n)&&(e[qr]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},r.prototype.getChangedProps=function(t){var e=t||_.Model.prototype.toJSON.apply(this),n=(0,i.result)(this,"defaults");return(0,i.forEach)(n,function(o,c){["type"].indexOf(c)===-1&&e[c]===o&&delete e[c]}),(0,i.isEmpty)(e.type)&&delete e.type,(0,i.forEach)(["attributes","style"],function(o){(0,i.isEmpty)(n[o])&&(0,i.isEmpty)(e[o])&&delete e[o]}),(0,i.forEach)(["classes","components"],function(o){(!e[o]||(0,i.isEmpty)(n[o])&&!e[o].length)&&delete e[o]}),e},r.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},r.prototype.setId=function(t,e){var n=$e({},this.get("attributes"));return n.id=t,this.set("attributes",n,e),this},r.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},r.prototype.getView=function(t){var e=this,n=e.view,o=e.views,c=e.em,h=t||(c==null?void 0:c.getCurrentFrameModel());return h&&(n=o.filter(function(m){return m.frameView===h.view})[0]),n},r.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},r.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(n,o){return n[o]=t[o],n},{})},r.prototype.getScriptString=function(t){var e=this,n=t||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,i.isFunction)(n)){var o=n.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),n=o.trim()}var c=this.em.getConfig(),h=Ba(c.tagVarStart||"{[ "),m=Ba(c.tagVarEnd||" ]}"),y=new RegExp("".concat(h,"([\\w\\d-]*)").concat(m),"g");n=n.replace(y,function(C,P){e.scriptUpdated();var N=e.attributes[P]||"";return(0,i.isArray)(N)||typeof N=="object"?JSON.stringify(N):N})}return n},r.prototype.emitUpdate=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var c=this.em,h=_i+(t?":".concat(t):""),m=t&&this.get(t);t&&this.updated.apply(this,Er([t,m,t&&this.previous(t)],n,!1)),this.trigger.apply(this,Er([h],n,!1)),c&&c.trigger.apply(c,Er([h,this],n,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=m,e),options:n[2]||n[1]||{}})},r.prototype.onAll=function(t){return(0,i.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},r.prototype.forEachChild=function(t){(0,i.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},r.prototype.remove=function(t){var e=this;t===void 0&&(t={});var n=this.em,o=this.collection,c=function(){o&&o.remove(e,$e($e({},t),{action:"remove-component"})),o||(e.components("",t),e.components().removeChildren(e,void 0,t))},h=$e({},t);return[this,n].map(function(m){return m.trigger("component:remove:before",e,c,h)}),!h.abort&&c(),this},r.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var n=e.at,o=this.index(),c=t===this.parent(),h=o===n||o===n-1;(!c||!h)&&(c&&n&&n>o&&(e.at=n-1),this.remove({temporary:1}),t.append(this,e),this.emitUpdate())}return this},r.prototype.isInstanceOf=function(t){var e,n,o=(n=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||n===void 0?void 0:n.model;return o?this instanceof o:!1},r.prototype.isChildOf=function(t){for(var e=(0,i.isString)(t),n=this.parent();n;){if(e){if(n.isInstanceOf(t))return!0}else if(n===t)return!0;n=n.parent()}return!1},r.prototype.resetId=function(t){var e=this.em,n=this.getId();if(!n)return this;var o=r.createId(this);this.setId(o);var c=e==null?void 0:e.Css.getIdRule(n),h=c==null?void 0:c.get("selectors").at(0);return h==null||h.set("name",o),this},r.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,n=e.id,o=this.em,c=n||this.getId();return o==null?void 0:o.Css.getIdRule(c)},r.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},r.prototype._idUpdated=function(t,e,n){if(n===void 0&&(n={}),!n.idUpdate){var o=this.ccid,c=(this.get("attributes")||{}).id,h=(this.previous("attributes")||{}).id||o,m=r.getList(this);if(m[c]||!c&&h)return this.setId(h,{idUpdate:!0});delete m[h],m[c]=this,this.ccid=c;var y=this._getStyleSelector({id:h});y&&y.set({name:c,label:c})}},r.getDefaults=function(){return(0,i.result)(this.prototype,"defaults")},r.isComponent=function(t){return{tagName:(0,s.toLowerCase)(t.tagName)}},r.ensureInList=function(t){var e=r.getList(t),n=t.getId(),o=e[n];if(!o)e[n]=t;else if(o!==t){var c=r.getIncrementId(n,e);t.setId(c),e[c]=t}t.components().forEach(function(h){return r.ensureInList(h)})},r.createId=function(t,e){e===void 0&&(e={});var n=r.getList(t),o=e.idMap,c=o===void 0?{}:o,h=t.get("attributes").id,m;return h?(m=r.getIncrementId(h,n,e),t.setId(m),h!==m&&(c[h]=m)):m=r.getNewId(n),n[m]=t,m},r.getNewId=function(t){for(var e=Object.keys(t).length,n=e.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-n),c="i".concat(o);t[c];)c=r.getNewId(t);return c},r.getIncrementId=function(t,e,n){n===void 0&&(n={});var o=n.keepIds,c=o===void 0?[]:o,h=1,m=t;if(c.indexOf(t)<0)for(;e[m];)h++,m="".concat(t,"-").concat(h);return m},r.getList=function(t){var e=t.opt,n=e===void 0?{}:e,o=n.domc,c=n.em,h=o||(c==null?void 0:c.Components);return h?h.componentsById:{}},r.checkId=function(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n={}),o===void 0&&(o={});var c=(0,i.isArray)(t)?t:[t],h=o.keepIds,m=h===void 0?[]:h;c.forEach(function(y){y.attributes;var C=y.attributes,P=C===void 0?{}:C,N=y.components,B=P.id;if(B&&n[B]&&m.indexOf(B)<0){var G=r.getIncrementId(B,n);P.id=G,(0,i.isArray)(e)&&e.forEach(function(ut){var ft=ut.selectors;ft.forEach(function(Ct,Rt){Ct==="#".concat(B)&&(ft[Rt]="#".concat(G))})})}N&&r.checkId(N,e,n,o)})},r}(Ra);const ir=Pu;var ta=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pr=function(){return Pr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Pr.apply(this,arguments)},Hn=function(l){ta(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Pr(Pr({},l.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},r.prototype.__escapeContent=function(t){return(0,s.escapeNodeContent)(t)},r.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(ir);const xl=Hn;var Sl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wo=function(){return Wo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Wo.apply(this,arguments)},ku=function(l){Sl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Wo({},l.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(t){var e;if(t.nodeType==8)return{tagName:"NULL",type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(xl);const ea=ku;var Au=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bi=function(){return bi=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},bi.apply(this,arguments)},ii="iframe",Mu=function(l){Au(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return bi(bi({},l.prototype.defaults),{type:ii,tagName:ii,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===ii},r}(ir);const Lu=Mu;var Ol=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),na=function(){return na=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},na.apply(this,arguments)},Ps='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Ci=function(l){Ol(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return na(na({},l.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(Ps,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(Ps,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e);var n=this.get("attributes").src;n&&(0,s.buildBase64UrlFromSvg)((0,i.result)(this,"defaults").src)!==n&&this.set("src",n,{silent:!0})},r.prototype.initToolbar=function(){l.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,n="image-editor";if(e.has(n)){for(var o=!1,c=this.get("toolbar"),h=0;h<c.length;h++)if(c[h].command==="image-editor"){o=!0;break}o||(c.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",c))}}},r.prototype.getAttrToHTML=function(){var t=l.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},r.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&e.substr(0,4)==="<svg"&&(n=(0,s.buildBase64UrlFromSvg)(e)),n},r.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,i.result)(this,"defaults").src;return t===e||t===(0,s.buildBase64UrlFromSvg)(e)},r.prototype.toJSON=function(t){var e=l.prototype.toJSON.call(this,t),n=e.attributes;return n&&e.src===n.src&&delete e.src,e},r.prototype.parseUri=function(t){var e={},n=function(o){o===void 0&&(o="");for(var c={},h=o.substring(1).split("&"),m=0;m<h.length;m++){var y=h[m].split("="),C=decodeURIComponent(y[0]);C&&(c[C]=decodeURIComponent(y[1]||""))}return c};if((0,s.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:n(e.search)}},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)==="img"},r}(ir);const po=Ci;var ra=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oa=function(){return oa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},oa.apply(this,arguments)},I=function(l){ra(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return oa(oa({},l.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e),this.__checkInnerChilds()},r.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,i.isFunction)(t)?this.forEachChild(function(n){t(n)&&e(n)}):this.forEachChild(e)}},r}(ir);const W=I;var pt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wt=function(){return wt=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},wt.apply(this,arguments)},Nt="label",kt=function(l){pt(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return wt(wt({},l.prototype.defaults),{type:Nt,tagName:Nt,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===Nt},r}(W);const Yt=kt;var fe=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ve=function(){return Ve=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ve.apply(this,arguments)},Me="link",gn=function(l){fe(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ve(Ve({},l.prototype.defaults),{type:Me,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){e===void 0&&(e={});var n;if((0,s.toLowerCase)(t.tagName)==="a"){var o=e.textTags||[];n={type:Me,editable:!1};var c=t.childNodes,h=c.length;h||delete n.editable,(0,i.forEach)(c,function(m){var y=m.tagName;(m.nodeType==3&&m.textContent.trim()!==""||y&&o.indexOf((0,s.toLowerCase)(y))>=0)&&delete n.editable})}return n},r}(W);const cr=gn;var Tl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ua=function(){return Ua=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ua.apply(this,arguments)},Xv=function(l){Tl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t=l.prototype.defaults;return Ua(Ua({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){this.get("src")?this.parseFromSrc():this.updateSrc(),l.prototype.initialize.call(this,t,e),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"";var o=this.get("mapUrl")+"?"+t+e+n;return o+="&output=embed",o},r.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},r.isComponent=function(t){if((0,s.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},r}(po);const Zv=Xv;var Kd=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),El=function(){return El=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},El.apply(this,arguments)},ia="script",Gd=function(l){Kd(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return El(El({},l.prototype.defaults),{type:ia,tagName:ia,droppable:!1,draggable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){if((0,s.toLowerCase)(t.tagName)==ia){var e={type:ia};return t.src&&(e.src=t.src,e.onload=t.onload),e}},r}(ir);const Yd=Gd;var Qc=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wa=function(){return Wa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Wa.apply(this,arguments)},ju="svg",Du=function(l){Qc(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Wa(Wa({},l.prototype.defaults),{type:ju,tagName:ju,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===ju},r}(ir);const Mo=Du;var qd=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ks=function(){return ks=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ks.apply(this,arguments)},tf=function(l){qd(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ks(ks({},l.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},r}(Mo);const Xd=tf;var Zd=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),As=function(){return As=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},As.apply(this,arguments)},ef="table",Jv=function(l){Zd(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return As(As({},l.prototype.defaults),{type:ef,tagName:ef,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e);var n=this.get("components");!n.length&&n.add({type:"tbody"})},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===ef},r}(ir);const Qv=Jv;var $a=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(){return xi=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},xi.apply(this,arguments)},aa="tbody",nf=function(l){$a(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return xi(xi({},l.prototype.defaults),{type:aa,tagName:aa,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){l.prototype.initialize.call(this,t,e);var n=this.get("components"),o=this.get("columns"),c=this.get("rows");if(!n.length){for(var h=[];c--;){for(var m=[],y=o;y--;)m.push({type:"cell",classes:["cell"]});h.push({type:"row",classes:["row"],components:m})}n.add(h)}},r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===aa},r}(ir);const Pl=nf;var Jd=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ms=function(){return Ms=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ms.apply(this,arguments)},Ka=function(l){Jd(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ms(Ms({},l.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return["td","th"].indexOf((0,s.toLowerCase)(t.tagName))>=0},r}(ir);const Ga=Ka;var Vr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$o=function(){return $o=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},$o.apply(this,arguments)},ai="tfoot",Nu=function(l){Vr(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return $o($o({},l.prototype.defaults),{type:ai,tagName:ai})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===ai},r}(Pl);const tg=Nu;var Qd=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sa=function(){return sa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},sa.apply(this,arguments)},Iu="thead",rf=function(l){Qd(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return sa(sa({},l.prototype.defaults),{type:Iu,tagName:Iu})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===Iu},r}(Pl);const Vu=rf;var eg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ls=function(){return Ls=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ls.apply(this,arguments)},of="tr",af=function(l){eg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ls(Ls({},l.prototype.defaults),{tagName:of,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,s.toLowerCase)(t.tagName)===of},r}(ir);const sf=af;var js=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ya=function(){return Ya=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ya.apply(this,arguments)},Ru="video",Si="yt",Ds="vi",Ns="ytnc",tp="so",kl=function(l){return l&&l!=="0"},lf=function(l){js(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ya(Ya({},l.prototype.defaults),{type:Ru,tagName:Ru,videoId:"",void:!1,provider:tp,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.initialize=function(t,e){this.em=e.em,this.get("src")&&this.parseFromSrc(),this.updatePropsFromAttr(),this.updateTraits(),this.on("change:provider",this.updateTraits),this.on("change:videoId change:provider",this.updateSrc),l.prototype.initialize.call(this,t,e)},r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===tp){var t=this.get("attributes"),e=t.controls,n=t.autoplay,o=t.loop,c={};(0,s.isDef)(e)&&(c.controls=!!e),(0,s.isDef)(n)&&(c.autoplay=!!n),(0,s.isDef)(o)&&(c.loop=!!o),(0,s.isEmptyObj)(c)||this.set(c)}},r.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),n="iframe",o;switch(e){case Si:case Ns:o=this.getYoutubeTraits();break;case Ds:o=this.getVimeoTraits();break;default:n="video",o=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case Si:case Ns:case Ds:this.set("videoId",e.pathname.split("/").pop()),n.list&&this.set("list",n.list),kl(n.autoplay)&&this.set("autoplay",!0),kl(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),kl(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1);break}},r.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case Si:e=this.getYoutubeSrc();break;case Ns:e=this.getYoutubeNoCookieSrc();break;case Ds:e=this.getVimeoSrc();break}this.set({src:e})},r.prototype.getAttrToHTML=function(){var t=l.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case Si:case Ns:case Ds:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Si,name:"Youtube"},{value:Ns,name:"Youtube (no cookie)"},{value:Ds,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},r.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},r.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},r.isComponent=function(t){var e=t.tagName,n=t.src,o=/youtube\.com\/embed/.test(n),c=/youtube-nocookie\.com\/embed/.test(n),h=/player\.vimeo\.com\/video/.test(n),m=o||c||h;if((0,s.toLowerCase)(e)==Ru||(0,s.toLowerCase)(e)=="iframe"&&m){var y={type:"video"};return n&&(y.src=n),m&&(o?y.provider=Si:c?y.provider=Ns:h&&(y.provider=Ds)),y}},r}(po);const Is=lf;var Al=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fu=function(){return Fu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Fu.apply(this,arguments)},Hu=function(l){Al(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Fu(Fu({},l.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),r.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),l.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),l.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(ir);const ep=Hu;var Ml=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),np=function(l){Ml(r,l);function r(){var t=l!==null&&l.apply(this,arguments)||this;return t.compView=kn,t}return r.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},r.prototype.removeChildren=function(t,e,n){var o=this;n===void 0&&(n={}),t.views.forEach(function(h){if(h){var m=h.childrenView,y=h.scriptContainer;m&&m.stopListening(),(0,ee.L_)(y),h.remove.apply(h)}});var c=t.components();c.forEach(function(h){return o.removeChildren(h,e,n)})},r.prototype.addTo=function(t,e,n){n===void 0&&(n={});var o=this.em,c=this.collection.indexOf(t);if(this.addToCollection(t,null,c),o&&!n.temporary){var h=function(m){o.trigger("component:add",m),m.components().forEach(function(y){return h(y)})};h(t)}},r.prototype.addToCollection=function(t,e,n){for(var o=this,c=o.config,h=o.opts,m=o.em,y=e||null,C=c.frameView,P=(C==null?void 0:C.model)&&t.getView(C.model),N=h.componentTypes||(m==null?void 0:m.Components.getTypes()),B=t.get("type")||"default",G=this.compView,ut=0;ut<N.length;ut++)if(N[ut].id==B){G=N[ut].view;break}var ft=P||new G({model:t,config:c,componentTypes:N}),Ct;try{Ct=ft.render().el}catch(de){Ct=document.createTextNode(""),m.logError(de)}if(y)y.appendChild(Ct);else{var Rt=this.parentEl,It=Rt.childNodes;if((0,i.isUndefined)(n))Rt.appendChild(Ct);else{var ne=It.length==n;ne&&n--,ne||!It.length?Rt.appendChild(Ct):Rt.insertBefore(Ct,It[n])}}return t.opt.temporary||m==null||m.trigger("component:mount",t),Ct},r.prototype.resetChildren=function(t,e){var n=this,o=e===void 0?{}:e,c=o.previousModels,h=c===void 0?[]:c;this.parentEl.innerHTML="",h.forEach(function(m){return n.removeChildren(m,n.collection)}),t.each(function(m){return n.addToCollection(m)})},r.prototype.render=function(t){var e=this,n=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(c){return e.addToCollection(c,o)}),n.innerHTML="",n.appendChild(o),this},r}(O.G7);const la=np;var Ll=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rr=function(){return Rr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Rr.apply(this,arguments)},jl=function(l){Ll(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{},o=n.em,c=e.opt||{},h=this,m=h.$el,y=h.el;this.opts=t,this.modelOpt=c,this.config=n,this.em=o,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),m.data("model",e),(0,s.setViewEl)(y,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Rr(Rr({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!c.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var t=this,e=t.model,n=t.config,o=e.attributes.draggable;return n.draggableComponents&&o},r.prototype._clbObj=function(){var t=this,e=t.em,n=t.model,o=t.el;return{editor:e==null?void 0:e.getEditor(),model:n,el:o}},r.prototype.init=function(t){},r.prototype.removed=function(t){},r.prototype.onRender=function(t){},r.prototype.onActive=function(t){},r.prototype.onDisable=function(){},r.prototype.remove=function(){var t;l.prototype.remove.call(this);var e=this,n=e.model,o=e.$el,c=n.views,h=this.frameView||{};return n.components().forEach(function(m){var y=m.getView(h.model);y==null||y.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),c.splice(c.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},r.prototype.initClasses=function(){var t=this.model,e=t.classes,n="change:classes";e instanceof ko&&(this.stopListening(t,n,this.initClasses),this.listenTo(t,n,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},r.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,n=e.model,o=e.$el,c=e.childrenView,h="change:components",m=n.get("components"),y=[n,h,this.initComponents];m instanceof qi&&(o.data("collection",m),c&&c.remove(),this.stopListening.apply(this,y),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,y))},r.prototype.handleChange=function(){var t=this.model,e=(0,i.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var n in t.changed)t.emitUpdate(n)}},r.prototype.importClasses=function(){var t=this,e=t.em,n=t.model,o=e.Selectors;o&&n.classes.forEach(function(c){return o.add(c.get("name"))})},r.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.el,c=e.ppfx,h=e.model,m=n==null?void 0:n.Canvas,y=m==null?void 0:m.config.extHl,C=h.get("status"),P="".concat(c,"selected"),N="".concat(P,"-parent"),B="".concat(c,"freezed"),G="".concat(c,"hovered"),ut="".concat(c,"no-pointer"),ft=[P,N,B,G,ut],Ct=y&&!t.noExtHl?"":P;this.$el.removeClass(ft.join(" "));var Rt=o.getAttribute("class")||"",It=[Rt],ne=!(m!=null&&m.hasCustomSpot(ln.q.Select)),de=!(m!=null&&m.hasCustomSpot(ln.q.Target));switch(C){case"selected":ne&&It.push(Ct);break;case"selected-parent":de&&It.push(N);break;case"freezed":It.push(B);break;case"freezed-selected":It.push(B),ne&&It.push(Ct);break;case"hovered":!t.avoidHover&&It.push(G);break}h.get("locked")&&It.push(ut);var Pe=It.filter(Boolean).join(" ");Pe&&o.setAttribute("class",Pe)},r.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),n=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},r.prototype.updateStyle=function(t,e,n){n===void 0&&(n={});var o=this,c=o.model,h=o.em;if(Qi(h)&&!n.inline){var m=this.__cmpStyleOpts,y=c.getStyle(m);!(0,i.isEmpty)(y)&&c.setStyle(y,m)}else this.setAttribute("style",c.styleToString(n))},r.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var t=[],e=this,n=e.model,o=e.$el,c=e.el,h=n.attributes,m=h.textable,y=h.type,C=Rr(Rr({id:n.getId(),"data-gjs-type":y||"default"},this.__isDraggable()&&{draggable:!0}),m&&{contenteditable:"false"});(0,i.each)(c.attributes,function(N){return t.push(N.nodeName)}),t.forEach(function(N){return o.removeAttr(N)}),this.updateStyle(),this.updateHighlight();var P=Rr(Rr({},C),n.getAttributes());(0,i.keys)(P).forEach(function(N){return P[N]===!1&&delete P[N]}),o.attr(P)},r.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},r.prototype.prevDef=function(t){t.preventDefault()},r.prototype.updateScript=function(){var t=this,e=t.model,n=t.em;e.get("script")&&(n==null||n.Canvas.getCanvasView().updateScript(this))},r.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},r.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,n=0,o=0,c=function(h){var m=h.offsetParent;m?(n+=m.offsetTop,o+=m.offsetLeft,c(m)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+o,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return c(e),t},r.prototype.isInViewport=function(){var t=this,e=t.el,n=t.em,o=t.frameView,c=n.Canvas.getCanvasView(),h=c.getElBoxRect(e,{local:!0}),m=o.el,y=m.clientHeight,C=m.clientWidth,P=h.y,N=h.x,B=P+h.height,G=N+h.width,ut=P>=0&&P<y,ft=B>0&&B<y,Ct=G>=0&&G<C,Rt=N>0&&N<=C,It=(ut||ft)&&(Ct||Rt);return It},r.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var n=this.isInViewport();if(!n||t.force){var o=this.el;if(t.behavior!=="smooth"){var c=this.getOffsetRect();(e=o.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,c.top)}else o.scrollIntoView(Rr({behavior:"smooth",block:"nearest"},t))}},r.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,ee.dL)(t,this.el),this.render()},r.prototype._setData=function(){var t=this.model,e=t.components(),n=this;this.$el.data({model:t,collection:e,view:n})},r.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new la({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),o=0,c=n.length;o<c;o++)t.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,s.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,i.result)(this.prototype,"events")},r}(O.G7);const kn=jl;var rp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),op=function(l){rp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this,e=t.model,n=t.el;return e.opt.temporary?this:(n.textContent=e.content,this)},r}(kn);const uf=op;var ng=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qa=function(l){ng(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(uf);const Xa=qa;var rg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),og=function(l){rg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var t=(0,ee.sE)(this.el,"iframe")[0];t&&(0,ee.FW)(t,{src:this.__getSrc()})},r.prototype.render=function(){l.prototype.render.call(this);var t=(0,ee.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(kn);const ig=og;var ag=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sg=function(l){ag(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,n=t.em,o=e.get("file");if(o&&n){var c=n.Assets.FileUploader();c==null||c.uploadFile({dataTransfer:{files:[o]}},function(h){var m=h&&h.data&&h.data[0],y=m&&((0,i.isString)(m)?m:m.src);y&&e.set({src:y})}),e.set("file","")}}},r.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){l.prototype.updateClasses.call(this);var t=this,e=t.el,n=t.classEmpty,o=t.model,c=o.getSrcResult()&&!o.isDefaultSrc(),h=c?"remove":"add";e.classList[h](n)},r.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,n=e.em,o=e.model,c=n==null?void 0:n.Assets;c&&o.get("editable")&&c.open({select:function(h,m){o.set({src:h.getSrc()}),m&&c.close()},target:o,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},r.prototype.onLoad=function(){this.em.trigger("change:canvasOffset")},r.prototype.noDrag=function(t){return t.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,n=t.model,o=e.attr("class")||"";return!n.get("src")&&e.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(kn);const Bu=sg;var Xr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),An=function(){return An=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},An.apply(this,arguments)},ar=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},Bn=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Dl=function(l){Xr(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),(0,i.bindAll)(this,"disableEditing","onDisable");var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n==null?void 0:n.RichTextEditor},r.prototype.updateContentText=function(t,e,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var t=this,e=t.model,n=t.rteEnabled,o=t.em,c=o==null?void 0:o.getEditing(),h=c===e,m=!0,y=!1,C;if((n||!e.get("editable")||h||(y=e.isChildOf("text")))&&(m=!1,y&&!e.get("textable"))){for(var P=e.parent();P&&!P.isInstanceOf("text");)P=P.parent();P&&P.get("editable")?C=P:m=!0}return{result:m,delegate:C}},r.prototype.onActive=function(t){var e,n;return ar(this,void 0,void 0,function(){var o,c,h,m,y,C,P,N,B;return Bn(this,function(G){switch(G.label){case 0:return o=this,c=o.rte,h=o.em,m=this.canActivate(),y=m.result,C=m.delegate,y?((n=t==null?void 0:t.stopPropagation)===null||n===void 0||n.call(t),P=this,[4,this.getContent()]):(C&&((e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),h.setSelected(C),C.trigger("active",t)),[2]);case 1:if(P.lastContent=G.sent(),!c)return[3,5];G.label=2;case 2:return G.trys.push([2,4,,5]),N=this,[4,c.enable(this,this.activeRte,{event:t})];case 3:return N.activeRte=G.sent(),[3,5];case 4:return B=G.sent(),h.logError(B),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(){this.disableEditing()},r.prototype.disableEditing=function(t){return t===void 0&&(t={}),ar(this,void 0,void 0,function(){var e,n,o,c,h,m,y,C;return Bn(this,function(P){switch(P.label){case 0:if(e=this,n=e.model,o=e.rte,c=e.activeRte,h=e.em,m=n&&n.get("editable"),!o)return[3,8];P.label=1;case 1:return P.trys.push([1,3,,4]),[4,o.disable(this,c)];case 2:return P.sent(),[3,4];case 3:return y=P.sent(),h.logError(y),[3,4];case 4:return C=m,C?[4,this.getContent()]:[3,6];case 5:C=P.sent()!==this.lastContent,P.label=6;case 6:return C?[4,this.syncContent(t)]:[3,8];case 7:P.sent(),this.lastContent="",P.label=8;case 8:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return ar(this,void 0,void 0,function(){var t,e,n,o;return Bn(this,function(c){switch(c.label){case 0:return t=this,e=t.rte,n=t.activeRte,o="",e?[4,e.getContent(this,n)]:[3,2];case 1:o=c.sent(),c.label=2;case 2:return[2,o]}})})},r.prototype.syncContent=function(t){return t===void 0&&(t={}),ar(this,void 0,void 0,function(){var e,n,o,c,h,m,y;return Bn(this,function(C){switch(C.label){case 0:return e=this,n=e.model,o=e.rte,c=e.rteEnabled,!c&&!t.force?[2]:[4,this.getContent()];case 1:return h=C.sent(),m=n.components(),y=An({fromDisable:1},t),n.set("content","",y),o!=null&&o.customRte&&!o.customRte.parseContent?(m.length&&m.reset(void 0,An(An({},t),{keepIds:lo(m)})),n.set("content",h,y)):m.resetFromString(h,t),[2]}})})},r.prototype.insertComponent=function(t,e){var n;e===void 0&&(e={});var o=this,c=o.model,h=o.el,m=h.ownerDocument,y=m.getSelection();if(y!=null&&y.rangeCount){var C=y.getRangeAt(0),P=C.startContainer,N=C.startOffset,B=(0,s.getModel)(P),G=[];if(B&&(!((n=B.is)===null||n===void 0)&&n.call(B,"textnode"))){var ut=B.collection;ut.forEach(function(Rt){if(Rt===B){var It="textnode",ne=Rt.content;G.push({type:It,content:ne.slice(0,N)}),G.push(t),G.push({type:It,content:ne.slice(N)})}else G.push(Rt)});var ft=G.filter(Boolean),Ct=ft.indexOf(t);return ut.reset(ft,e),ut.at(Ct)}}return c.append(t,e)},r.prototype.onInput=function(){var t=this.em,e="component",n=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(n,this.model)},r.prototype.disablePropagation=function(t){t.stopPropagation()},r.prototype.toggleEvents=function(t){var e=this,n=e.em,o=e.model,c=e.$el,h={on:ee.on,off:ee.S1},m=t?"on":"off";n.setEditing(t?this:!1),this.rteEnabled=!!t;var y=[this.el.ownerDocument,document];if(h.off(y,"mousedown",this.onDisable),h[m](y,"mousedown",this.onDisable),n[m]("toolbar:run:before",this.onDisable),o&&(o[m]("removed",this.onDisable),o.trigger("rte:".concat(t?"enable":"disable"))),c==null||c.off("mousedown",this.disablePropagation),c&&c[m]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var C=this.el;C;)C.draggable=!t,C=C.parentNode,C&&C.tagName=="BODY"&&(C=0)},r}(kn);const ip=Dl;var zu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lg=function(l){zu(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.render=function(){return l.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(ip);const ap=lg;var ug=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cf=function(l){ug(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(ap);const sp=cf;var ff=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cg=function(l){ff(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(t){l.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},r.prototype.render=function(){return l.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(Bu);const df=cg;var pf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lp=function(l){pf(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r.prototype.render=function(){var t=this,e=t.model,n=t.em,o=e.get("src"),c=n&&n.get("scriptCount"),h=c||0,m="";if(o){var y=e.get("onload"),C="script".concat(h),P="script".concat(h+1),N="".concat(C,"Start"),B="".concat(P,"Start");m=`
        var `.concat(C,` = document.createElement('script');
        `).concat(C,`.onload = function() {
          `).concat(y?"".concat(y,`();
`):"",`
          typeof `).concat(B," == 'function' && ").concat(B,`();
        };
        `).concat(C,".src = '").concat(o,`';
        function `).concat(N,"() { document.body.appendChild(").concat(C,`); };
        `).concat(h?"":"".concat(N,"();"),`
      `),n&&n.set("scriptCount",h+1)}else m=e.__innerHTML();return this.el.innerHTML=m,this.postRender(),this},r}(Bu);const up=lp;var hf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cp=function(l){hf(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r}(kn);const Vs=cp;var fg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uu=function(l){fg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(kn);const Oi=Uu;var fp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dg=function(l){fp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(kn);const dp=dg;var ho=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cn=function(l){ho(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(kn);const Ko=cn;var ua=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ca=function(l){ua(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(kn);const pp=ca;var vf=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hp=function(l){vf(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(kn);const pg=hp,gf=kn.extend({events:{}});var Nl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vp=function(l){Nl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){kn.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],n=e.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)},r.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},r.prototype.updateSrc=function(){var t=this,e=t.model,n=t.videoEl;if(n){var o=e.get("provider"),c=e.get("src");switch(o){case"yt":c=e.getYoutubeSrc();break;case"ytnc":c=e.getYoutubeNoCookieSrc();break;case"vi":c=e.getVimeoSrc();break}n.src=c}},r.prototype.updateVideo=function(){var t=this,e=t.model,n=t.videoEl,o=e.get("provider");switch(o){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(n){var c=n;c.loop=e.get("loop"),c.autoplay=e.get("autoplay"),c.controls=e.get("controls"),c.poster=e.get("poster")}}},r.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},r.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},r.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},r.prototype.render=function(){kn.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},r}(Bu);const mf=vp;var fa=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gp=function(l){fa(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r}(kn);const mp=gp;var hg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_r=function(){return _r=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},_r.apply(this,arguments)},yf=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Rs;(function(l){l[l.InvalidSource=0]="InvalidSource",l[l.SourceReject=1]="SourceReject",l[l.TargetReject=2]="TargetReject"})(Rs||(Rs={}));var vg=function(l){hg(r,l);function r(t){var e=l.call(this,t,"DomComponents",new qi(void 0,{em:t}))||this;e.componentTypes=[{id:"cell",model:Ga,view:dp},{id:"row",model:sf,view:pg},{id:"table",model:Qv,view:gf},{id:"thead",model:Vu,view:pp},{id:"tbody",model:Pl,view:Oi},{id:"tfoot",model:tg,view:Ko},{id:"map",model:Zv,view:df},{id:"link",model:cr,view:ap},{id:"label",model:Yt,view:sp},{id:"video",model:Is,view:mf},{id:"image",model:po,view:Bu},{id:"script",model:Yd,view:up},{id:"svg-in",model:Xd,view:Vs},{id:"svg",model:Mo,view:Vs},{id:"iframe",model:Lu,view:ig},{id:"comment",model:ea,view:Xa},{id:"textnode",model:xl,view:uf},{id:"text",model:W,view:ip},{id:"wrapper",model:ep,view:mp},{id:"default",model:ir,view:kn}],e.componentsById={},e.Component=ir,e.Components=qi,e.ComponentView=kn,e.ComponentsView=la,e.storageKey="components",t&&(e.config.components=t.config.components||e.config.components);for(var n in Va)n in e.config||(e.config[n]=Va[n]);var o=e.config.pStylePrefix;if(o&&(e.config.stylePrefix=o+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var c=t.get("selected");t.listenTo(c,"add",function(h,m,y){return e.selectAdd(c.getComponent(h),y)}),t.listenTo(c,"remove",function(h,m,y){return e.selectRemove(c.getComponent(h),y)})}return e}return r.prototype.load=function(t){var e=this;return this.loadProjectData(t,{onResult:function(n){var o=e.getWrapper();if(o||(e.em.Pages.add({},{select:!0}),o=e.getWrapper()),(0,i.isArray)(n))n.length&&o.components(n);else{var c=n.components,h=c===void 0?[]:c,m=yf(n,["components"]);o.set(m),o.components(h)}}})},r.prototype.store=function(){return{}},r.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},r.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},r.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(n){return n.remove(t)}),this},r.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},r.prototype.addType=function(t,e){var n=this.em,o=e.model,c=o===void 0?{}:o,h=e.view,m=h===void 0?{}:h,y=e.isComponent,C=e.extend,P=e.extendView,N=e.extendFn,B=N===void 0?[]:N,G=e.extendFnView,ut=G===void 0?[]:G,ft=this.getType(t),Ct=this.getType(C),Rt=this.getType(P),It=Ct||ft||this.getType("default"),ne=It.model,de=Rt?Rt.view:It.view,Pe=function(Re,tn,xr){return Re.reduce(function(ue,Mr){var ba=tn[Mr],Ca=xr.prototype[Mr];return ba&&Ca&&(ue[Mr]=function(){for(var xa=[],Li=0;Li<arguments.length;Li++)xa[Li]=arguments[Li];Ca.bind(this).apply(void 0,xa),ba.bind(this).apply(void 0,xa)}),ue},{})};if(typeof c=="object"){var He={defaults:c.defaults};delete c.defaults,e.model=ne.extend(_r(_r({},c),Pe(B,c,ne)),{isComponent:ft&&!Ct&&!y?ne.isComponent:y||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return _r(_r({},(0,i.result)(ne.prototype,"defaults")||{}),(0,i.result)(He,"defaults")||{})}})}typeof m=="object"&&(e.view=de.extend(_r(_r({},m),Pe(ut,m,de)))),ft?(ft.model=e.model,ft.view=e.view):(e.id=t,this.componentTypes.unshift(e));var ae="component:type:".concat(ft?"update":"add");return n==null||n.trigger(ae,ft||e),this},r.prototype.getType=function(t){for(var e=this.componentTypes,n=0;n<e.length;n++){var o=e[n].id;if(o==t)return e[n]}},r.prototype.removeType=function(t){var e=this.componentTypes,n=this.getType(t);if(n){var o=e.indexOf(n);return e.splice(o,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(t,e){var n=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.selectRemove=function(t,e){var n=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),o="hovered";n&&n.get("status")==o&&n.set({status:"",state:""}),e&&(0,i.isEmpty)(e.get("status"))&&e.set("status",o)},r.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,n=t.em;if(!e&&n){var o=n.shallow;if(!o)return;var c=o.Components;if(c.componentTypes=this.componentTypes,e=c.getWrapper(),e){var h=[_i,Ao].join(" ");e.on(h,(0,i.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},r.prototype.isComponent=function(t){return(0,s.isComponent)(t)},r.prototype.canMove=function(t,e,n){var o={result:!1,reason:Rs.InvalidSource,target:t,source:null};if(!e||!t)return o;var c=(0,s.isComponent)(e)?e:null;if(!c){var h=this.getShallowWrapper();c=(h==null?void 0:h.append(e)[0])||null}if(o.source=c,!c)return o;var m=c.get("draggable");if((0,i.isFunction)(m))m=!!m(c,t,n);else{var y=t.getEl();m=(0,i.isArray)(m)?m.join(","):m,m=(0,i.isString)(m)?y==null?void 0:y.matches(m):m}if(!m)return _r(_r({},o),{reason:Rs.SourceReject});var C=t.get("droppable");if((0,i.isFunction)(C))C=!!C(c,t,n);else if(C===!1&&t.isInstanceOf("text")&&c.get("textable"))C=!0;else{var y=c.getEl();C=(0,i.isArray)(C)?C.join(","):C,C=(0,i.isString)(C)?y==null?void 0:y.matches(C):C}var P=[t].concat(t.parents()).indexOf(c)>-1;return!C||P?_r(_r({},o),{reason:Rs.TargetReject}):_r(_r({},o),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(t){return this.componentsById[t]||null},r.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(n){return e[n]&&e[n].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r}(K);const yp=vg;var gg={stylePrefix:"css-",rules:[]};const mg=gg;var Wu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wp=Number.MAX_VALUE,yg=function(l){var r=/(-?\d*\.?\d+)\w{0,}/.exec(l);return r?r[0]:""},wg=function(l){Wu(r,l);function r(){var t=l.call(this)||this;return(0,i.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return r.prototype.buildFromModel=function(t,e){var n=this;e===void 0&&(e={});var o="",c=this.em,h=c&&c.getConfig().avoidInlineStyle,m=t.styleToString(),y=t.classes;this.ids.push("#".concat(t.getId())),y.forEach(function(P){return n.compCls.push(P.getFullName())}),!h&&m&&(o="#".concat(t.getId(),"{").concat(m,"}"));var C=t.components();return C.forEach(function(P){return o+=n.buildFromModel(P,e)}),o},r.prototype.build=function(t,e){var n=this;e===void 0&&(e={});var o=e.json,c=e.em,h=e.cssc||(c==null?void 0:c.Css);this.em=c,this.compCls=[],this.ids=[],this.model=t;var m=[],y=t?this.buildFromModel(t,e):"",C=(0,i.isUndefined)(e.clearStyles)&&c?c.getConfig().clearStyles:e.clearStyles;if(h){var P=e.rules||h.getAll(),N={},B=[];e.onlyMatched&&t&&(0,s.hasWin)()&&(P=this.matchedRules(t,P)),P.forEach(function(G){var ut=G.getAtRule();if(ut){var ft=N[ut];ft?ft.push(G):N[ut]=[G];return}var Ct=n.buildFromRule(G,B,e);o?m.push(Ct):y+=Ct}),this.sortMediaObject(N).forEach(function(G){var ut="",ft=G.key,Ct=G.value;Ct.forEach(function(Rt){var It=n.buildFromRule(Rt,B,e);Rt.get("singleAtRule")?y+="".concat(ft,"{").concat(It,"}"):ut+=It,o&&m.push(It)}),ut&&(y+="".concat(ft,"{").concat(ut,"}"))}),c&&C&&P.remove&&P.remove(B)}return o?m.filter(function(G){return G}):y},r.prototype.buildFromRule=function(t,e,n){var o=this,c;n===void 0&&(n={});var h="",m=this.model,y=t.selectorsToString({skipAdd:1}),C=t.get("selectorsAdd"),P=t.get("singleAtRule"),N;if((c=t.get("selectors"))===null||c===void 0||c.forEach(function(G){var ut=G.getFullName();(o.compCls.indexOf(ut)>=0||o.ids.indexOf(ut)>=0||n.keepUnusedStyles)&&(N=1)}),y&&N||C||P||!m){var B=t.getDeclaration({body:1});B&&(n.json?h=t:h+=B)}else e.push(t);return h},r.prototype.matchedRules=function(t,e){var n=this,o=t.getEl(),c=[];return e.forEach(function(h){try{h.selectorsToString().split(",").some(function(m){return o==null?void 0:o.matches(n.__cleanSelector(m))})&&c.push(h)}catch{}}),t.components().forEach(function(h){c=c.concat(n.matchedRules(h,e))}),c=c.filter(function(h,m){return c.indexOf(h)===m}),c},r.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):wp},r.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var n=[];return(0,i.each)(t,function(o,c){return n.push({key:c,value:o})}),n.sort(function(o,c){var h=[o.key,c.key].every(function(C){return C.indexOf("min-width")!==-1}),m=h?o.key:c.key,y=h?c.key:o.key;return e.getQueryLength(m)-e.getQueryLength(y)})},r.prototype.sortRules=function(t,e){var n=function(m){return m.get("mediaText")||""},o=[n(t),n(e)].every(function(m){return m.indexOf("min-width")!==-1}),c=n(o?t:e),h=n(o?e:t);return this.getQueryLength(c)-this.getQueryLength(h)},r.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},r}(O.Hn);const _p=wg;var Fs=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Za=function(){return Za=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Za.apply(this,arguments)},$u=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Ku=((0,s.hasWin)()?window:{}).CSS,wf=function(l){Fs(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t)||this;return n.config=t||{},n.opt=e,n.em=e.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(t,e){var n=this.em,o=this.changedAttributes();o&&!(0,s.isEmptyObj)(o)&&(n==null||n.changesUp(e))},r.prototype.clone=function(){var t=Za({},this.opt),e=Za({},this.attributes);return e.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(e,t)},r.prototype.ensureSelectors=function(t,e,n){var o=this.em,c=o==null?void 0:o.get("SelectorManager"),h=[this,"change:selectors",this.ensureSelectors],m=this.getSelectors();if(this.stopListening.apply(this,h),m.models&&(m=$u([],m.models,!0)),m=(0,i.isString)(m)?[m]:m,Array.isArray(m)){var y=m.filter(function(C){return C}).map(function(C){return c?c.add(C):C});m=new ko(y)}this.set("selectors",m,n),this.listenTo.apply(this,h)},r.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),n=t?"@".concat(t):e?"@media":"";return n+(e&&n?" ".concat(e):"")},r.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],n=this.get("state"),o=this.get("selectorsAdd"),c={escape:function(y){return Ku&&Ku.escape?Ku.escape(y):y}},h=this.get("selectors").getFullString(0,c),m=n&&!t.skipState?":".concat(n):"";return h&&e.push("".concat(h).concat(m)),o&&!t.skipAdd&&e.push(o),e.join(", ")},r.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",n=this.attributes.important,o=this.selectorsToString(t),c=this.styleToString(Za({important:n},t)),h=this.get("singleAtRule");return(o||h)&&(c||t.allowEmpty)&&(e=h?c:"".concat(o,"{").concat(c,"}")),e},r.prototype.getDevice=function(){var t=this.em,e=this.attributes,n=e.atRuleType,o=e.mediaText,c=(t==null?void 0:t.get("DeviceManager").getDevices())||[],h=c.filter(function(m){return m.getWidthMedia()===""})[0];return n!=="media"||!o?h||null:c.filter(function(m){return m.getWidthMedia()===yg(o)})[0]||null},r.prototype.getState=function(){var t=this.em,e=this.get("state"),n=(t==null?void 0:t.get("SelectorManager").getStates())||[];return n.filter(function(o){return o.getName()===e})[0]||null},r.prototype.getComponent=function(){var t,e=this.getSelectors(),n=e.length==1&&e.at(0),o=n&&n.isId()&&n.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},r.prototype.toCSS=function(t){t===void 0&&(t={});var e="",n=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(e=o),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},r.prototype.toJSON=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=O.Hn.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var c=this.defaults();(0,i.forEach)(c,function(h,m){o[m]===h&&delete o[m]}),delete o.style.__p,(0,i.isEmpty)(o.selectors)&&delete o.selectors,(0,i.isEmpty)(o.style)&&delete o.style}return o},r.prototype.compare=function(t,e,n,o){var c;o===void 0&&(o={});var h=e||"",m=n||"",y=o.selectorsAdd||"",C=o.atRuleType||"",P=!(0,i.isArray)(t)&&!t.models?[t]:t.models||t;m&&!C&&(C="media");var N=P.map(function(ft){return ft.getFullName()}),B=(c=this.get("selectors"))===null||c===void 0?void 0:c.map(function(ft){return ft.getFullName()}),G=N.slice().sort(),ut=B.slice().sort();return!(N.length!==B.length||!G.every(function(ft,Ct){return ft===ut[Ct]})||this.get("state")!==h||this.get("mediaText")!==m||this.get("selectorsAdd")!==y||this.get("atRuleType")!==C)},r}(Ra);const _f=wf;var _g=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bf=function(l){_g(r,l);function r(t,e){var n=l.call(this,t)||this;return n.editor=e==null?void 0:e.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return r.prototype.toJSON=function(t){var e=O.FE.prototype.toJSON.call(this,t);return e.filter(function(n){return n.style&&!n.shallow})},r.prototype.onAdd=function(t,e,n){t.ensureSelectors(t,e,n)},r.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,O.FE.prototype.add.apply(this,[t,e])},r}(O.FE);const br=bf;bf.prototype.model=_f;var Gu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),da=function(){return da=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},da.apply(this,arguments)},bp=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Cp=function(l){Gu(r,l);function r(t){var e=l.call(this,t,"CssComposer",null,{},mg)||this;e.Selectors=ko,e.storageKey="styles";var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),n.rules=e.em.config.style||n.rules||"",e.rules=new br([],n),e}return r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},r.prototype.add=function(t,e,n,o,c){o===void 0&&(o={}),c===void 0&&(c={});var h=e||"",m=n||"",y=da({},o),C=this.get(t,h,m,y);return C&&C.config&&!C.config.singleAtRule||(y.state=h,y.mediaText=m,y.selectors=[],m&&!y.atRuleType&&(y.atRuleType="media"),C=new _f(y,this.config),C.get("selectors").add(t,c),this.rules.add(C,c)),C},r.prototype.get=function(t,e,n,o){var c=t;if((0,i.isString)(t)){var h=this.em.Selectors,m=t.split(",")[0].trim(),y=this.em.Parser.parserCss.checkNode({selectors:m})[0];c=h.get(y.selectors)}return this.rules.find(function(C){return C.compare(c,e,n,o)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=this.em,c=[];(0,i.isString)(t)&&(t=o.Parser.parseCss(t));for(var h=t instanceof Array?t:[t],m=0,y=h.length;m<y;m++){var C=h[m]||{};if(C.selectors){var P=o==null?void 0:o.Selectors;P||console.warn("Selector Manager not found");for(var N=C.selectors,B=N instanceof Array?N:[N],G=[],ut=0,ft=B.length;ut<ft;ut++){var Ct=P.add(B[ut]);G.push(Ct)}var Rt=this.get(G,C.state,C.mediaText,C),It=this.add(G,C.state,C.mediaText,C,e),ne=!Rt||!e.avoidUpdateStyle,de=C.style||{};if((0,s.isObject)(n)&&It.set(n,e),ne){var Pe=e.extend?da(da({},It.get("style")),de):de;It.set("style",Pe,e)}c.push(It)}}return c},r.prototype.addRules=function(t){return this.addCollection(t)},r.prototype.setRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.atRuleType,c=n.atRuleParams,h=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],m=h.state,y=h.selectorsAdd,C=this.em.Selectors,P=C.add(h.selectors),N=this.add(P,m,c,{selectorsAdd:y,atRule:o});return n.addStyles?N.addStyle(e,n):N.setStyle(e,n),N},r.prototype.getRule=function(t,e){e===void 0&&(e={});var n=this.em,o=n.Selectors,c=n.Parser.parserCss.checkNode({selectors:t})[0],h=o.get(c.selectors),m=c.state,y=c.selectorsAdd,C=e.atRuleType,P=e.atRuleParams;return h?this.get(h,m,P,{selectorsAdd:y,atRuleType:C}):void 0},r.prototype.getRules=function(t){var e=this.getAll();if(!t)return bp([],e.models,!0);var n={sort:!0},o=(0,i.isString)(t)?t.split(",").map(function(h){return h.trim()}):t,c=e.filter(function(h){return o.indexOf(h.getSelectors().getFullString(null,n))>=0});return c},r.prototype.setIdRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.addOpts,c=o===void 0?{}:o,h=n.mediaText,m=n.state||"",y=(0,i.isUndefined)(h)?this.em.getCurrentMedia():h,C=this.em.Selectors,P=C.add({name:t,type:wn.TYPE_ID},c),N=this.add(P,m,y,{},c);return N.setStyle(e,da(da({},n),c)),N},r.prototype.getIdRule=function(t,e){e===void 0&&(e={});var n=e.mediaText,o=e.state||"",c=(0,i.isUndefined)(n)?this.em.getCurrentMedia():n,h=this.em.Selectors.get(t,wn.TYPE_ID);return h&&this.get(h,o,c)},r.prototype.setClassRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.state||"",c=n.mediaText||this.em.getCurrentMedia(),h=this.em.Selectors,m=h.add({name:t,type:wn.TYPE_CLASS}),y=this.add(m,o,c);return y.setStyle(e,n),y},r.prototype.getClassRule=function(t,e){e===void 0&&(e={});var n=e.state||"",o=e.mediaText||this.em.getCurrentMedia(),c=this.em.Selectors.get(t,wn.TYPE_CLASS);return c&&this.get(c,n,o)},r.prototype.remove=function(t,e){var n=(0,i.isString)(t)?this.getRules(t):t,o=this.getAll().remove(n,e);return(0,i.isArray)(o)?o:[o]},r.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},r.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var n=e.state,o=e.mediaText,c=e.current;c&&(n=this.em.get("state")||"",o=this.em.getCurrentMedia());var h=t.getId(),m=this.getAll().filter(function(y){return!(0,i.isUndefined)(n)&&y.get("state")!==n||!(0,i.isUndefined)(o)&&y.get("mediaText")!==o?!1:y.getSelectorsString()==="#".concat(h)});return m},r.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new Pn({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},r}(K);const Hs=Cp;var Yu={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const xp=Yu;var Sp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Op=function(l){Sp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,i.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},r}(O.Hn);const Ja=Op;var Tp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Il=function(l){Tp(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(O.FE);const Vl=Il;Il.prototype.model=Ja;var Rl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bg=function(l){Rl(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r}(O.Hn);const Qa=bg;var Ep=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cf=function(l){Ep(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(O.FE);const xf=Cf;Cf.prototype.model=Qa;var pa;(function(l){l.add="block:add",l.remove="block:remove",l.removeBefore="block:remove:before",l.update="block:update",l.dragStart="block:drag:start",l.drag="block:drag",l.dragEnd="block:drag:stop",l.custom="block:custom",l.all="block"})(pa||(pa={}));var Fl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hl=function(l){Fl(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t)||this,o=n.model;return n.em=e.em,n.config=e,n.endDrag=n.endDrag.bind(n),n.ppfx=e.pStylePrefix||"",n.listenTo(o,"destroy remove",n.remove),n.listenTo(o,"change",n.render),n}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(t){var e=this,n=e.config,o=e.model,c=e.em,h=o.get("onClick")||n.appendOnClick;if(c.trigger("block:click",o,t),h){if((0,i.isFunction)(h))return h(o,c==null?void 0:c.getEditor(),{event:t})}else return;var m=n.getSorter(),y=o.get("content"),C=c.getSelected();m.setDropContent(y);var P,N,B;if(C)if(N=m.validTarget(C.getEl(),y),N.valid)P=C;else{var G=C.parent();G&&(N=m.validTarget(G.getEl(),y),N.valid&&(P=G,B=G.components().indexOf(C)+1))}if(!P){var ut=c.getWrapper();N=m.validTarget(ut.getEl(),y),N.valid&&(P=ut)}var ft=P&&P.append(y,{at:B})[0];ft&&c.setSelected(ft,{scroll:1})},r.prototype.startDrag=function(t){var e=this,n=e.config,o=e.em,c=e.model,h=c.get("disable");if(!(t.button!==0||!n.getSorter||this.el.draggable||h)){o.refreshCanvas();var m=n.getSorter();m.__currentBlock=c,m.setDragHelper(this.el,t),m.setDropContent(this.model.get("content")),m.startSort(this.el),(0,ee.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},r.prototype.handleDrag=function(t){this.__getModule().__drag(t)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){(0,ee.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},r.prototype.render=function(){var t,e=this,n=e.em,o=e.el,c=e.$el,h=e.ppfx,m=e.model,y=m.get("disable"),C=m.get("attributes")||{},P=C.class||"",N="".concat(h,"block"),B=n&&n.t("blockManager.labels.".concat(m.id))||m.get("label"),G=m.get("render"),ut=m.get("media"),ft=y?"".concat(N,"--disable"):"".concat(h,"four-color-h");c.attr(C),o.className="".concat(P," ").concat(N," ").concat(h,"one-bg ").concat(ft).trim(),o.innerHTML=`
      `.concat(ut?'<div class="'.concat(N,'__media">').concat(ut,"</div>"):"",`
      <div class="`).concat(N,'-label">').concat(B,`</div>
    `),o.title=C.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,s.hasDnd)(n)&&!y)));var Ct=G&&G({el:o,model:m,className:N,prefix:h});return Ct&&(o.innerHTML=Ct),this},r}(O.G7);const Bl=Hl;var Pp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cg=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},kp=function(l){Pp(r,l);function r(t,e){var n=l.call(this,t)||this;n.config=e;var o=e.pStylePrefix||"";return n.em=e.em,n.pfx=o,n.caretR="fa fa-caret-right",n.caretD="fa fa-caret-down",n.iconClass="".concat(o,"caret-icon"),n.activeClass="".concat(o,"open"),n.className="".concat(o,"block-category"),n.listenTo(n.model,"change:open",n.updateVisibility),n.model.view=n,n}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(t){var e=t.pfx,n=t.label;return f(ts||(ts=Cg([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),e,e,n,e)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},r.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.pfx,"blocks-c"))),this.blocksEl},r.prototype.append=function(t){this.getBlocksEl().appendChild(t)},r.prototype.render=function(){var t=this,e=t.em,n=t.el,o=t.$el,c=t.model,h=t.pfx,m=e.t("blockManager.categories.".concat(c.id))||c.get("label");return n.innerHTML=this.template({pfx:h,label:m}),o.addClass(this.className),o.css({order:c.get("order")}),this.updateVisibility(),this},r}(O.G7);const ha=kp;var ts,zl=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qu=function(){return qu=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},qu.apply(this,arguments)},Ap=function(l){zl(r,l);function r(t,e){var n=l.call(this,t)||this;(0,i.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=e||{},n.categories=t.categories||"",n.renderedCategories={};var o=n.config.pStylePrefix||"";n.ppfx=o,n.noCatClass="".concat(o,"blocks-no-cat"),n.blockContClass="".concat(o,"blocks-c"),n.catsClass="".concat(o,"block-categories");var c=n.collection;return n.listenTo(c,"add",n.addTo),n.listenTo(c,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=qu(qu({},this.config),t)},r.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,n=t.Canvas;this.sorter=new e.Sorter({container:n.getBody(),placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:n.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},r.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},r.prototype.onMove=function(t){this.__getModule().__drag(t)},r.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},r.prototype.addTo=function(t){this.add(t)},r.prototype.add=function(t,e){var n=this.config,o=new Bl({model:t,attributes:t.get("attributes")},n),c=o.render().el,h=t.get("category");if(h&&this.categories&&!n.ignoreCategories){(0,i.isString)(h)?h={id:h,label:h}:(0,i.isObject)(h)&&!h.id&&(h.id=h.label);var m=this.categories.add(h),y=m.get("id"),C=this.getCategoriesEl(),P=this.renderedCategories[y];t.set("category",m,{silent:!0}),!P&&C&&(P=new ha({model:m},n).render(),this.renderedCategories[y]=P,C.appendChild(P.el)),P&&P.append(c);return}e?e.appendChild(c):this.append(c)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},r.prototype.render=function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories={},this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(c){return t.add(c,n)}),this.append(n);var o="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(o),this.rendered=!0,this},r}(O.G7);const Mp=Ap;var xg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),va=function(){return va=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},va.apply(this,arguments)},Fr=function(l){xg(r,l);function r(t){var e,n=l.call(this,t,"BlockManager",new Vl(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[]),pa,xp)||this;return n.events=pa,n.Block=Ja,n.Blocks=Vl,n.Category=Qa,n.Categories=xf,n.storageKey="",n.blocks=n.all,n.blocksVisible=new Vl(n.blocks.models),n.categories=new xf,n.blocks.on("add",function(o){return n.blocksVisible.add(o)}),n.blocks.on("remove",function(o){return n.blocksVisible.remove(o)}),n.blocks.on("reset",function(o){return n.blocksVisible.reset(o.models)}),n.__onAllEvent=(0,i.debounce)(function(){return n.__trgCustom()},0),n}return r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(n,o){return t.startDrag(n,o)},drag:function(n){return t.__drag(n)},dragStop:function(n){return t.endDrag(n)}}},r.prototype.__startDrag=function(t,e){var n=this,o=n.em,c=n.events,h=n.blocks,m=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragContent:m}),[o,h].map(function(y){return y.trigger(c.dragStart,t,e)})},r.prototype.__drag=function(t){var e=this,n=e.em,o=e.events,c=e.blocks,h=this._dragBlock;[n,c].map(function(m){return m.trigger(o.drag,h,t)})},r.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,c=e.blocks,h=this._dragBlock,m=t.component||n.get("dragResult");if(delete this._dragBlock,m&&h){var y="activeOnRender",C=m.get&&m.get(y),P=h.get("activate")||C,N=h.get("select"),B=(0,i.isArray)(m)?m[0]:m;(N||P&&N!==!1)&&n.setSelected(B),P&&(B.trigger("active"),C&&B.unset(y)),h.get("resetId")&&B.onAll(function(G){return G.resetId()})}n.set({dragResult:null,dragContent:null}),h&&[n,c].map(function(G){return G.trigger(o.dragEnd,m,h)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=va(va({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(n){var o;return(o=n.droppable)===null||o===void 0?void 0:o.startCustom()})},r.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var n;return(n=e.droppable)===null||n===void 0?void 0:n.endCustom(t)}),this.__endDrag()},r.prototype.postRender=function(){var t=this,e=t.categories,n=t.config,o=t.em,c=this.blocksVisible;this.blocksView=new Mp({collection:c,categories:e},va(va({},n),{em:o})),this.__appendTo(c.models),this.__trgCustom()},r.prototype.add=function(t,e,n){n===void 0&&(n={});var o=e||{};return o.id=t,this.blocks.add(o,n)},r.prototype.get=function(t){return this.blocks.get(t)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.render=function(t,e){e===void 0&&(e={});var n=this,o=n.categories,c=n.config,h=n.em,m=t||this.getAll().models;if(e.external){var y=new Vl(m);return new Mp({collection:y,categories:o},va(va({em:h},c),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(m),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(n){return n.stopListening()}),e.map(function(n){return n.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},r}(K);const Lp=Fr;var Sg={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const Og=Sg;var Tg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sf=function(l){Tg(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(O.Hn);const Xu=Sf;Sf.prototype.idAttribute="name";var jp=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Eg=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},Dp="contentEditable",Pg=function(l){jp(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this,n=t.config||{};return e.config=n,e.module=t.module,e.coll=t.coll||null,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return r.prototype.template=function(){var t=this,e=t.pfx,n=t.model,o=t.config,c=n.get("label")||"";return f(Bs||(Bs=Eg([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,c,e,e,o.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[Dp]="true",e.focus(),t==null||t.setEditing(!0)},r.prototype.endEditTag=function(){var t=this,e=t.model,n=t.em,o=this.getInputEl(),c=o.textContent||"",h=n==null?void 0:n.Selectors;o[Dp]="false",n==null||n.setEditing(!1),h&&h.rename(e,c)!==e&&(o.innerText=e.get("label"))},r.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.get("active"))},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var t=this,e=t.model,n=t.$el,o=t.config,c=o.iconTagOn,h=o.iconTagOff,m=n.find("[data-tag-status]");e.get("active")?(m.html(c),n.removeClass("opac50")):(m.html(h),n.addClass("opac50"))},r.prototype.render=function(){var t=this.pfx,e=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(t,"tag ").concat(e,"three-bg")),this.updateStatus(),this},r}(O.G7);const ga=Pg;var Bs,Zu=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ti=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},Ei=function(l){Zu(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var n=e.config.em,o=e.collection;e.target=n;var c=n.Selectors;e.module=c,e.em=n,e.componentChanged=(0,i.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,i.debounce)(e.checkSync.bind(e),0);var h="component:toggled component:update:classes",m="component:update:classes change:state";return e.listenTo(n,h,e.componentChanged),e.listenTo(n,"styleManager:update",e.componentChanged),e.listenTo(n,m,e.__handleStateChange),e.listenTo(n,"styleable:change change:device",e.checkSync),e.listenTo(o,"add",e.addNew),e.listenTo(o,"reset",e.renderClasses),e.listenTo(o,"remove",e.tagRemoved),e.listenTo(c.getAll(),c.events.state,(0,i.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.labelInfo,n=t.labelHead,o=t.iconSync,c=t.iconAdd,h=t.pfx,m=t.ppfx;return f(Np||(Np=Ti([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),h,h,h,h,n,h,h,h,m,m,m,h,m,m,h,m,h,h,h,h,h,c,h,h,o,h,h,e,h)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),n=t.Css,o={noDisabled:1},c=this.getCommonSelectors({opts:o}),h=t.get("state"),m=t.getCurrentMedia(),y=[],C=n.get(c,h,m)||n.add(c,h,m),P;this.getTargets().forEach(function(N){var B=n.getIdRule(N.getId(),{state:h,mediaText:m});P=B.getStyle(),B.setStyle({}),y.push(B)}),P&&C.addStyle(P),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:c,mediaText:m,rule:C,ruleComponents:y,state:h})},r.prototype.tagRemoved=function(t){this.updateStateVis()},r.prototype.addNew=function(t){this.addToClasses(t)},r.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},r.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},r.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},r.prototype.componentChanged=function(t){var e=t===void 0?{}:t,n=e.targets;this.updateSelection(n)},r.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,i.isArray)(e)?e:[e];var n=[];return e&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,n=e.targets,o=e.opts,c=o===void 0?{}:o,h=n||this.getTargets();return this.module.__getCommonSelectors(h,c)},r.prototype._commonSelectors=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.module).__common.apply(t,e)},r.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,n=t.config,o=t.collection,c=this.getTarget(),h;if(c&&n.componentFirst&&o.length){var m=c.getStyle();h=!(0,i.isEmpty)(m)}e&&e[h?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(t){var e=this.em,n=e&&e.getConfig().avoidInlineStyle,o=this.collection.length||n?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(t){var e=this,n=this.el.querySelector("[data-selected]"),o=[],c=t||this.getTargets();c=(0,i.isArray)(c)?c:[c],c.forEach(function(h){return o.push(e.__getName(h))}),n&&(n.innerHTML=o.join(", ")),this.checkStates()},r.prototype.__getName=function(t){var e=this,n=e.pfx,o=e.config,c=e.em,h=o.selectedName,m=o.componentFirst,y;if((0,i.isString)(t))y=f(es||(es=Ti(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,t);else{var C=t==null?void 0:t.getSelectors();if(!C)return"";var P=C.getStyleable(),N=c.get("state"),B=t.getId?f(Of||(Of=Ti(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,t.getName(),n,t.getId()):"";y=this.collection.getFullString(P),y=y?f(Tf||(Tf=Ti(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,y):t.get("selectorsAdd")||B,y=m&&B?B:y,y+=N?f(Ef||(Ef=Ti(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,N):"",y=h?h({result:y,state:N,target:t}):y}return y&&'<span class="'.concat(n,'sel">').concat(y,"</span>")},r.prototype.stateChanged=function(t){var e=this.em,n=t.target.value;e.set("state",n)},r.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},r.prototype.addToClasses=function(t,e){var n=e,o=this.getClasses(),c=new ga({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(c):o.append(c),c},r.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(o){return t.addToClasses(o,e)}),n.append(e)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var t=this,e=t.module,n=t.em,o=n.t("selectorManager.emptyState"),c=e.getStates().map(function(m){var y=n.t("selectorManager.states.".concat(m.id))||m.getLabel()||m.id;return'<option value="'.concat(m.id,'">').concat(y,"</option>")}).join(""),h=this.getStates();h&&h.html('<option value="">'.concat(o,"</option>").concat(c)),this.checkStates()},r.prototype.render=function(){var t=this,e=t.em,n=t.pfx,o=t.ppfx,c=t.config,h=t.$el,m=t.el,y=c.render,C=c.iconSync,P=c.iconAdd,N={iconSync:C,iconAdd:P,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:o,pfx:n,el:m};h.html(this.template(N));var B=y&&y(N);return B&&B!==m&&h.empty().append(B),this.$input=h.find("[data-input]"),this.$addBtn=h.find("[data-add]"),this.$classes=h.find("#"+n+"tags-c"),this.$btnSyncEl=h.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),h.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},r}(O.G7);const kg=Ei;var Np,es,Of,Tf,Ef,Ju=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),si=function(){return si=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},si.apply(this,arguments)},Ul=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Qu=function(l){return(0,i.isString)(l)&&l[0]=="#"},tc=function(l){return(0,i.isString)(l)&&l[0]=="."},Ip="selector",Pi="".concat(Ip,":"),Vp="".concat(Pi,"add"),Ag="".concat(Pi,"update"),Pf="".concat(Pi,"remove"),ec="".concat(Pf,":before"),Mg="".concat(Pi,"custom"),Rp="".concat(Pi,"state"),Wl={all:Ip,update:Ag,add:Vp,remove:Pf,removeBefore:ec,state:Rp,custom:Mg},Fp=function(l){Ju(r,l);function r(t){var e=l.call(this,t,"SelectorManager",new ko([]),Wl,Og,{skipListen:!0})||this;e.Selector=wn,e.Selectors=ko,e.storageKey="",(0,i.bindAll)(e,"__updateSelectedByComponents");var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.all=new ko(n.selectors),e.selected=new ko([],{em:t,config:n}),e.states=new O.FE(n.states.map(function(h){return new Xu(h)}),{model:Xu}),e.model=new O.Hn({cFirst:n.componentFirst,_undo:!0}),e.__update=(0,i.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(h,m){return t.trigger(Rp,m)}),e.model.on("change:cFirst",function(h,m){return t.trigger("selector:type",m)}),t.on("component:toggled component:update:classes",e.__updateSelectedByComponents);var c="component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target";return e.model.listenTo(t,c,function(){return e.__update()}),e}return r.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},r.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Ul([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(t,e){e===void 0&&(e={});var n=Array.isArray(t)?t:[t],o=this.em.Styles.select(n,e);this.selected.reset(this.__getCommonSelectors(o));var c=this.selectorTags,h=o.filter(function(m){return m}).map(function(m){return(0,s.isComponent)(m)||(0,s.isRule)(m)&&!m.get("selectorsAdd")?m:m.getSelectorsString()});return c&&c.componentChanged({targets:h}),this},r.prototype.addSelector=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=si({},e);(0,i.isObject)(t)?o=t:o.name=t,Qu(o.name)?(o.name=o.name.substr(1),o.type=wn.TYPE_ID):tc(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var c=o.name,h=this.getConfig(),m=this,y=m.all,C=m.em,P=c?this.get(c,o.type):y.where(o)[0];if(!P){var N=o instanceof wn?o:new wn(o,si(si({},n),{config:h,em:C}));return y.add(N,n)}return P},r.prototype.getSelector=function(t,e){return e===void 0&&(e=wn.TYPE_CLASS),Qu(t)?(t=t.substr(1),e=wn.TYPE_ID):tc(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var o=(0,i.isString)(t)?{}:e;return(0,i.isArray)(t)?t.map(function(c){return n.addSelector(c,e,o)}):this.addSelector(t,e,o)},r.prototype.addClass=function(t){var e=this,n=[];return(0,i.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(o){return n.push(e.addSelector(o))}),n},r.prototype.get=function(t,e){var n=this;if((0,i.isArray)(t)){var o=[],c=t.map(function(h){return n.getSelector(h)}).filter(Boolean);return c.forEach(function(h){return o.indexOf(h)<0&&o.push(h)}),o}else return this.getSelector(t,e)},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.rename=function(t,e,n){var o=this.escapeName(e),c=this.get(o);return c||t.set({name:o,label:e},n)},r.prototype.setState=function(t){return this.em.setState(t),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return Ul([],this.states.models,!0)},r.prototype.setStates=function(t,e){return this.states.reset(t.map(function(n){return new Xu(n)}),e)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return Ul([],this.selected.models,!0)},r.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(e)})},r.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},r.prototype.duplicateSelected=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=this.getSelected();if(!(c.indexOf(t)<0)){var h=this.getState(),m=o.getCurrentMedia(),y=o.Css.get(c,h,m),C=y==null?void 0:y.getStyle();if(o.getSelectedAll().forEach(function(N){var B=N.getSelectors();if(B.includes(t)){var G=e.suffix||" copy",ut=t.getLabel(),ft=n.addSelector("".concat(ut).concat(G)),Ct=B.indexOf(t);B.remove(t),B.add(ft,{at:Ct})}}),C){var P=o.Css.add(this.getSelected(),h,m);P.setStyle(C)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):wn.escapeName(t)},r.prototype.render=function(t){var e=this.selectorTags,n=this.getConfig(),o=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new kg({el:o,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var t=this,e=t.selectorTags,n=t.model;n.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var n=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(o){return e[1].indexOf(o)>=0}):e.slice(1).reduce(function(o,c){return t.__common(o,c)},e[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(K);const Hp=Fp;var Lg={textTags:["br","b","i","u","a","ul","ol"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,keepEmptyTextNodes:!1}};const kf=Lg;var Lo,vo={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},ns=(Lo={},Lo[vo.MEDIA_RULE]="media",Lo[vo.FONT_FACE_RULE]="font-face",Lo[vo.PAGE_RULE]="page",Lo[vo.KEYFRAMES_RULE]="keyframes",Lo[vo.COUNTER_STYLE_RULE]="counter-style",Lo[vo.SUPPORTS_RULE]="supports",Lo[vo.DOCUMENT_RULE]="document",Lo[vo.FONT_FEATURE_VALUES_RULE]="font-feature-values",Lo[vo.VIEWPORT_RULE]="viewport",Lo),Af=(0,i.keys)(ns),Mf=[vo.FONT_FACE_RULE,vo.PAGE_RULE,vo.COUNTER_STYLE_RULE,vo.VIEWPORT_RULE],Lf=Af.filter(function(l){return Mf.indexOf(Number(l))<0}).map(function(l){return ns[l]}).concat(["container","layer"]),$l=Mf.map(function(l){return ns[l]}),zs=function(l){l===void 0&&(l="");for(var r=[],t=[],e=l.split(","),n=0,o=e.length;n<o;n++){var c=e[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(c)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(c)){var h=c.split(".").filter(Boolean);t.push(h)}else r.push(c)}return{result:t,add:r}},jg=function(l){for(var r=l.style,t={},e=0,n=r.length;e<n;e++){var o=r[e],c=r.getPropertyValue(o),h=r.getPropertyPriority(o);t[o]="".concat(c).concat(h?" !".concat(h):"")}return t},jf=function(l){var r=l.conditionText||l.media&&l.media.mediaText||l.name||l.selectorText||"";return r.trim()},Df=function(l,r,t){r===void 0&&(r={}),t===void 0&&(t={});var e={},n=l.length,o=l[n-1],c=o?o.split(/:(.+)/):[],h=c[1],m=t.atRule,y=t.selectorsAdd,C=t.mediaText,P=$l.indexOf(m)>=0;return P&&(e.singleAtRule=!0),m&&(e.atRuleType=m),y&&(e.selectorsAdd=y),C&&(e.mediaText=C),h&&(l[n-1]=c[0],e.state=h,c.splice(c.length-1,1)),e.selectors=l,e.style=r,e},Bp=function(l){var r=l.cssText,t=r===void 0?"":r;return Lf.find(function(e){return t.indexOf("@".concat(e))===0})},zp=function(l){for(var r=[],t=l.cssRules||[],e=0,n=t.length;e<n;e++){var o=t[e],c=o.type,h=!1,m="",y="",C=o.selectorText||o.keyText||"",P=Mf.indexOf(c)>=0;if(P)h=!0,m=ns[c],y=jf(o);else if(Af.indexOf("".concat(c))>=0||!c&&Bp(o)){var N=zp(o),B=ns[c]||Bp(o);y=jf(o);for(var G=0,ut=N.length;G<ut;G++){var ft=N[G];y&&(ft.mediaText=y),ft.atRuleType=B}r=r.concat(N)}if(!(!C&&!P)){for(var Ct=jg(o),Rt=zs(C),It=Rt.add,ne=Rt.result,de=void 0,Pe=0,He=ne.length;Pe<He;Pe++){var ae=Df(ne[Pe],Ct,{atRule:ns[c]});r.push(ae),de=ae}if(It.length){var Re=It.join(", ");if(de)de.selectorsAdd=Re;else{var ae={selectors:[],selectorsAdd:Re,style:Ct};h&&(ae.singleAtRule=h),m&&(ae.atRuleType=m),y&&(ae.mediaText=y),r.push(ae)}}}}return r};const Dg=function(l){var r=document.createElement("style");r.innerHTML=l,document.head.appendChild(r);var t=r.sheet;return document.head.removeChild(r),t?zp(t):[]};var Up=function(l,r){return r===void 0&&(r={}),{parse:function(t){var e=this,n=[],o=r.parserCss,c=l==null?void 0:l.Editor,h=o?o(t,c):Dg(t);return h.forEach(function(m){return n=n.concat(e.checkNode(m))}),l==null||l.trigger("parse:css",{input:t,output:n,nodes:h}),n},checkNode:function(t){var e=t.selectors,n=t.style,o=[t];if((0,i.isString)(e)){var c=[],h=t,m=zs(e),y=m.result,C=m.add.join(", "),P={atRule:h.atRule,mediaText:h.params};if(y.length?y.forEach(function(B){c.push(Df(B,n,P))}):c.push(Df([],n,P)),C){var N=c[c.length-1];N.selectorsAdd=C}o=c}return o}}};const Ng=Up;var Ig=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wp=function(l){Ig(r,l);function r(t){var e=l.call(this,t,"Parser",kf)||this,n=e.config;return e.parserCss=Ng(t,n),e.parserHtml=Wi(t,n),e}return r.prototype.parseHtml=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.parserHtml;return c.compTypes=o.Components.getTypes()||{},c.parse(t,this.parserCss,e)},r.prototype.parseCss=function(t){return this.parserCss.parse(t)},r.prototype.destroy=function(){},r}(U);const Nf=Wp;var $p={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(l){return l},onLoad:function(l){return l},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(l){return l},onLoad:function(l){return l}}}};const Vg=$p;var If=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},rs=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Kp=function(){function l(){}return l.prototype.store=function(r,t){return t===void 0&&(t={}),If(this,void 0,void 0,function(){return rs(this,function(e){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(r)),[2,r]})})},l.prototype.load=function(r){return r===void 0&&(r={}),If(this,void 0,void 0,function(){var t;return rs(this,function(e){return t={},this.hasLocal(r,!0)&&(t=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,t]})})},l.prototype.hasLocal=function(r,t){if(r===void 0&&(r={}),r.checkLocal&&(!(0,s.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},l}();const nc=Kp;function os(l){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},os(l)}function Rg(l){var r=this.constructor;return this.then(function(t){return r.resolve(l()).then(function(){return t})},function(t){return r.resolve(l()).then(function(){return r.reject(t)})})}const Fg=Rg;function xn(l){var r=this;return new r(function(t,e){if(!(l&&typeof l.length<"u"))return e(new TypeError(os(l)+" "+l+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(l);if(n.length===0)return t([]);var o=n.length;function c(m,y){if(y&&(os(y)==="object"||typeof y=="function")){var C=y.then;if(typeof C=="function"){C.call(y,function(P){c(m,P)},function(P){n[m]={status:"rejected",reason:P},--o===0&&t(n)});return}}n[m]={status:"fulfilled",value:y},--o===0&&t(n)}for(var h=0;h<n.length;h++)c(h,n[h])})}const Hg=xn;function rc(l,r){this.name="AggregateError",this.errors=l,this.message=r||""}rc.prototype=Error.prototype;function Kl(l){var r=this;return new r(function(t,e){if(!(l&&typeof l.length<"u"))return e(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(l);if(n.length===0)return e();for(var o=[],c=0;c<n.length;c++)try{r.resolve(n[c]).then(t).catch(function(h){o.push(h),o.length===n.length&&e(new rc(o,"All promises were rejected"))})}catch(h){e(h)}})}const Go=Kl;var oc=setTimeout;function ic(l){return!!(l&&typeof l.length<"u")}function Gp(){}function Yp(l,r){return function(){l.apply(r,arguments)}}function Sn(l){if(!(this instanceof Sn))throw new TypeError("Promises must be constructed via new");if(typeof l!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],dn(l,this)}function ac(l,r){for(;l._state===3;)l=l._value;if(l._state===0){l._deferreds.push(r);return}l._handled=!0,Sn._immediateFn(function(){var t=l._state===1?r.onFulfilled:r.onRejected;if(t===null){(l._state===1?sc:Gl)(r.promise,l._value);return}var e;try{e=t(l._value)}catch(n){Gl(r.promise,n);return}sc(r.promise,e)})}function sc(l,r){try{if(r===l)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(os(r)==="object"||typeof r=="function")){var t=r.then;if(r instanceof Sn){l._state=3,l._value=r,Yl(l);return}else if(typeof t=="function"){dn(Yp(t,r),l);return}}l._state=1,l._value=r,Yl(l)}catch(e){Gl(l,e)}}function Gl(l,r){l._state=2,l._value=r,Yl(l)}function Yl(l){l._state===2&&l._deferreds.length===0&&Sn._immediateFn(function(){l._handled||Sn._unhandledRejectionFn(l._value)});for(var r=0,t=l._deferreds.length;r<t;r++)ac(l,l._deferreds[r]);l._deferreds=null}function qp(l,r,t){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof r=="function"?r:null,this.promise=t}function dn(l,r){var t=!1;try{l(function(e){t||(t=!0,sc(r,e))},function(e){t||(t=!0,Gl(r,e))})}catch(e){if(t)return;t=!0,Gl(r,e)}}Sn.prototype.catch=function(l){return this.then(null,l)},Sn.prototype.then=function(l,r){var t=new this.constructor(Gp);return ac(this,new qp(l,r,t)),t},Sn.prototype.finally=Fg,Sn.all=function(l){return new Sn(function(r,t){if(!ic(l))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(l);if(e.length===0)return r([]);var n=e.length;function o(h,m){try{if(m&&(os(m)==="object"||typeof m=="function")){var y=m.then;if(typeof y=="function"){y.call(m,function(C){o(h,C)},t);return}}e[h]=m,--n===0&&r(e)}catch(C){t(C)}}for(var c=0;c<e.length;c++)o(c,e[c])})},Sn.any=Go,Sn.allSettled=Hg,Sn.resolve=function(l){return l&&os(l)==="object"&&l.constructor===Sn?l:new Sn(function(r){r(l)})},Sn.reject=function(l){return new Sn(function(r,t){t(l)})},Sn.race=function(l){return new Sn(function(r,t){if(!ic(l))return t(new TypeError("Promise.race accepts an array"));for(var e=0,n=l.length;e<n;e++)Sn.resolve(l[e]).then(r,t)})},Sn._immediateFn=typeof setImmediate=="function"&&function(l){setImmediate(l)}||function(l){oc(l,0)},Sn._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};const lc=Sn;(0,s.hasWin)()&&(window.Promise=window.Promise||lc);const Xp=typeof fetch=="function"?fetch.bind():function(l,r){return new lc(function(t,e){var n=new XMLHttpRequest;n.open(r.method||"get",l),n.withCredentials=r.credentials=="include";for(var o in r.headers||{})n.setRequestHeader(o,r.headers[o]);n.onload=function(c){return t({status:n.status,statusText:n.statusText,text:function(){return lc.resolve(n.responseText)}})},n.onerror=e,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var ki=function(){return ki=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ki.apply(this,arguments)},Zp=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},ql=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Bg=function(){function l(){}return l.prototype.store=function(r,t){return t===void 0&&(t={}),Zp(this,void 0,void 0,function(){return ql(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlStore,this.__props(t,r),t)];case 1:return[2,e.sent()]}})})},l.prototype.load=function(r){return r===void 0&&(r={}),Zp(this,void 0,void 0,function(){return ql(this,function(t){switch(t.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,t.sent()]}})})},l.prototype.request=function(r,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Xp(r,t).then(function(n){var o=n.text(),c=(n.status/200|0)===1;return c?o:o.then(Promise.reject)}).then(function(n){var o=n&&(0,i.isString)(n);return e.contentTypeJson&&o?JSON.parse(n):n})},l.prototype.__props=function(r,t){r===void 0&&(r={});var e=r.contentTypeJson,n=r.headers||{},o=r.fetchOptions||{},c="X-Requested-With",h="Content-Type",m;if((0,i.isUndefined)(n[c])&&(n[c]="XMLHttpRequest"),(0,i.isUndefined)(n[h])&&e&&(n[h]="application/json; charset=utf-8"),t)if(e)m=JSON.stringify(t);else{m=new FormData;for(var y in t)m.append(y,t[y])}var C={method:m?"POST":"GET",credentials:r.credentials,headers:n,body:m};return ki(ki({},C),(0,i.isFunction)(o)?o(C):o)},l}();const zn=Bg;var zg=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Us=function(){return Us=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Us.apply(this,arguments)},Vf=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},Ws=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},a="storage:start",u="storage:after",p="storage:end",d="storage:error",v="local",b="remote",E=function(l){zg(r,l);function r(t){var e=l.call(this,t,"StorageManager",Vg)||this;e.storages={};var n=e.config;return n._disable&&(n.type=void 0),e.storages={},e.add(v,new nc),e.add(b,new zn),e.setCurrent(n.type),e}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},r.prototype.add=function(t,e){return this.storages[t]=e,this},r.prototype.get=function(t){return this.storages[t]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},r.prototype.store=function(t,e){return e===void 0&&(e={}),Vf(this,void 0,void 0,function(){var n,o,c,h,m,y;return Ws(this,function(C){switch(C.label){case 0:n=this.getCurrentStorage(),o=Us(Us({},this.getCurrentOptions()),e),c=this.getRecoveryStorage(),h=this.getCurrentOptions(v),C.label=1;case 1:return C.trys.push([1,5,,9]),[4,this.__exec(n,o,t)];case 2:return C.sent(),m=c,m?[4,this.__exec(c,h,{})]:[3,4];case 3:m=C.sent(),C.label=4;case 4:return[3,9];case 5:return y=C.sent(),c?[4,this.__exec(c,h,t)]:[3,7];case 6:return C.sent(),[3,8];case 7:throw y;case 8:return[3,9];case 9:return[2,t]}})})},r.prototype.load=function(t){return t===void 0&&(t={}),Vf(this,void 0,void 0,function(){var e,n,o,c,h;return Ws(this,function(m){switch(m.label){case 0:return e=this.getCurrentStorage(),n=Us(Us({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(v))]:[3,5];case 1:if(h=m.sent(),(0,i.isEmpty)(h))return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return m.sent(),c=h,[3,5];case 4:return m.sent(),[3,5];case 5:return c?[3,7]:[4,this.__exec(e,n)];case 6:c=m.sent(),m.label=7;case 7:return[2,c||{}]}})})},r.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(n,o){(0,i.isFunction)(e)?e(n,o,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?n(null):o()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===b&&this.get(v)},r.prototype.__exec=function(t,e,n){var o;return Vf(this,void 0,void 0,function(){var c,h,m,y,C,P,N,B,G,ut,ft,Ct,Rt;return Ws(this,function(It){switch(It.label){case 0:if(c=n?"store":"load",h=this.getConfig(),m=h.onStore,y=h.onLoad,this.onStart(c,n),!t)return[2,n||{}];It.label=1;case 1:return It.trys.push([1,14,,15]),P=(o=this.em)===null||o===void 0?void 0:o.getEditor(),N=void 0,n?(G=m,G?[4,m(n,P)]:[3,3]):[3,7];case 2:G=It.sent(),It.label=3;case 3:return B=G||n,ut=e.onStore,ut?[4,e.onStore(B,P)]:[3,5];case 4:ut=It.sent(),It.label=5;case 5:return B=ut||B,[4,t.store(B,e)];case 6:return N=It.sent(),C=n,[3,13];case 7:return[4,t.load(e)];case 8:return N=It.sent(),C=this.__clearKeys(N),ft=e.onLoad,ft?[4,e.onLoad(C,P)]:[3,10];case 9:ft=It.sent(),It.label=10;case 10:return C=ft||C,Ct=y,Ct?[4,y(C,P)]:[3,12];case 11:Ct=It.sent(),It.label=12;case 12:C=Ct||C,It.label=13;case 13:return this.onAfter(c,C,N),this.onEnd(c,C),[3,15];case 14:throw Rt=It.sent(),this.onError(c,Rt),Rt;case 15:return[2,C]}})})},r.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),n=new RegExp("^".concat(e.id)),o={};for(var c in t){var h=c.replace(n,"");o[h]=t[c]}return o},r.prototype.getCurrentOptions=function(t){var e=this.getConfig(),n=t||this.getCurrent();return e.options[n]||{}},r.prototype.onStart=function(t,e){var n=this.em;n&&(n.trigger(a),t&&n.trigger("".concat(a,":").concat(t),e))},r.prototype.onAfter=function(t,e,n){var o=this.em;o&&(o.trigger(u),o.trigger("".concat(u,":").concat(t),e,n),o.trigger("storage:".concat(t),e,n))},r.prototype.onEnd=function(t,e){var n=this.em;n&&(n.trigger(p),t&&n.trigger("".concat(p,":").concat(t),e))},r.prototype.onError=function(t,e){var n=this.em;n&&(n.trigger(d,e),t&&n.trigger("".concat(d,":").concat(t),e),this.onEnd(t,e))},r.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(U);const M=E;var j={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const H=j;var st=bn(330),gt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jt=function(){return jt=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},jt.apply(this,arguments)},Tt=function(l){gt(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.events={},e.appendInput=!0;var n=t.config,o=n===void 0?{}:n,c=e,h=c.model,m=c.eventCapture,y=h.target,C=h.attributes.type;e.config=o,e.em=o.em,e.ppfx=o.pStylePrefix||"",e.pfx=e.ppfx+o.stylePrefix||"",e.target=y;var P=e.ppfx;e.clsField="".concat(P,"field ").concat(P,"field-").concat(C);var N=[["change:value",e.onValueChange],["remove",e.removeView]];return N.forEach(function(B){var G=B[0],ut=B[1];h.off(G,ut),e.listenTo(h,G,ut)}),h.view=e,e.listenTo(h,"change:label",e.render),e.listenTo(h,"change:placeholder",e.rerender),e.events={},m.forEach(function(B){return e.events[B]="onChange"}),e.delegateEvents(),e.init(),e}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(t){var e=this.ppfx,n=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(t){},r.prototype.onUpdate=function(t){},r.prototype.onEvent=function(t){},r.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,i.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(jt(jt({},this.getClbOpts()),{event:t}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},r.prototype.onValueChange=function(t,e,n){if(n===void 0&&(n={}),n.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var o=this.getValueForTarget();t.setTargetValue(o,n)}},r.prototype.renderLabel=function(){var t=this,e=t.$el,n=t.target,o=this.getLabel(),c=this.templateLabel(n);this.createLabel&&(c=this.createLabel({label:o,component:n,trait:this})||""),e.find("[data-label]").append(c)},r.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,n=e.label,o=e.name;return t.t("traitManager.traits.labels.".concat(o))||(0,s.capitalize)(n||o).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,n=t.model,o=n,c=n.attributes.name,h=o.get("placeholder")||o.get("default")||"",m=o.get("type")||"text",y=o.get("min"),C=o.get("max"),P=this.getModelValue(),N=(0,S.default)('<input type="'.concat(m,'">')),B=e.t("traitManager.traits.attributes.".concat(c))||{};N.attr(jt({placeholder:h},B)),(0,i.isUndefined)(P)||(o.set({value:P},{silent:!0}),N.prop("value",P)),y&&N.prop("min",y),C&&N.prop("max",C),this.$input=N}return this.$input.get(0)},r.prototype.getInputElem=function(){var t=this,e=t.input,n=t.$input;return e||n&&n.get&&n.get(0)||this.getElInput()},r.prototype.getModelValue=function(){var t,e=this.model,n=this.target,o=e.getName();if(e.get("changeProp"))t=n.get(o);else{var c=n.get("attributes");t=e.get("value")||c[o]}return(0,i.isUndefined)(t)?"":t},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var t=this,e=t.$el,n=t.appendInput,o=t.model,c=e.find("[data-input]"),h=c[c.length-1],m=o.el;m||(m=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,i.isString)(m)?(h.innerHTML=m,this.elInput=h.firstChild):(n?h.appendChild(m):h.insertBefore(m,h.firstChild),this.elInput=m),o.el=this.elInput},r.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.ppfx,c=t.model,h=c.attributes,m=h.type,y=h.id,C=this.hasLabel&&this.hasLabel(),P="".concat(n,"trait");delete this.$input;var N='<div class="'.concat(P," ").concat(P,"--").concat(m,`">
      `).concat(C?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(m,`" data-input>
        `).concat(this.templateInput?(0,i.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(N),C&&this.renderLabel(),this.renderField(),this.el.className="".concat(P,"__wrp ").concat(P,"__wrp-").concat(y),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(O.G7);const Bt=Tt;Tt.prototype.eventCapture=["change"];var Xt=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),te=function(l){Xt(r,l);function r(t,e){t===void 0&&(t={});var n=l.call(this,t)||this;n.reuseView=!0,n.itemsView=e;var o=t.config||{},c=t.editor;return n.config=o,n.em=c,n.ppfx=o.pStylePrefix||"",n.pfx=n.ppfx+o.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.listenTo(c,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return r.prototype.updatedCollection=function(){var t=this,e=t.ppfx,n=t.className,o=t.em,c=o.getSelected();this.el.className="".concat(n," ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=c?c.traits:[],this.render()},r}(st.Z);const le=te;te.prototype.itemView=Bt;var he=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ce=function(l){he(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,n=t.em,o=e.get("name"),c=e.get("options")||[],h=[],m="<select>";c.forEach(function(P){var N="",B,G,ut;(0,i.isString)(P)?(B=P,G=P):(B=P.name||P.label||P.value,G="".concat((0,i.isUndefined)(P.value)?P.id:P.value).replace(/"/g,"&quot;"),ut=P.style?P.style.replace(/"/g,"&quot;"):"",N+=ut?' style="'.concat(ut,'"'):"");var ft=n.t("traitManager.traits.options.".concat(o,".").concat(G))||B;m+='<option value="'.concat(G,'"').concat(N,">").concat(ft,"</option>"),h.push(G)}),m+="</select>",this.$input=(0,S.default)(m);var y=e.getTargetValue(),C=h.indexOf(y)>=0?y:e.get("default");!(0,i.isUndefined)(C)&&this.$input.val(C)}return this.$input.get(0)},r}(Bt);const me=ce;var ke=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ee=function(l){ke(r,l);function r(){var t=l!==null&&l.apply(this,arguments)||this;return t.appendInput=!1,t}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},r.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!this.$input,o=Bt.prototype.getInputEl.apply(this,t);if(n){var c=void 0,h=void 0,m=this,y=m.model,C=m.target,P=y.attributes.valueFalse,N=y.getName();y.get("changeProp")?(c=C.get(N),h=c):(h=C.get("attributes")[N],c=!!(h||h==="")),!(0,i.isUndefined)(P)&&h===P&&(c=!1),o.checked=c}return o},r}(Bt);const Ke=Ee;var yn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tr=function(l){yn(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this,n=t.ppfx||"";return e.opts=t,e.ppfx=n,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(t,e){var n=this.model,o=t||n.get("defaults"),c=this.getInputEl();c&&(c.value=o)},r.prototype.handleModelChange=function(t,e,n){this.setValue(e,n)},r.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},r.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,n=t.opts,o=n.type||"text",c=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,S.default)('<input type="'.concat(o,'" placeholder="').concat(c,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(O.G7);const _n=tr;tr.prototype.events={change:"handleChange"};var Zr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kr=function(l){Zr(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;return(0,i.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return r.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},r.prototype.setValue=function(t,e){var n=e||{},o=this.validateInputValue(t,{deepCheck:1}),c={value:o.value,unit:""};(o.unit||o.force)&&(c.unit=o.unit),this.model.set(c,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},r.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=['<option value="" disabled hidden>-</option>'];e.forEach(function(c){var h=c==t.get("unit")?"selected":"";n.push("<option ".concat(h,">").concat(c,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));this.setValue(this.normalizeValue(n+e)),this.elementUpdated()},r.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));this.setValue(this.normalizeValue(n-e)),this.elementUpdated()},r.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,ee.on)(this.doc,"mousemove",this.moveIncrement),(0,ee.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,n=e.get("step"),o=this.current,c=this.normalizeValue(o.val+(o.y-t.pageY)*n),h=this.validateInputValue(c),m=h.value,y=h.unit;return this.prValue=m,e.set({value:m,unit:y},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,ee.S1)(this.doc,"mouseup",this.upIncrement),(0,ee.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},r.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var n=this.model,o=n.get("step"),c=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var h=o.toString().split(".")[1];c=h?h.length:0}return c?parseFloat(t.toFixed(c)):t},r.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var n=0,o=e||{},c=this.model,h="",m=(0,i.isUndefined)(t)?h:t,y=e.units||c.get("units")||[],C=c.get("unit")||y.length&&y[0]||"",P=(0,i.isUndefined)(e.max)?c.get("max"):e.max,N=(0,i.isUndefined)(e.min)?c.get("min"):e.min,B=!!c.get("limitlessMax"),G=!!c.get("limitlessMin");if(o.deepCheck){var ut=c.get("fixedValues")||[];if(m===""&&(C=""),m){var ft=new RegExp("^"+ut.join("|"),"g");if(ut.length&&ft.test(m))m=m.match(ft)[0],C="",n=1;else{var Ct=m+"";m+="",m=parseFloat(m.replace(",",".")),m=isNaN(m)?h:m;var Rt=Ct.replace(m,"");(0,i.indexOf)(y,Rt)>=0&&(C=Rt)}}}return!B&&!(0,i.isUndefined)(P)&&P!==""&&(m=m>P?P:m),!G&&!(0,i.isUndefined)(N)&&N!==""&&(m=m<N?N:m),{force:n,value:m,unit:C}},r.prototype.render=function(){_n.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},r}(_n);const Un=kr;kr.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var Hr=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fr=function(l){Hr(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,n=e.value,o=e.unit;return!(0,i.isUndefined)(n)&&n!==""?n+o:t.get("default")},r.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,n=t.model,o=this.getModelValue(),c=new Un({contClass:"".concat(e,"field-int"),type:"number",model:n,ppfx:e});c.render(),this.$input=c.inputEl,this.$unit=c.unitEl,n.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=c.el}return this.input},r}(Bt);const er=fr;function Kn(l,r){if(!(0,s.hasWin)())return;var t={beforeShow:B,move:B,change:B,show:B,hide:B,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],n=!!/msie/i.exec(window.navigator.userAgent),o=function(){function lt(Jt,re){return!!~(""+Jt).indexOf(re)}var Dt=document.createElement("div"),at=Dt.style;return at.cssText="background-color:rgba(0,0,0,.5)",lt(at.backgroundColor,"rgba")||lt(at.backgroundColor,"hsla")}(),c=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),h=function(){var lt="";if(n)for(var Dt=1;Dt<=6;Dt++)lt+="<div class='sp-"+Dt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",lt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function m(lt,Dt,at,Jt){for(var re=[],ye=0;ye<lt.length;ye++){var ze=lt[ye];if(ze){var Ge=ue(ze),Ye=Ge.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Ye+=ue.equals(Dt,ze)?" sp-thumb-active":"";var jn=Ge.toString(Jt.preferredFormat||"rgb"),nr=o?"background-color:"+Ge.toRgbString():"filter:"+Ge.toFilter();re.push('<span title="'+jn+'" data-color="'+Ge.toRgbString()+'" class="'+Ye+'"><span class="sp-thumb-inner" style="'+nr+';"></span></span>')}else{var Gn="sp-clear-display";re.push(l("<div />").append(l('<span data-color="" style="background-color:transparent;" class="'+Gn+'"></span>').attr("title",Jt.noColorSelectedText)).html())}}return"<div class='sp-cf "+at+"'>"+re.join("")+"</div>"}function y(){for(var lt=0;lt<e.length;lt++)e[lt]&&e[lt].hide()}function C(lt,Dt){var at=l.extend({},t,lt);return at.callbacks={move:ut(at.move,Dt),change:ut(at.change,Dt),show:ut(at.show,Dt),hide:ut(at.hide,Dt),beforeShow:ut(at.beforeShow,Dt)},at}function P(lt,Dt){var at=C(Dt,lt),Jt=at.flat,re=at.showSelectionPalette,ye=at.localStorageKey,ze=at.theme,Ge=at.callbacks,Ye=Ct(su,10),jn=!1,nr=!1,Gn=!0,qo=0,Do=0,pr=0,Dn=0,Oa=0,Sh=0,Oh=0,nu=0,ru=0,qf=0,Ta=1,Th=[],Xf=[],Eh={},Ea=at.selectionPalette.slice(0),wP=at.maxSelectionSize,Zw="sp-dragging",Ys=null,Zf=lt.ownerDocument;Zf.body;var hr=l(lt),_m=!1,Je=l(h,Zf).addClass(ze),_P=Je.find(".sp-picker-container"),Ph=Je.find(".sp-color"),kh=Je.find(".sp-dragger"),bm=Je.find(".sp-hue"),Ah=Je.find(".sp-slider"),Jf=Je.find(".sp-alpha-inner"),Jw=Je.find(".sp-alpha"),Mh=Je.find(".sp-alpha-handle"),Pa=Je.find(".sp-input"),Qw=Je.find(".sp-palette"),t_=Je.find(".sp-initial"),e_=Je.find(".sp-cancel"),Cm=Je.find(".sp-clear"),n_=Je.find(".sp-choose"),xm=Je.find(".sp-palette-toggle"),Lh=hr.is("input"),bP=Lh&&hr.attr("type")==="color"&&Rt(),Sm=Lh&&!Jt,gc=Sm?l(c).addClass(ze).addClass(at.className).addClass(at.replacerClassName):l([]),Qf=Sm?gc:hr,mc=gc.find(".sp-preview-inner"),td=at.color||Lh&&hr.val(),yc=!1,wc=at.preferredFormat,CP=!at.showButtons||at.clickoutFiresChange,qs=!td,ou=at.allowEmpty&&!bP;function Om(){if(at.showPaletteOnly&&(at.showPalette=!0),xm.text(at.showPaletteOnly?at.togglePaletteMoreText:at.togglePaletteLessText),at.palette){Th=at.palette.slice(0),Xf=l.isArray(Th[0])?Th:[Th],Eh={};for(var De=0;De<Xf.length;De++)for(var Ie=0;Ie<Xf[De].length;Ie++){var vn=ue(Xf[De][Ie]).toRgbString();Eh[vn]=!0}}Je.toggleClass("sp-flat",Jt),Je.toggleClass("sp-input-disabled",!at.showInput),Je.toggleClass("sp-alpha-enabled",at.showAlpha),Je.toggleClass("sp-clear-enabled",ou),Je.toggleClass("sp-buttons-disabled",!at.showButtons),Je.toggleClass("sp-palette-buttons-disabled",!at.togglePaletteOnly),Je.toggleClass("sp-palette-disabled",!at.showPalette),Je.toggleClass("sp-palette-only",at.showPaletteOnly),Je.toggleClass("sp-initial-disabled",!at.showInitial),Je.addClass(at.className).addClass(at.containerClassName),su()}function xP(){if(n&&Je.find("*:not(input)").attr("unselectable","on"),Om(),Sm&&hr.after(gc).hide(),ou||Cm.hide(),Jt)hr.after(Je).hide();else{var De=at.appendTo==="parent"?hr.parent():l(at.appendTo);De.length!==1&&(De=l("body")),De.append(Je)}r_(),Qf.bind("click.spectrum touchstart.spectrum",function(We){_m||a_(),We.stopPropagation(),l(We.target).is("input")||We.preventDefault()}),(hr.is(":disabled")||at.disabled===!0)&&f_(),Je.click(G),Pa.change(km),Pa.bind("paste",function(){setTimeout(km,1)}),Pa.keydown(function(We){We.keyCode==13&&km()}),e_.text(at.cancelText),e_.bind("click.spectrum",function(We){We.stopPropagation(),We.preventDefault(),u_(),Xs()}),Cm.attr("title",at.clearText),Cm.bind("click.spectrum",function(We){We.stopPropagation(),We.preventDefault(),qs=!0,_c(),Jt&&au(!0)}),n_.text(at.chooseText),n_.bind("click.spectrum",function(We){We.stopPropagation(),We.preventDefault(),n&&Pa.is(":focus")&&Pa.trigger("change"),OP()&&(au(!0),Xs())}),xm.text(at.showPaletteOnly?at.togglePaletteMoreText:at.togglePaletteLessText),xm.bind("click.spectrum",function(We){We.stopPropagation(),We.preventDefault(),at.showPaletteOnly=!at.showPaletteOnly,!at.showPaletteOnly&&!Jt&&Je.css("left","-="+(_P.outerWidth(!0)+5)),Om()}),ft(Jw,function(We,ji,lu){Ta=We/Oa,qs=!1,lu.shiftKey&&(Ta=Math.round(Ta*10)/10),_c()},Em,Pm),ft(bm,function(We,ji){nu=parseFloat(ji/Dn),qs=!1,at.showAlpha||(Ta=1),_c()},Em,Pm),ft(Ph,function(We,ji,lu){if(!lu.shiftKey)Ys=null;else if(!Ys){var Dh=ru*qo,ed=Do-qf*Do,nd=Math.abs(We-Dh)>Math.abs(ji-ed);Ys=nd?"x":"y"}var AP=!Ys||Ys==="x",MP=!Ys||Ys==="y";AP&&(ru=parseFloat(We/qo)),MP&&(qf=parseFloat((Do-ji)/Do)),qs=!1,at.showAlpha||(Ta=1),_c()},Em,Pm),td?(iu(td),bc(),wc=at.preferredFormat||ue(td).getFormat(),Tm(td)):bc(),Jt&&Am();function Ie(We){return We.data&&We.data.ignore?(iu(l(We.target).closest(".sp-thumb-el").data("color")),_c()):(iu(l(We.target).closest(".sp-thumb-el").data("color")),_c(),at.hideAfterPaletteSelect&&(au(!0),Xs())),!1}var vn=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Qw.delegate(".sp-thumb-el",vn,Ie),t_.delegate(".sp-thumb-el:nth-child(1)",vn,{ignore:!0},Ie)}function r_(){if(ye&&window.localStorage){try{var De=window.localStorage[ye].split(",#");De.length>1&&(delete window.localStorage[ye],l.each(De,function(Ie,vn){Tm(vn)}))}catch{}try{Ea=window.localStorage[ye].split(";")}catch{}}}function Tm(De){if(re){var Ie=ue(De).toRgbString();if(!Eh[Ie]&&l.inArray(Ie,Ea)===-1)for(Ea.push(Ie);Ea.length>wP;)Ea.shift();if(ye&&window.localStorage)try{window.localStorage[ye]=Ea.join(";")}catch{}}}function SP(){var De=[];if(at.showPalette)for(var Ie=0;Ie<Ea.length;Ie++){var vn=ue(Ea[Ie]).toRgbString();Eh[vn]||De.push(Ea[Ie])}return De.reverse().slice(0,at.maxSelectionSize)}function o_(){var De=wo(),Ie=l.map(Xf,function(vn,We){return m(vn,De,"sp-palette-row sp-palette-row-"+We,at)});r_(),Ea&&Ie.push(m(SP(),De,"sp-palette-row sp-palette-row-selection",at)),Qw.html(Ie.join(""))}function i_(){if(at.showInitial){var De=yc,Ie=wo();t_.html(m([De,Ie],Ie,"sp-palette-row-initial",at))}}function Em(){(Do<=0||qo<=0||Dn<=0)&&su(),nr=!0,Je.addClass(Zw),Ys=null,hr.trigger("dragstart.spectrum",[wo()])}function Pm(){nr=!1,Je.removeClass(Zw),hr.trigger("dragstop.spectrum",[wo()])}function km(){var De=Pa.val();if((De===null||De==="")&&ou)iu(null),au(!0);else{var Ie=ue(De);Ie.isValid()?(iu(Ie),au(!0)):Pa.addClass("sp-validation-error")}}function a_(){jn?Xs():Am()}function Am(){var De=l.Event("beforeShow.spectrum");if(jn){su();return}if(hr.trigger("beforeShow.spectrum",[wo()]),!(Ge.beforeShow(wo())===!1||De.isDefaultPrevented())){y(),jn=!0;var Ie=l(Zf);Ie.bind("keydown.spectrum",s_),Ie.bind("click.spectrum",l_),l(window).bind("resize.spectrum",Ye),gc.addClass("sp-active"),Je.removeClass("sp-hidden"),su(),bc(),yc=wo(),i_(),Ge.show(yc),hr.trigger("show.spectrum",[yc])}}function s_(De){De.keyCode===27&&Xs()}function l_(De){De.button!=2&&(nr||(CP?au(!0):u_(),Xs()))}function Xs(){!jn||Jt||(jn=!1,l(Zf).unbind("keydown.spectrum",s_),l(Zf).unbind("click.spectrum",l_),l(window).unbind("resize.spectrum",Ye),gc.removeClass("sp-active"),Je.addClass("sp-hidden"),Ge.hide(wo()),hr.trigger("hide.spectrum",[wo()]))}function u_(){iu(yc,!0)}function iu(De,Ie){if(ue.equals(De,wo())){bc();return}var vn,We;!De&&ou?qs=!0:(qs=!1,Gn=!De,vn=ue(De),We=vn.toHsv(),nu=We.h%360/360,ru=We.s,qf=We.v,Ta=We.a),bc(),vn&&vn.isValid()&&!Ie&&(wc=at.preferredFormat||vn.getFormat())}function wo(De){return De=De||{},ou&&qs?null:ue.fromRatio({h:nu,s:ru,v:qf,a:Math.round(Ta*100)/100},{format:De.format||wc})}function OP(){return!Pa.hasClass("sp-validation-error")}function _c(){bc(),Ge.move(wo()),hr.trigger("move.spectrum",[wo()])}function bc(){Pa.removeClass("sp-validation-error"),c_();var De=ue.fromRatio({h:nu,s:1,v:1});Ph.css("background-color",De.toHexString());var Ie=wc;Ta<1&&!(Ta===0&&Ie==="name")&&(Ie==="hex"||Ie==="hex3"||Ie==="hex6"||Ie==="name")&&(Ie="rgb");var vn=wo({format:Ie}),We="";if(mc.removeClass("sp-clear-display"),mc.css("background-color","transparent"),!vn&&ou)mc.addClass("sp-clear-display");else{var ji=vn.toHexString(),lu=vn.toRgbString();if(o||vn.alpha===1?mc.css("background-color",lu):(mc.css("background-color","transparent"),mc.css("filter",vn.toFilter())),at.showAlpha){var Dh=vn.toRgb();Dh.a=0;var ed=ue(Dh).toRgbString(),nd="linear-gradient(left, "+ed+", "+ji+")";n?Jf.css("filter",ue(ed).toFilter({gradientType:1},ji)):(Jf.css("background","-webkit-"+nd),Jf.css("background","-moz-"+nd),Jf.css("background","-ms-"+nd),Jf.css("background","linear-gradient(to right, "+ed+", "+ji+")"))}We=vn.toString(Ie)}at.showInput&&Pa.val(We),at.showPalette&&o_(),i_()}function c_(){var De=ru,Ie=qf;if(ou&&qs)Mh.hide(),Ah.hide(),kh.hide();else{Mh.show(),Ah.show(),kh.show();var vn=De*qo,We=Do-Ie*Do;vn=Math.max(-pr,Math.min(qo-pr,vn-pr)),We=Math.max(-pr,Math.min(Do-pr,We-pr)),kh.css({top:We+"px",left:vn+"px"});var ji=Ta*Oa;Mh.css({left:ji-Sh/2+"px"});var lu=nu*Dn;Ah.css({top:lu-Oh+"px"})}}function au(De){var Ie=wo(),vn="",We=Gn?!0:!ue.equals(Ie,yc);Ie&&(vn=Ie.toString(wc),!jn&&Tm(Ie)),Lh&&hr.val(vn),De&&We&&(Ge.change(Ie),hr.trigger("change",[Ie]))}function su(){jn&&(qo=Ph.width(),Do=Ph.height(),pr=kh.height(),bm.width(),Dn=bm.height(),Oh=Ah.height(),Oa=Jw.width(),Sh=Mh.width(),Jt||(Je.css("position","absolute"),at.offset?Je.offset(at.offset):Je.offset(N(Je,Qf))),c_(),at.showPalette&&o_(),hr.trigger("reflow.spectrum"))}function TP(){hr.show(),Qf.unbind("click.spectrum touchstart.spectrum"),Je.remove(),gc.remove(),e[jh.id]=null}function EP(De,Ie){if(De===r)return l.extend({},at);if(Ie===r)return at[De];at[De]=Ie,De==="preferredFormat"&&(wc=at.preferredFormat),Om()}function PP(){_m=!1,hr.attr("disabled",!1),Qf.removeClass("sp-disabled")}function f_(){Xs(),_m=!0,hr.attr("disabled",!0),Qf.addClass("sp-disabled")}function kP(De){at.offset=De,su()}xP();var jh={show:Am,hide:Xs,toggle:a_,reflow:su,option:EP,enable:PP,disable:f_,offset:kP,set:function(De){iu(De),au()},get:wo,destroy:TP,container:Je};return jh.id=e.push(jh)-1,jh}function N(lt,Dt){var at=0,Jt=lt.outerWidth(),re=lt.outerHeight(),ye=Dt.outerHeight(),ze=lt[0].ownerDocument,Ge=ze.documentElement,Ye=Ge.clientWidth,jn=Ge.clientHeight,nr=l(ze).scrollLeft(),Gn=l(ze).scrollTop(),qo=Ye+nr,Do=jn+Gn,pr=Dt.offset();return pr.top+=ye,pr.left-=Math.min(pr.left,pr.left+Jt>qo&&qo>Jt?Math.abs(pr.left+Jt-qo):0),pr.top-=Math.min(pr.top,pr.top+re>Do&&Do>re?Math.abs(re+ye-at):at),pr}function B(){}function G(lt){lt.stopPropagation()}function ut(lt,Dt){var at=Array.prototype.slice,Jt=at.call(arguments,2);return function(){return lt.apply(Dt,Jt.concat(at.call(arguments)))}}function ft(lt,Dt,at,Jt){Dt=Dt||function(){},at=at||function(){},Jt=Jt||function(){};var re=document,ye=!1,ze={},Ge=0,Ye=0,jn="ontouchstart"in window,nr={};nr.selectstart=Gn,nr.dragstart=Gn,nr["touchmove mousemove"]=qo,nr["touchend mouseup"]=pr;function Gn(Dn){Dn.stopPropagation&&Dn.stopPropagation(),Dn.preventDefault&&Dn.preventDefault(),Dn.returnValue=!1}function qo(Dn){if(ye){if(n&&re.documentMode<9&&!Dn.button)return pr();var Oa=Dn&&Dn.touches&&Dn.touches[0],Sh=Oa&&Oa.pageX||Dn.pageX,Oh=Oa&&Oa.pageY||Dn.pageY,nu=Math.max(0,Math.min(Sh-ze.left,Ye)),ru=Math.max(0,Math.min(Oh-ze.top,Ge));jn&&Gn(Dn),Dt.apply(lt,[nu,ru,Dn])}}function Do(Dn){var Oa=Dn.which?Dn.which==3:Dn.button==2;!Oa&&!ye&&at.apply(lt,arguments)!==!1&&(ye=!0,Ge=l(lt).height(),Ye=l(lt).width(),ze=l(lt).offset(),l(re).bind(nr),l(re.body).addClass("sp-dragging"),qo(Dn),Gn(Dn))}function pr(){ye&&(l(re).unbind(nr),l(re.body).removeClass("sp-dragging"),setTimeout(function(){Jt.apply(lt,arguments)},0)),ye=!1}l(lt).bind("touchstart mousedown",Do)}function Ct(lt,Dt,at){var Jt;return function(){var re=this,ye=arguments,ze=function(){Jt=null,lt.apply(re,ye)};at&&clearTimeout(Jt),(at||!Jt)&&(Jt=setTimeout(ze,Dt))}}function Rt(){return l.fn.spectrum.inputTypeColorSupport()}var It="spectrum.id";l.fn.spectrum=function(lt,Dt){if(typeof lt=="string"){var at=this,Jt=Array.prototype.slice.call(arguments,1);return this.each(function(){var re=e[l(this).data(It)];if(re){var ye=re[lt];if(!ye)throw new Error("Spectrum: no such method: '"+lt+"'");lt=="get"?at=re.get():lt=="container"?at=re.container:lt=="option"?at=re.option.apply(re,Jt):lt=="destroy"?(re.destroy(),l(this).removeData(It)):ye.apply(re,Jt)}}),at}return this.spectrum("destroy").each(function(){var re=l.extend({},lt,l(this).data()),ye=P(this,re);l(this).data(It,ye.id)})},l.fn.spectrum.load=!0,l.fn.spectrum.loadOpts={},l.fn.spectrum.draggable=ft,l.fn.spectrum.defaults=t,l.fn.spectrum.inputTypeColorSupport=function lt(){if(typeof lt._cachedResult>"u"){var Dt=l("<input type='color'/>")[0];lt._cachedResult=Dt.type==="color"&&Dt.value!==""}return lt._cachedResult},l.spectrum={},l.spectrum.localization={},l.spectrum.palettes={},l.fn.spectrum.processNativeColorInputs=function(){var lt=l("input[type=color]");lt.length&&!Rt()&&lt.spectrum({preferredFormat:"hex6"})};var ne=/^[\s,#]+/,de=/\s+$/,Pe=0,He=Math,ae=He.round,Re=He.min,tn=He.max,xr=He.random,ue=function(lt,Dt){if(lt=lt||"",Dt=Dt||{},lt instanceof ue)return lt;if(!(this instanceof ue))return new ue(lt,Dt);var at=Mr(lt);this._originalInput=lt,this._r=at.r,this._g=at.g,this._b=at.b,this._a=at.a,this._roundA=ae(100*this._a)/100,this._format=Dt.format||at.format,this._gradientType=Dt.gradientType,this._r<1&&(this._r=ae(this._r)),this._g<1&&(this._g=ae(this._g)),this._b<1&&(this._b=ae(this._b)),this._ok=at.ok,this._tc_id=Pe++};ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var lt=this.toRgb();return(lt.r*299+lt.g*587+lt.b*114)/1e3},setAlpha:function(lt){return this._a=Xw(lt),this._roundA=ae(100*this._a)/100,this},toHsv:function(){var lt=Li(this._r,this._g,this._b);return{h:lt.h*360,s:lt.s,v:lt.v,a:this._a}},toHsvString:function(){var lt=Li(this._r,this._g,this._b),Dt=ae(lt.h*360),at=ae(lt.s*100),Jt=ae(lt.v*100);return this._a==1?"hsv("+Dt+", "+at+"%, "+Jt+"%)":"hsva("+Dt+", "+at+"%, "+Jt+"%, "+this._roundA+")"},toHsl:function(){var lt=Ca(this._r,this._g,this._b);return{h:lt.h*360,s:lt.s,l:lt.l,a:this._a}},toHslString:function(){var lt=Ca(this._r,this._g,this._b),Dt=ae(lt.h*360),at=ae(lt.s*100),Jt=ae(lt.l*100);return this._a==1?"hsl("+Dt+", "+at+"%, "+Jt+"%)":"hsla("+Dt+", "+at+"%, "+Jt+"%, "+this._roundA+")"},toHex:function(lt){return bh(this._r,this._g,this._b,lt)},toHexString:function(lt){return"#"+this.toHex(lt)},toHex8:function(){return Ch(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:ae(this._r),g:ae(this._g),b:ae(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+ae(this._r)+", "+ae(this._g)+", "+ae(this._b)+")":"rgba("+ae(this._r)+", "+ae(this._g)+", "+ae(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:ae(Wn(this._r,255)*100)+"%",g:ae(Wn(this._g,255)*100)+"%",b:ae(Wn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+ae(Wn(this._r,255)*100)+"%, "+ae(Wn(this._g,255)*100)+"%, "+ae(Wn(this._b,255)*100)+"%)":"rgba("+ae(Wn(this._r,255)*100)+"%, "+ae(Wn(this._g,255)*100)+"%, "+ae(Wn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:dP[bh(this._r,this._g,this._b,!0)]||!1},toFilter:function(lt){var Dt="#"+Ch(this._r,this._g,this._b,this._a),at=Dt,Jt=this._gradientType?"GradientType = 1, ":"";if(lt){var re=ue(lt);at=re.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Jt+"startColorstr="+Dt+",endColorstr="+at+")"},toString:function(lt){var Dt=!!lt;lt=lt||this._format;var at=!1,Jt=this._a<1&&this._a>=0,re=!Dt&&Jt&&(lt==="hex"||lt==="hex6"||lt==="hex3"||lt==="name");return re?lt==="name"&&this._a===0?this.toName():this.toRgbString():(lt==="rgb"&&(at=this.toRgbString()),lt==="prgb"&&(at=this.toPercentageRgbString()),(lt==="hex"||lt==="hex6")&&(at=this.toHexString()),lt==="hex3"&&(at=this.toHexString(!0)),lt==="hex8"&&(at=this.toHex8String()),lt==="name"&&(at=this.toName()),lt==="hsl"&&(at=this.toHslString()),lt==="hsv"&&(at=this.toHsvString()),at||this.toHexString())},_applyModification:function(lt,Dt){var at=lt.apply(null,[this].concat([].slice.call(Dt)));return this._r=at._r,this._g=at._g,this._b=at._b,this.setAlpha(at._a),this},lighten:function(){return this._applyModification(nP,arguments)},brighten:function(){return this._applyModification(rP,arguments)},darken:function(){return this._applyModification(oP,arguments)},desaturate:function(){return this._applyModification(ym,arguments)},saturate:function(){return this._applyModification(tP,arguments)},greyscale:function(){return this._applyModification(eP,arguments)},spin:function(){return this._applyModification(iP,arguments)},_applyCombination:function(lt,Dt){return lt.apply(null,[this].concat([].slice.call(Dt)))},analogous:function(){return this._applyCombination(cP,arguments)},complement:function(){return this._applyCombination(aP,arguments)},monochromatic:function(){return this._applyCombination(fP,arguments)},splitcomplement:function(){return this._applyCombination(uP,arguments)},triad:function(){return this._applyCombination(sP,arguments)},tetrad:function(){return this._applyCombination(lP,arguments)}},ue.fromRatio=function(lt,Dt){if(typeof lt=="object"){var at={};for(var Jt in lt)lt.hasOwnProperty(Jt)&&(Jt==="a"?at[Jt]=lt[Jt]:at[Jt]=Yf(lt[Jt]));lt=at}return ue(lt,Dt)};function Mr(lt){var Dt={r:0,g:0,b:0},at=1,Jt=!1,re=!1;return typeof lt=="string"&&(lt=yP(lt)),typeof lt=="object"&&(lt.hasOwnProperty("r")&&lt.hasOwnProperty("g")&&lt.hasOwnProperty("b")?(Dt=ba(lt.r,lt.g,lt.b),Jt=!0,re=String(lt.r).substr(-1)==="%"?"prgb":"rgb"):lt.hasOwnProperty("h")&&lt.hasOwnProperty("s")&&lt.hasOwnProperty("v")?(lt.s=Yf(lt.s),lt.v=Yf(lt.v),Dt=_h(lt.h,lt.s,lt.v),Jt=!0,re="hsv"):lt.hasOwnProperty("h")&&lt.hasOwnProperty("s")&&lt.hasOwnProperty("l")&&(lt.s=Yf(lt.s),lt.l=Yf(lt.l),Dt=xa(lt.h,lt.s,lt.l),Jt=!0,re="hsl"),lt.hasOwnProperty("a")&&(at=lt.a)),at=Xw(at),{ok:Jt,format:lt.format||re,r:Re(255,tn(Dt.r,0)),g:Re(255,tn(Dt.g,0)),b:Re(255,tn(Dt.b,0)),a:at}}function ba(lt,Dt,at){return{r:Wn(lt,255)*255,g:Wn(Dt,255)*255,b:Wn(at,255)*255}}function Ca(lt,Dt,at){lt=Wn(lt,255),Dt=Wn(Dt,255),at=Wn(at,255);var Jt=tn(lt,Dt,at),re=Re(lt,Dt,at),ye,ze,Ge=(Jt+re)/2;if(Jt==re)ye=ze=0;else{var Ye=Jt-re;switch(ze=Ge>.5?Ye/(2-Jt-re):Ye/(Jt+re),Jt){case lt:ye=(Dt-at)/Ye+(Dt<at?6:0);break;case Dt:ye=(at-lt)/Ye+2;break;case at:ye=(lt-Dt)/Ye+4;break}ye/=6}return{h:ye,s:ze,l:Ge}}function xa(lt,Dt,at){var Jt,re,ye;lt=Wn(lt,360),Dt=Wn(Dt,100),at=Wn(at,100);function ze(jn,nr,Gn){return Gn<0&&(Gn+=1),Gn>1&&(Gn-=1),Gn<1/6?jn+(nr-jn)*6*Gn:Gn<1/2?nr:Gn<2/3?jn+(nr-jn)*(2/3-Gn)*6:jn}if(Dt===0)Jt=re=ye=at;else{var Ge=at<.5?at*(1+Dt):at+Dt-at*Dt,Ye=2*at-Ge;Jt=ze(Ye,Ge,lt+1/3),re=ze(Ye,Ge,lt),ye=ze(Ye,Ge,lt-1/3)}return{r:Jt*255,g:re*255,b:ye*255}}function Li(lt,Dt,at){lt=Wn(lt,255),Dt=Wn(Dt,255),at=Wn(at,255);var Jt=tn(lt,Dt,at),re=Re(lt,Dt,at),ye,ze,Ge=Jt,Ye=Jt-re;if(ze=Jt===0?0:Ye/Jt,Jt==re)ye=0;else{switch(Jt){case lt:ye=(Dt-at)/Ye+(Dt<at?6:0);break;case Dt:ye=(at-lt)/Ye+2;break;case at:ye=(lt-Dt)/Ye+4;break}ye/=6}return{h:ye,s:ze,v:Ge}}function _h(lt,Dt,at){lt=Wn(lt,360)*6,Dt=Wn(Dt,100),at=Wn(at,100);var Jt=He.floor(lt),re=lt-Jt,ye=at*(1-Dt),ze=at*(1-re*Dt),Ge=at*(1-(1-re)*Dt),Ye=Jt%6,jn=[at,ze,ye,ye,Ge,at][Ye],nr=[Ge,at,at,ze,ye,ye][Ye],Gn=[ye,ye,Ge,at,at,ze][Ye];return{r:jn*255,g:nr*255,b:Gn*255}}function bh(lt,Dt,at,Jt){var re=[eu(ae(lt).toString(16)),eu(ae(Dt).toString(16)),eu(ae(at).toString(16))];return Jt&&re[0].charAt(0)==re[0].charAt(1)&&re[1].charAt(0)==re[1].charAt(1)&&re[2].charAt(0)==re[2].charAt(1)?re[0].charAt(0)+re[1].charAt(0)+re[2].charAt(0):re.join("")}function Ch(lt,Dt,at,Jt){var re=[eu(gP(Jt)),eu(ae(lt).toString(16)),eu(ae(Dt).toString(16)),eu(ae(at).toString(16))];return re.join("")}ue.equals=function(lt,Dt){return!lt||!Dt?!1:ue(lt).toRgbString()==ue(Dt).toRgbString()},ue.random=function(){return ue.fromRatio({r:xr(),g:xr(),b:xr()})};function ym(lt,Dt){Dt=Dt===0?0:Dt||10;var at=ue(lt).toHsl();return at.s-=Dt/100,at.s=xh(at.s),ue(at)}function tP(lt,Dt){Dt=Dt===0?0:Dt||10;var at=ue(lt).toHsl();return at.s+=Dt/100,at.s=xh(at.s),ue(at)}function eP(lt){return ue(lt).desaturate(100)}function nP(lt,Dt){Dt=Dt===0?0:Dt||10;var at=ue(lt).toHsl();return at.l+=Dt/100,at.l=xh(at.l),ue(at)}function rP(lt,Dt){Dt=Dt===0?0:Dt||10;var at=ue(lt).toRgb();return at.r=tn(0,Re(255,at.r-ae(255*-(Dt/100)))),at.g=tn(0,Re(255,at.g-ae(255*-(Dt/100)))),at.b=tn(0,Re(255,at.b-ae(255*-(Dt/100)))),ue(at)}function oP(lt,Dt){Dt=Dt===0?0:Dt||10;var at=ue(lt).toHsl();return at.l-=Dt/100,at.l=xh(at.l),ue(at)}function iP(lt,Dt){var at=ue(lt).toHsl(),Jt=(ae(at.h)+Dt)%360;return at.h=Jt<0?360+Jt:Jt,ue(at)}function aP(lt){var Dt=ue(lt).toHsl();return Dt.h=(Dt.h+180)%360,ue(Dt)}function sP(lt){var Dt=ue(lt).toHsl(),at=Dt.h;return[ue(lt),ue({h:(at+120)%360,s:Dt.s,l:Dt.l}),ue({h:(at+240)%360,s:Dt.s,l:Dt.l})]}function lP(lt){var Dt=ue(lt).toHsl(),at=Dt.h;return[ue(lt),ue({h:(at+90)%360,s:Dt.s,l:Dt.l}),ue({h:(at+180)%360,s:Dt.s,l:Dt.l}),ue({h:(at+270)%360,s:Dt.s,l:Dt.l})]}function uP(lt){var Dt=ue(lt).toHsl(),at=Dt.h;return[ue(lt),ue({h:(at+72)%360,s:Dt.s,l:Dt.l}),ue({h:(at+216)%360,s:Dt.s,l:Dt.l})]}function cP(lt,Dt,at){Dt=Dt||6,at=at||30;var Jt=ue(lt).toHsl(),re=360/at,ye=[ue(lt)];for(Jt.h=(Jt.h-(re*Dt>>1)+720)%360;--Dt;)Jt.h=(Jt.h+re)%360,ye.push(ue(Jt));return ye}function fP(lt,Dt){Dt=Dt||6;for(var at=ue(lt).toHsv(),Jt=at.h,re=at.s,ye=at.v,ze=[],Ge=1/Dt;Dt--;)ze.push(ue({h:Jt,s:re,v:ye})),ye=(ye+Ge)%1;return ze}ue.mix=function(lt,Dt,at){at=at===0?0:at||50;var Jt=ue(lt).toRgb(),re=ue(Dt).toRgb(),ye=at/100,ze=ye*2-1,Ge=re.a-Jt.a,Ye;ze*Ge==-1?Ye=ze:Ye=(ze+Ge)/(1+ze*Ge),Ye=(Ye+1)/2;var jn=1-Ye,nr={r:re.r*Ye+Jt.r*jn,g:re.g*Ye+Jt.g*jn,b:re.b*Ye+Jt.b*jn,a:re.a*ye+Jt.a*(1-ye)};return ue(nr)},ue.readability=function(lt,Dt){var at=ue(lt),Jt=ue(Dt),re=at.toRgb(),ye=Jt.toRgb(),ze=at.getBrightness(),Ge=Jt.getBrightness(),Ye=Math.max(re.r,ye.r)-Math.min(re.r,ye.r)+Math.max(re.g,ye.g)-Math.min(re.g,ye.g)+Math.max(re.b,ye.b)-Math.min(re.b,ye.b);return{brightness:Math.abs(ze-Ge),color:Ye}},ue.isReadable=function(lt,Dt){var at=ue.readability(lt,Dt);return at.brightness>125&&at.color>500},ue.mostReadable=function(lt,Dt){for(var at=null,Jt=0,re=!1,ye=0;ye<Dt.length;ye++){var ze=ue.readability(lt,Dt[ye]),Ge=ze.brightness>125&&ze.color>500,Ye=3*(ze.brightness/125)+ze.color/500;(Ge&&!re||Ge&&re&&Ye>Jt||!Ge&&!re&&Ye>Jt)&&(re=Ge,Jt=Ye,at=ue(Dt[ye]))}return at};var wm=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},dP=ue.hexNames=pP(wm);function pP(lt){var Dt={};for(var at in lt)lt.hasOwnProperty(at)&&(Dt[lt[at]]=at);return Dt}function Xw(lt){return lt=parseFloat(lt),(isNaN(lt)||lt<0||lt>1)&&(lt=1),lt}function Wn(lt,Dt){hP(lt)&&(lt="100%");var at=vP(lt);return lt=Re(Dt,tn(0,parseFloat(lt))),at&&(lt=parseInt(lt*Dt,10)/100),He.abs(lt-Dt)<1e-6?1:lt%Dt/parseFloat(Dt)}function xh(lt){return Re(1,tn(0,lt))}function Sa(lt){return parseInt(lt,16)}function hP(lt){return typeof lt=="string"&&lt.indexOf(".")!=-1&&parseFloat(lt)===1}function vP(lt){return typeof lt=="string"&&lt.indexOf("%")!=-1}function eu(lt){return lt.length==1?"0"+lt:""+lt}function Yf(lt){return lt<=1&&(lt=lt*100+"%"),lt}function gP(lt){return Math.round(parseFloat(lt)*255).toString(16)}function mP(lt){return Sa(lt)/255}var cs=function(){var lt="[-\\+]?\\d+%?",Dt="[-\\+]?\\d*\\.\\d+%?",at="(?:"+Dt+")|(?:"+lt+")",Jt="[\\s|\\(]+("+at+")[,|\\s]+("+at+")[,|\\s]+("+at+")\\s*\\)?",re="[\\s|\\(]+("+at+")[,|\\s]+("+at+")[,|\\s]+("+at+")[,|\\s]+("+at+")\\s*\\)?";return{rgb:new RegExp("rgb"+Jt),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+Jt),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+Jt),hsva:new RegExp("hsva"+re),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function yP(lt){lt=lt.replace(ne,"").replace(de,"").toLowerCase();var Dt=!1;if(wm[lt])lt=wm[lt],Dt=!0;else if(lt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var at;return(at=cs.rgb.exec(lt))?{r:at[1],g:at[2],b:at[3]}:(at=cs.rgba.exec(lt))?{r:at[1],g:at[2],b:at[3],a:at[4]}:(at=cs.hsl.exec(lt))?{h:at[1],s:at[2],l:at[3]}:(at=cs.hsla.exec(lt))?{h:at[1],s:at[2],l:at[3],a:at[4]}:(at=cs.hsv.exec(lt))?{h:at[1],s:at[2],v:at[3]}:(at=cs.hsva.exec(lt))?{h:at[1],s:at[2],v:at[3],a:at[4]}:(at=cs.hex8.exec(lt))?{a:mP(at[1]),r:Sa(at[2]),g:Sa(at[3]),b:Sa(at[4]),format:Dt?"name":"hex8"}:(at=cs.hex6.exec(lt))?{r:Sa(at[1]),g:Sa(at[2]),b:Sa(at[3]),format:Dt?"name":"hex"}:(at=cs.hex3.exec(lt))?{r:Sa(at[1]+""+at[1]),g:Sa(at[2]+""+at[2]),b:Sa(at[3]+""+at[3]),format:Dt?"name":"hex"}:!1}window.tinycolor=ue,l(function(){l.fn.spectrum.load&&l.fn.spectrum.processNativeColorInputs()})}var Mn=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sr=function(){return sr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},sr.apply(this,arguments)};S.default&&Kn(S.default);var Ai=function(l){var r=l.getFormat()==="name"&&l.toName(),t=l.getAlpha()==1?l.toHexString():l.toRgbString();return r||t.replace(/ /g,"")},ma=function(l){Mn(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return l.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,i.isUndefined)(e)||this.__onInputChange(e)},r.prototype.__onInputChange=function(t){var e=this,n=e.model,o=e.opts,c=o.onChange,h=t,m=this.getColorEl();if(m){m.spectrum("set",h);var y=m.spectrum("get"),C=h&&Ai(y);C&&(h=C)}c?c(h):n.set({value:h},{fromInput:1})},r.prototype.setValue=function(t,e){e===void 0&&(e={});var n=this.model,o=(0,i.isUndefined)(e.def)?n.get("defaults"):e.def,c=(0,i.isUndefined)(t)?(0,i.isUndefined)(o)?"":o:t,h=this.getInputEl(),m=this.getColorEl(),y=c!="none"?c:"";h.value=c,m.get(0).style.backgroundColor=y,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(m.spectrum("set",y),this.noneColor=c=="none",this.movedColor=y)},r.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,n=e.em,o=e.model,c=e.opts,h=this.ppfx,m=c.onChange,y=(0,S.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),C=y.get(0).style,P=n&&n.config?n.config.el:"",N=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var B=!1,G;this.$el.find("[data-colorp-c]").append(y);var ut=function(ft,Ct){Ct===void 0&&(Ct=!0),m?m(ft,!Ct):(Ct&&o.setValueFromInput(0,!1),o.setValueFromInput(ft,Ct))};y.spectrum(sr(sr(sr({color:o.getValue()||!1,containerClassName:"".concat(h,"one-bg ").concat(h,"two-color"),appendTo:P||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},N),o.get("colorPicker")||{}),{move:function(ft){var Ct=Ai(ft);t.movedColor=Ct,C.backgroundColor=Ct,ut(Ct,!1)},change:function(ft){B=!0;var Ct=Ai(ft);C.backgroundColor=Ct,ut(Ct),t.noneColor=!1},show:function(ft){B=!1,t.movedColor="",G=m?o.getValue({noDefault:!0}):Ai(ft)},hide:function(){!B&&(G||m)&&(t.noneColor&&(G=""),C.backgroundColor=G,y.spectrum("set",G),ut(G,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){t.movedColor&&ut(t.movedColor),B=!0,t.movedColor="",y.spectrum("hide")}),this.colorEl=y}return this.colorEl},r.prototype.render=function(){return _n.prototype.render.call(this),this.getColorEl(),this},r}(_n);const dr=ma;var li=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lr=function(l){li(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new dr({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=n.render();o.setValue(e,{fromTarget:1}),this.input=o.el}return this.input},r}(Bt);const Rf=lr;var Mi=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ya=function(l){Mi(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){var t=this,e=t.model,n=t.em,o=e.get("command");o&&((0,i.isString)(o)?n.Commands.run(o):o(n.Editor,e))},r.prototype.renderLabel=function(){this.model.get("label")&&Bt.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var t=this,e=t.model,n=t.ppfx,o=e.props(),c=o.labelButton,h=o.text,m=o.full,y=c||h,C="".concat(n,"btn"),P='<button type="button" class="'.concat(C,"-prim").concat(m?" ".concat(C,"--full"):"",'">').concat(y,"</button>");return P},r}(Bt);const is=ya;ya.prototype.eventCapture=["click button"];var Ar=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),as="trait",Ff="".concat(as,":"),GC="".concat(Ff,"custom"),YC={text:Bt,number:er,select:me,checkbox:Ke,color:Rf,button:is},qC=function(l){Ar(r,l);function r(t){var e=l.call(this,t,"TraitManager",H)||this;e.TraitsView=le,e.events={all:as,custom:GC};var n=new O.Hn;e.model=n,e.types=YC;var o=(0,i.debounce)(function(){return e.__upSel()},0);n.listenTo(t,"component:toggled",o);var c=(0,i.debounce)(function(){return e.__onUp()},0);return n.listenTo(t,"trait:update",c),e}return r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getSelected())},r.prototype.select=function(t){var e=t?t.getTraits():[];this.model.set({component:t,traits:e}),this.__trgCustom()},r.prototype.getSelected=function(){return this.model.get("component")},r.prototype.getCurrent=function(){return this.model.get("traits")||[]},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.addType=function(t,e){var n=this.getType("text");this.types[t]=n.extend(e)},r.prototype.getType=function(t){return this.getTypes()[t]},r.prototype.getTypes=function(){return this.types},r.prototype.render=function(){var t=this,e=t.view,n=t.em,o=this.getConfig(),c=e&&e.el;return e=new le({el:c,collection:[],editor:n,config:o},this.getTypes()),this.view=e,e.el},r.prototype.destroy=function(){this.model.stopListening(),this.model.clear()},r}(U);const XC=qC;var ZC={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const JC=ZC;var QC=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tx=function(l){QC(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.items=[],e.opt=t;var n=t.config||{};e.config=n,e.parentView=t.parentView;var o=n.stylePrefix||"",c=n.pStylePrefix||"",h=e.collection;e.listenTo(h,"add",e.addTo),e.listenTo(h,"reset resetNavigator",e.render),e.listenTo(h,"remove",e.removeChildren),e.className="".concat(o,"layers");var m=n.em;if(n.sortable&&!e.opt.sorter){var y=m.Utils;e.opt.sorter=new y.Sorter({container:n.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(o,"layer"),ignoreViewChildren:1,onEndMove:function(C,P,N){var B=P.getSourceModel();m.setSelected(B,{forceChange:1}),m.trigger("".concat(wi,":end"),N)},avoidSelectOnEnd:1,nested:1,ppfx:c,pfx:o,em:m})}return e.$el.data("collection",h),t.parent&&e.$el.data("model",t.parent),e}return r.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var o=this,c=o.parentView,h=o.opt,m=o.config,y=h.ItemView,C=h.opened,P=h.module,N=h.level,B=h.sorter,G=e||null,ut=new y({ItemView:y,level:N,model:t,parentView:c,config:m,sorter:B,opened:C,module:P}),ft=ut.render().el;if(G)G.appendChild(ft);else if(typeof n<"u"){var Ct="before";this.$el.children().length==n&&(n--,Ct="after"),n<0?this.$el.append(ft):this.$el.children().eq(n)[Ct](ft)}else this.$el.append(ft);return this.items.push(ut),ft},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O.G7.prototype.remove.apply(this,t),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var t=this,e=document.createDocumentFragment(),n=this.el;return n.innerHTML="",this.collection.each(function(o){return t.addToCollection(o,e)}),n.appendChild(e),n.className=this.className,this},r}(O.G7);const ex=tx;var nx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W0="contentEditable",rx=function(l){nx(r,l);function r(t){var e=l.call(this,t)||this;(0,i.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var n=e,o=n.model,c=n.pfx,h=n.ppfx,m=o.get("type")||"default";return e.className="".concat(c,"layer ").concat(c,"layer__t-").concat(m," no-select ").concat(h,"two-color"),e.inputNameCls="".concat(h,"layer-name"),e.clsTitleC="".concat(c,"layer-title-c"),e.clsTitle="".concat(c,"layer-title"),e.clsCaret="".concat(c,"layer-caret"),e.clsCount="".concat(c,"layer-count"),e.clsMove="".concat(c,"layer-move"),e.clsChildren="".concat(c,"layer-children"),e.clsNoChild="".concat(c,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return r.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx,c=e.config,h=e.clsNoEdit,m=e.module,y=e.opt,C=e.em,P=c.hidable,N=m.getComponents(t).length,B=N?"":this.clsNoChild,G="".concat(this.clsTitle," ").concat(B),ut="".concat(this.clsTitleC," ").concat(o,"one-bg"),ft="".concat(this.inputNameCls," ").concat(h," ").concat(o,"no-app"),Ct=y.level+1,Rt="".concat(30+Ct*10,"px"),It=t.getName(),ne=t.getIcon(),de="".concat(n,"layer"),Pe=(C==null?void 0:C.getConfig()).icons,He=Pe,ae=He.move,Re=He.eye,tn=He.eyeOff,xr=He.chevron;return`
      `.concat(P?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
            <i class="`).concat(n,'layer-vis-on">').concat(Re,`</i>
            <i class="`).concat(n,'layer-vis-off">').concat(tn,`</i>
          </i>`):"",`
      <div class="`).concat(ut,`">
        <div class="`).concat(G,'" style="padding-left: ').concat(Rt,`" data-toggle-select>
          <div class="`).concat(n,'layer-title-inn" title="').concat(It,`">
            <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(xr,`</i>
            `).concat(ne?'<span class="'.concat(de,'__icon">').concat(ne,"</span>"):"",`
            <span class="`).concat(ft,'" data-name>').concat(It,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(N||"",`</div>
      <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(ae||"",`</div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var t=this,e=this,n=e.model,o=e.config,c=o.onInit,h=n.components();this.listenTo(h,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(m){return t.listenTo(n,m[0],m[1])}),this.$el.data("model",n),this.$el.data("collection",h),n.viewLayer=this,c.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},r.prototype.updateVisibility=function(){var t=this,e=t.pfx,n=t.model,o=t.module,c="".concat(e,"layer-hidden"),h=!o.isVisible(n),m=h?"addClass":"removeClass";this.$el[m](c),this.getVisibilityEl()[m]("".concat(e,"layer-off"))},r.prototype.toggleVisibility=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setVisible(o,!n.isVisible(o))},r.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,n=e.em,o=e.$el,c=e.clsNoEdit,h=e.clsEdit,m=this.getInputName();m[W0]="true",m.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(c).addClass(h)},r.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ee.kl)(t)||(0,ee.r$)(t))&&this.handleEditEnd(t)},r.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,n=e.em,o=e.$el,c=e.clsNoEdit,h=e.clsEdit,m=this.getInputName(),y=m.textContent;m.scrollLeft=0,m[W0]="false",this.setName(y,{component:this.model,propName:"custom-name"}),n.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(c).removeClass(h),this.updateName()},r.prototype.setName=function(t,e){var n=e.propName;this.model.set(n,t)},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var t=this,e=t.$el,n=t.model,o=t.pfx,c="open",h="".concat(o,"layer-open"),m=this.getCaret();this.module.isOpen(n)?(e.addClass(c),m.addClass(h)):(e.removeClass(c),m.removeClass(h))},r.prototype.toggleOpening=function(t){var e=this,n=e.model,o=e.module;t==null||t.stopImmediatePropagation(),n.get("components").length&&o.setOpen(n,!o.isOpen(n))},r.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{selected:!0},{event:t})},r.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{hovered:!0})},r.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{hovered:!1})},r.prototype.startSort=function(t){t.stopPropagation();var e=this,n=e.em,o=e.sorter;t.button&&t.button!==0||o&&(o.onStart=function(c){return n.trigger("".concat(wi,":start"),c)},o.onMoveClb=function(c){return n.trigger(wi,c)},o.startSort(t.target))},r.prototype.updateStatus=function(){kn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.checkChildren=function(){var t=this,e=t.model,n=t.clsNoChild,o=t.$el,c=t.module,h=c.getComponents(e).length,m=o.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),y=this.cnt;y||(y=o.children("[data-count]").get(0),this.cnt=y),m[h?"removeClass":"addClass"](n),y&&(y.innerHTML=h||""),!h&&c.setOpen(e,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(t){var e;t=(0,i.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;var n=(0,s.getModel)(t,0);n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},r.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O.G7.prototype.remove.apply(this,t),this.__clearItems(),this},r.prototype.render=function(){var t=this,e=t.model,n=t.config,o=t.pfx,c=t.ppfx,h=t.opt,m=t.sorter;this.__clearItems();var y=h.opened,C=h.module,P=h.ItemView,N=!C.__isLayerable(e),B=this.$el.empty(),G=h.level+1;delete this.inputName,this.items=new ex({ItemView:P,collection:e.get("components"),config:n,sorter:m,opened:y,parentView:this,parent:e,level:G,module:C});var ut=this.items.render().$el;return!n.showWrapper&&G===1?B.append(ut):(B.html(this.template(e)),B.find(".".concat(this.clsChildren)).append(ut)),(!e.get("draggable")||!n.sortable)&&B.children(".".concat(this.clsMove)).remove(),!C.isVisible(e)&&(this.className+=" ".concat(o,"hide")),N&&(this.className+=" ".concat(c,"hidden")),B.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var t=this,e=t.model,n=t.config,o=t.el,c=n.onRender,h={component:e,el:o};c.bind(this)(h),this.em.trigger("layer:render",h)},r}(O.G7);const ox=rx;var ix=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ug=function(){return Ug=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ug.apply(this,arguments)},$0="layer",Wg="".concat($0,":"),K0="".concat(Wg,"root"),G0="".concat(Wg,"component"),ax="".concat(Wg,"custom"),sx={all:$0,root:K0,component:G0,custom:ax},$g={mediaText:""},lx=["open","status","locked","custom-name","components","classes"].map(function(l){return"component:update:".concat(l)}).join(" "),ux=function(l){return l===void 0&&(l={}),(l.display||"").trim().indexOf("none")===0},cx=function(l){ix(r,l);function r(t){var e=l.call(this,t,"LayerManager",JC)||this;return e.events=sx,(0,i.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new bt.Z(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return r.prototype.onLoad=function(){var t=this,e=this,n=e.em,o=e.config,c=e.model;c.listenTo(n,"component:selected",this.componentChanged),c.on("change:root",this.__onRootChange),c.listenTo(n,lx,this.__onComponent),this.componentChanged(),c.listenToOnce(n,"load",function(){t.setRoot(o.root),t.__appendTo()})},r.prototype.setRoot=function(t){var e=this.em.getWrapper(),n=(0,s.isComponent)(t)?t:e;return t&&(0,i.isString)(t)&&(0,s.hasWin)()&&(n=e.find(t)[0]||e),this.model.set("root",n),n},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(t){var e=this;return t.components().filter(function(n){return e.__isLayerable(n)})},r.prototype.setOpen=function(t,e){t.set("open",e)},r.prototype.isOpen=function(t){return!!t.get("open")},r.prototype.setVisible=function(t,e){var n="__prev-display",o=t.getStyle($g),c=o.display;if(e){var h=t.get(n);delete o.display,h&&(o.display=h,t.unset(n))}else c&&t.set(n,c),o.display="none";t.setStyle(o,$g),this.updateLayer(t),this.em.trigger("component:toggled")},r.prototype.isVisible=function(t){return!ux(t.getStyle($g))},r.prototype.setLocked=function(t,e){t.set("locked",e)},r.prototype.isLocked=function(t){return!!t.get("locked")},r.prototype.setName=function(t,e){t.set("custom-name",e)},r.prototype.getName=function(t){return t.getName()},r.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},r.prototype.setLayerData=function(t,e,n){var o;n===void 0&&(n={});var c=this,h=c.em,m=c.config,y=e.open,C=e.selected,P=e.hovered,N=e.visible,B=e.locked,G=e.name,ut=Ug({fromLayers:!0},n);if((0,s.isDef)(y)&&this.setOpen(t,y),(0,s.isDef)(C))if(C){h.setSelected(t,ut);var ft=m.scrollCanvas;ft&&((o=t.views)===null||o===void 0||o.forEach(function(Ct){return Ct.scrollIntoView(ft)}))}else h.removeSelected(t,ut);(0,s.isDef)(P)&&m.showHover&&(P?h.setHovered(t,ut):h.setHovered(null,ut)),(0,s.isDef)(N)&&N!==this.isVisible(t)&&this.setVisible(t,N),(0,s.isDef)(B)&&this.setLocked(t,B),(0,s.isDef)(G)&&this.setName(t,G)},r.prototype.componentChanged=function(t,e){var n;if(e===void 0&&(e={}),!e.fromLayers){var o=this,c=o.em,h=o.config,m=h.scrollLayers,y=this.model.get("opened"),C=c.getSelected(),P=C==null?void 0:C.parent();for(var N in y)y[N].set("open",!1),delete y[N];for(;P;)P.set("open",!0),y[P.cid]=P,P=P.parent();if(C&&m){var B=(n=C.viewLayer)===null||n===void 0?void 0:n.el;B==null||B.scrollIntoView(m)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var t,e,n=this,o=n.config,c=n.model,h=ox.extend(o.extend);return this.view=new h({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:h,level:0,config:o,opened:c.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},r.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},r.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(K0,e),this.__trgCustom()},r.prototype.__onComponent=function(t){this.updateLayer(t)},r.prototype.__isLayerable=function(t){var e=t.get("tagName"),n=this.config.hideTextnode,o=!n||!t.is("textnode")&&e!=="br";return o&&t.get("layerable")},r.prototype.__trgCustom=function(t){var e=this,n=e.__ctn,o=e.em,c=e.events;this.__ctn=n||(t==null?void 0:t.container),o.trigger(c.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(t,e){this.em.trigger(G0,t,e)},r}(U);const fx=cx;var dx={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const px=dx;var hx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Y0=function(l){hx(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.getDefaults=function(){return(0,i.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(O.Hn);const Kg=Y0;Y0.prototype.idAttribute="src";var vx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jp=function(){return Jp=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Jp.apply(this,arguments)},gx=function(l){vx(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return Jp(Jp({},Kg.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(Kg);const mx=gx;var yx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wx=function(l){yx(r,l);function r(t){var e=l.call(this,t)||this;e.options=t,e.collection=t.collection;var n=t.config||{};e.config=n,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var o=e.init&&e.init.bind(e);return o&&o(t),e}return r.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},r.prototype.template=function(t,e){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,i.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},r}(O.G7);const _x=wx;var bx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q0=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},X0=function(l){bx(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.getPreview=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.model,c=o.get("src");return f(Z0||(Z0=q0([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,c,e,n)},r.prototype.getInfo=function(){var t=this,e=t.pfx,n=t.model,o=n.get("name"),c=n.get("width"),h=n.get("height"),m=n.get("unitDim"),y=c&&h?"".concat(c,"x").concat(h).concat(m):"";return o=o||n.getFilename(),f(J0||(J0=q0([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,o,e,y)},r.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},r.prototype.onClick=function(){var t=this,e=t.model,n=t.pfx,o=this.__getBhv().select,c=this.config.onClick,h=this.collection;h.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,i.isFunction)(o)?o(e,!1):(0,i.isFunction)(c)?c(e):this.updateTarget(h.target)},r.prototype.onDblClick=function(){var t=this,e=t.em,n=t.model,o=this.__getBhv().select,c=this.config.onDblClick,h=this.collection,m=h.target,y=h.onSelect;(0,i.isFunction)(o)?o(n,!0):(0,i.isFunction)(c)?c(n):(this.updateTarget(m),e==null||e.Modal.close()),(0,i.isFunction)(y)&&y(n)},r.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(_x);const Cx=X0;X0.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Z0,J0,Qp=function(){return Qp=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Qp.apply(this,arguments)},xx={types:[],initialize:function(l,r){var t=this;r===void 0&&(r={});var e=r.em;this.em=e,this.opts=r,this.model=function(o,c){o===void 0&&(o={}),c===void 0&&(c={});var h,m,y;if(o&&o.type){var C=t.getBaseType();y=t.getType(o.type),h=y?y.model:C.model,m=y?y.view:C.view}else{var P=t.recognizeType(o);y=P.type,h=y.model,m=y.view,o=P.attributes}var N=new h(o,Qp(Qp({},c),{em:e}));return N.typeView=m,N};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(l){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t],n=e.isType(l);if(n=typeof n=="boolean"&&n?{type:e.id}:n,n)return{type:e,attributes:n}}return{type:this.getBaseType(),attributes:l}},getBaseType:function(){var l=this.getTypes();return l[l.length-1]},getTypes:function(){return this.types},getType:function(l){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t];if(e.id===l)return e}},addType:function(l,r){var t=this.getType(l),e=this.getBaseType(),n=t?t.model:e.model,o=t?t.view:e.view,c=r.model,h=r.view,m=r.isType;c=c instanceof O.Hn||(0,i.isFunction)(c)?c:n.extend(c||{}),h=h instanceof O.G7||(0,i.isFunction)(h)?h:o.extend(h||{}),this.extendViewApi&&!r.model&&!r.view&&(h=h.extend(r)),t?(t.model=c,t.view=h,t.isType=m||t.isType):(r.id=l,r.model=c,r.view=h,r.isType=m||function(y){if(y&&y.type==l)return!0},this.getTypes().unshift(r))}};const Q0=xx;var Sx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ox=O.FE.extend(Q0),tw=function(l){Sx(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r}(Ox);const Gg=tw;tw.prototype.types=[{id:"image",model:mx,view:Cx,isType:function(l){return typeof l=="string"?{type:"image",src:l}:l}}];var Tx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ew=function(l){Tx(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var n=e.collection;return e.listenTo(n,"reset",e.renderAssets),e.listenTo(n,"add",e.addToAsset),e.listenTo(n,"remove",e.removedAsset),e.listenTo(n,"deselectAll",e.deselectAll),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.em,c="";return this.config.showUrlInput&&(c=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(n,"field ").concat(e,`add-field">
              <input placeholder="`).concat(o==null?void 0:o.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(o==null?void 0:o.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(c,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),o=this.config.handleAdd;if(n){e.value="";var c=this.getAssetsEl();c&&(c.scrollTop=0),o?o.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},r.prototype.addAsset=function(t,e){e===void 0&&(e=null);var n=e,o=this.collection,c=this.config,h=new t.typeView({model:t,collection:o,config:c}).render().el;if(n)n.appendChild(h);else{var m=this.getAssetsEl();m&&m.insertBefore(h,m.firstChild)}return h},r.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},r.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},r.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,e)}),n.append(e)},r.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(O.G7);const Ex=ew;ew.prototype.events={submit:"handleSubmit"};var Px=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kx=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},Ax=function(l){Px(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;e.options=t;var n=t.config||{};e.module=t.module,e.config=n,e.em=e.config.em,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,e.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var o=n.uploadFile;return o?e.uploadFile=o.bind(e):!n.upload&&n.embedAsBase64&&(e.uploadFile=r.embedAsBase64),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.pfx,n=t.title,o=t.uploadId,c=t.disabled,h=t.multiUpload;return f(nw||(nw=kx([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,n,o,c?"disabled":"",h?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var t=this.module;t&&t.__propEv("asset:upload:start")},r.prototype.onUploadEnd=function(t){var e=this,n=e.$el,o=e.module;o&&o.__propEv("asset:upload:end",t);var c=n.find("input");c&&c.val("")},r.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e&&e.__propEv("asset:upload:error",t)},r.prototype.onUploadResponse=function(t,e){var n=this,o=n.module,c=n.config,h=n.target,m;try{m=typeof t=="string"?JSON.parse(t):t}catch{m=t}o&&o.__propEv("asset:upload:response",m),c.autoAdd&&h&&h.add(m.data,{at:0}),this.onUploadEnd(t),e==null||e(m)},r.prototype.uploadFile=function(t,e){var n=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,c=this.config,h=c.beforeUpload,m=h&&h(o);if(m!==!1){var y=new FormData,C=c.params,P=c.customFetch,N=c.fetchOptions;for(var B in C)y.append(B,C[B]);if(this.multiUpload)for(var G=0;G<o.length;G++)y.append("".concat(c.uploadName,"[]"),o[G]);else o.length&&y.append(c.uploadName,o[0]);var ut=c.upload,ft=c.headers,Ct="X-Requested-With";if(typeof ft[Ct]>"u"&&(ft[Ct]="XMLHttpRequest"),ut){this.onUploadStart();var Rt={method:"post",credentials:c.credentials||"include",headers:ft,body:y},It=(N==null?void 0:N(Rt))||Rt,ne=P?P(ut,It):Xp(ut,It).then(function(de){return(de.status/200|0)==1?de.text():de.text().then(function(Pe){return Promise.reject(Pe)})});return ne.then(function(de){return n.onUploadResponse(de,e)}).catch(function(de){return n.onUploadError(de)})}}},r.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(n){e.className="",n.preventDefault(),t.uploadFile(n)})}},r.prototype.initDropzone=function(t){var e=this,n=0,o=this.config,c=t.model,h=t.el,m=c.Editor,y=c.Canvas.getBody(),C=this.ppfx,P="".concat(C,"dropzone-active"),N="".concat(C,"dropzone"),B=function(){h.className=h.className.replace(P,"").trim(),n=0},G=function(){return n||(h.className+=" ".concat(P),n=1),!1},ut=function(){return B(),!1},ft=function(Ct){if(B(),Ct.preventDefault(),Ct.stopPropagation(),e.uploadFile(Ct),o.openAssetsOnDrop&&m){var Rt=m.getSelected();m.runCommand("open-assets",{target:Rt,onSelect:function(){m.Modal.close(),m.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(N,'">').concat(o.dropzoneContent,"</div>")),B(),"draggable"in h&&[h,y].forEach(function(Ct){Ct.ondragover=G,Ct.ondragleave=ut,Ct.ondrop=ft})},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.em;return e.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),e.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(t,e){var n=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,c={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var h=[],m=/^(.+)\/(.+)$/,y=function(B){var G=new Promise(function(ut,ft){var Ct=new FileReader;Ct.addEventListener("load",function(Rt){var It,ne=B.name,de=m.exec(B.type);if(de?It=de[1]:It=B.type,It==="image"){var Pe={src:Ct.result,name:ne,type:It,height:0,width:0},He=new Image;He.addEventListener("error",function(ae){ft(ae)}),He.addEventListener("load",function(){Pe.height=He.height,Pe.width=He.width,ut(Pe)}),He.src=Pe.src}else ut(It?{src:Ct.result,name:ne,type:It}:Ct.result)}),Ct.addEventListener("error",function(Rt){ft(Rt)}),Ct.addEventListener("abort",function(Rt){ft("Aborted")}),Ct.readAsDataURL(B)});h.push(G)},C=0,P=o;C<P.length;C++){var N=P[C];y(N)}return Promise.all(h).then(function(B){c.data=B,n.onUploadResponse(c,e)},function(B){n.onUploadError(B)})},r}(O.G7);const Mx=Ax;var nw,Lx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uc=function(){return uc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},uc.apply(this,arguments)},rw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},ow="asset",$s="".concat(ow,":"),jx="".concat($s,"select"),Dx="".concat($s,"update"),Nx="".concat($s,"add"),iw="".concat($s,"remove"),Ix="".concat(iw,":before"),Vx="".concat($s,"custom"),Rx="".concat($s,"open"),Fx="".concat($s,"close"),th="".concat($s,"upload"),Hx="".concat(th,":start"),Bx="".concat(th,":end"),zx="".concat(th,":error"),Ux="".concat(th,":response"),Hf="open-assets",Wx={all:ow,select:jx,update:Dx,add:Nx,remove:iw,removeBefore:Ix,custom:Vx,open:Rx,close:Fx,uploadStart:Hx,uploadEnd:Bx,uploadError:zx,uploadResponse:Ux},$x=function(l){Lx(r,l);function r(t){var e=l.call(this,t,"AssetManager",new Gg([],t),Wx,px)||this;e.storageKey="assets",e.Asset=Kg,e.Assets=Gg;var n=e,o=n.all,c=n.config;e.assetsVis=new Gg([]);var h=c.pStylePrefix;return h&&(c.stylePrefix="".concat(h).concat(c.stylePrefix)),o.on("add",function(m){return e.getAllVisible().add(m)}),o.on("remove",function(m){return e.getAllVisible().remove(m)}),e.__onAllEvent=(0,i.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.__propEv=function(t){for(var e,n,o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];(e=this.em).trigger.apply(e,rw([t],o,!1)),(n=this.getAll()).trigger.apply(n,rw([t],o,!1))},r.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(n,o){return t.remove(n,o)},select:function(n,o){var c=t.add(n);(0,i.isFunction)(e.select)&&e.select(c,o)},options:e.options||{}}},r.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(Hf,uc({types:["image"],select:function(){}},t))},r.prototype.close=function(){var t=this.em.Commands;t.stop(Hf)},r.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(Hf))},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},r.prototype.get=function(t){return this.all.where({src:t})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},r.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},r.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new Ex(uc({},n)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(t,e){this.getAll().addType(t,e)},r.prototype.getType=function(t){return this.getAll().getType(t)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new Mx(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,n=e.em,o=e.events;n.on("run:".concat(Hf),function(){return t.__propEv(o.open)}),n.on("stop:".concat(Hf),function(){return t.__propEv(o.close)})},r.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},r.prototype.setTarget=function(t){this.assetsVis.target=t},r.prototype.onSelect=function(t){this.assetsVis.onSelect=t},r.prototype.onClick=function(t){this.config.onClick=t},r.prototype.onDblClick=function(t){this.config.onDblClick=t},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=uc(uc({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(t){return this._bhv||{}},r.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},r}(K);const Kx=$x;var Yg={placeholder:"eg. Text here"},Gx={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:Yg,alt:Yg,title:Yg,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const Yx=Gx;var qx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xx=function(l){qx(r,l);function r(t){var e=l.call(this,t,"I18n",Yx)||this,n=e.config.messagesAdd;return n&&e.addMessages(n),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return r.prototype.setLocale=function(t){var e=this,n=e.em,o=e.config,c={value:t,valuePrev:o.locale};return n&&n.trigger("i18n:locale",c),o.locale=t,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(t,e){e===void 0&&(e={});var n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},r.prototype.setMessages=function(t){var e=this,n=e.em,o=e.config;return o.messages=t,n&&n.trigger("i18n:update",t),this},r.prototype.addMessages=function(t){var e=this.em,n=this.config.messages;return e&&e.trigger("i18n:add",t),this.setMessages((0,s.deepMerge)(n,t)),this},r.prototype.t=function(t,e){e===void 0&&(e={});var n=this.config,o=e.params||{},c=e.l||this.getLocale(),h=e.lFlb||n.localeFallback,m=this._getMsg(t,c,e);return m||(m=this._getMsg(t,h,e)),!m&&this._debug("'".concat(t,"' i18n key not found in '").concat(c,"' lang"),e),m=m&&(0,i.isString)(m)?this._addParams(m,o):m,m},r.prototype._localLang=function(){var t=(0,s.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},r.prototype._addParams=function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(o,c){return e[c]||""}).trim()},r.prototype._getMsg=function(t,e,n){n===void 0&&(n={});var o=this.getMessages(e,n);if(o){var c=o[t];return!c&&t.indexOf(".")>0&&(c=t.split(".").reduce(function(h,m){if(!(0,i.isUndefined)(h))return h[m]},o)),c}},r.prototype._debug=function(t,e){e===void 0&&(e={});var n=this,o=n.em,c=n.config;(e.debug||c.debug)&&o&&o.logWarning(t)},r.prototype.destroy=function(){},r}(U);const Zx=Xx;var Jx=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wa=function(){return wa=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},wa.apply(this,arguments)},Qx=function(){},tS=ln.q.Target,aw={id:"sorter-target",type:tS},eS=function(l){Jx(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,i.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var n=e.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,S.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||Qx,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},r.prototype.getScale=function(){return(0,i.result)(this,"scale")||1},r.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,S.default)(this.el)}return this.el},r.prototype.getDocuments=function(t){var e=this.em,n=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,o=[document];return n&&o.push(n),o},r.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},r.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},r.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var n=e.Canvas,o=n.getDocument(),c=null;if(o.caretRangeFromPoint){var h=(0,ee.VB)(t);c=o.caretRangeFromPoint(h.clientX,h.clientY)}else t.rangeParent&&(c=o.createRange(),c.setStart(t.rangeParent,t.rangeOffset));var m=n.getWindow().getSelection();n.getFrameEl().focus(),m==null||m.removeAllRanges(),c&&(m==null||m.addRange(c)),this.setContentEditable(this.activeTextModel,!0)}},r.prototype.setContentEditable=function(t,e){if(t){var n=t.getEl();n.contentEditable!=e&&(n.contentEditable=e)}},r.prototype.toggleSortCursor=function(t){var e=this.em,n=e==null?void 0:e.Canvas;n&&(t?n.startAutoscroll():n.stopAutoscroll())},r.prototype.setDragHelper=function(t,e){for(var n=e||"",o=t.cloneNode(!0),c=t.getBoundingClientRect(),h=getComputedStyle(t),m="",y=0;y<h.length;y++){var C=h[y];m+="".concat(C,":").concat(h.getPropertyValue(C),";")}if(document.body.appendChild(o),o.className+=" ".concat(this.pfx,"bdrag"),o.setAttribute("style",m),this.dragHelper=o,o.style.width="".concat(c.width,"px"),o.style.height="".concat(c.height,"px"),n&&this.moveDragHelper(n),this.em){var P=(0,S.default)(this.em.Canvas.getBody().ownerDocument);P.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,S.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},r.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(!(!this.dragHelper||!e)){var n=t.pageY,o=t.pageX,c=0,h=0,m=e.defaultView||e.parentWindow,y=m.frameElement,C=this.dragHelper.style;if(y){var P=y.getBoundingClientRect();c=P.top+document.documentElement.scrollTop,h=P.left+document.documentElement.scrollLeft,n=t.clientY,o=t.clientX}C.top=n+c+"px",C.left=o+h+"px"}},r.prototype.matches=function(t,e){return s.matches.call(t,e)},r.prototype.closest=function(t,e){if(t)for(var n=t.parentNode;n&&n.nodeType===1;){if(this.matches(n,e))return n;n=n.parentNode}},r.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},r.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r.prototype.startSort=function(t,e){var n,o;e===void 0&&(e={});var c=this,h=c.em,m=c.itemSel,y=c.containerSel,C=c.plh,P=this.getContainerEl(e.container),N=this.getDocuments(t),B;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(m,", ").concat(y))&&(t=this.closest(t,m)),this.sourceEl=t,C||(this.plh=this.createPlaceholder(),P.appendChild(this.plh)),t&&(B=this.getSourceModel(t),B!=null&&B.set&&B.set("status","freezed"),this.srcModel=B),(0,ee.on)(P,"mousemove dragover",this.onMove),(0,ee.on)(N,"mouseup dragend touchend",this.endMove),(0,ee.on)(N,"keydown",this.rollback),this.onStart({sorter:this,target:B,parent:B&&((n=B.parent)===null||n===void 0?void 0:n.call(B)),index:B&&((o=B.index)===null||o===void 0?void 0:o.call(B))}),h==null||h.clearSelection(),this.toggleSortCursor(!0),h==null||h.trigger("sorter:drag:start",t,B)},r.prototype.getTargetModel=function(t){var e=t||this.target;return(0,S.default)(e).data("model")},r.prototype.getSourceModel=function(t,e){var n=this,o=e===void 0?{}:e,c=o.target,h=o.avoidChildren,m=h===void 0?1:h,y=this,C=y.em,P=y.sourceEl,N=t||P,B=this,G=B.dropModel,ut=B.dropContent,ft=function(ne){return ne&&c&&ne.opt&&ne.opt.avoidChildren&&n.isTextableActive(ne,c)};if(ut&&C){if(ft(G)&&(G=void 0),!G){var Ct=C.Components.getComponents(),Rt={avoidChildren:m,avoidStore:1,avoidUpdateStyle:1},It=Ct.add(ut,wa(wa({},Rt),{temporary:!0}));if(G=Ct.remove(It,Rt),G=G instanceof Array?G[0]:G,this.dropModel=G,ft(G))return this.getSourceModel(N,{target:c,avoidChildren:0})}return G}return N&&(0,S.default)(N).data("model")},r.prototype.selectTargetModel=function(t,e){if(!(t instanceof O.FE)&&!(e&&e===t)){var n=this.targetModel;if(n&&n!==this.srcModel&&n.set("status",""),t!=null&&t.set){var o=this.em.Canvas,c=ln.q.Select,h=ln.q.Hover,m=ln.q.Spacing;[c,h,m].forEach(function(y){return o.removeSpots({type:y})}),o.addSpot(wa(wa({},aw),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},r.prototype.onMove=function(t){var e=t,n=this,o=n.em,c=n.onMoveClb,h=n.plh,m=n.customTarget;this.moved=!0;var y=h.style.display;(!y||y==="none")&&(h.style.display="block");var C=this.offset(this.el);this.elT=this.wmargin?Math.abs(C.top):C.top,this.elL=this.wmargin?Math.abs(C.left):C.left;var P=t.pageY-this.elT+this.el.scrollTop,N=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&o){var B=o.Canvas.getMouseRelativeCanvas(t,{noScroll:1});N=B.x,P=B.y}this.rX=N,this.rY=P,this.eventMove=t;var G=this.getSourceModel(),ut=m?m({sorter:this,event:t}):t.target,ft=this.dimsFromTarget(ut,N,P),Ct=this.target,Rt=Ct&&this.getTargetModel(Ct);if(this.selectTargetModel(Rt,G),Rt||(h.style.display="none"),!!Ct){this.lastDims=ft;var It=this.findPosition(ft,N,P);this.isTextableActive(G,Rt)?(this.activeTextModel=Rt,h.style.display="none",this.lastPos=It,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=It.index||this.lastPos.method!=It.method)&&(this.movePlaceholder(this.plh,ft,It,this.prevTargetDim),this.$plh||(this.$plh=(0,S.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=It)),(0,i.isFunction)(c)&&c({event:t,target:G,parent:Rt,index:It.index+(It.method=="after"?1:0)}),o&&o.trigger("sorter:drag",{target:Ct,targetModel:Rt,sourceModel:G,dims:ft,pos:It,x:N,y:P})}},r.prototype.isTextableActive=function(t,e){var n;return((n=t==null?void 0:t.get)===null||n===void 0?void 0:n.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},r.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},r.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var n=t;return n.offsetHeight,!!this.styleInFlow(n,e)},r.prototype.styleInFlow=function(t,e){if(!(0,ee.BM)(t)){var n=t.style||{},o=(0,S.default)(t),c=e&&(0,S.default)(e);if(!(n.overflow&&n.overflow!=="visible")){var h=o.css("float");if(!(h&&h!=="none")&&!(c&&c.css("display")=="flex"&&c.css("flex-direction")!=="column")){switch(n.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(o.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},r.prototype.validTarget=function(t,e){var n=this.getTargetModel(t),o=this.getSourceModel(e,{target:n});e=o&&o.view&&o.view.el,t=n&&n.view&&n.view.el;var c={valid:!0,src:e,srcModel:o,trg:t,trgModel:n,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return c.valid=!1,c;var h=o.get("draggable");if((0,i.isFunction)(h)){var m=h(o,n);c.dragInfo=m,c.draggable=m,h=m}else h=h instanceof Array?h.join(", "):h,c.dragInfo=h,h=(0,i.isString)(h)?this.matches(t,h):h,c.draggable=h;var y=n.get("droppable");if((0,i.isFunction)(y)){var m=y(o,n);c.droppable=m,c.dropInfo=m,y=m}else y=y instanceof O.FE?1:y,y=y instanceof Array?y.join(", "):y,c.dropInfo=y,y=(0,i.isString)(y)?this.matches(e,y):y,y=h&&this.isTextableActive(o,n)?1:y,c.droppable=y;return(!y||!h)&&(c.valid=!1),c},r.prototype.dimsFromTarget=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var o=this.em,c=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return c;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var h=this.validTarget(t);if(o&&o.trigger("sorter:drag:validation",h),!h.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,n);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(c=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,n)||!this.nested&&!this.cacheDims.length){var m=this.targetP;m&&this.validTarget(m).valid&&(c=this.cacheDimsP,this.target=m)}return delete this.lastPos,c},r.prototype.getTargetFromEl=function(t){var e=t,n,o=this.targetPrev,c=this.em,h=this.containerSel,m=this.itemSel;if(this.matches(e,"".concat(m,", ").concat(h))||(e=this.closest(e,m)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),o&&o!=e&&delete this.targetPrev,!this.targetPrev){n=this.closest(e,h);var y=this.validTarget(e);if(c&&c.trigger("sorter:drag:validation",y),!y.valid&&n)return this.getTargetFromEl(n);this.targetPrev=e}return this.nearElBorders(e)&&(n=this.closest(e,h),n&&this.validTarget(n).valid&&(e=n)),e},r.prototype.nearElBorders=function(t){var e=10,n=t.getBoundingClientRect(),o=t.ownerDocument.body,c=this.getCurrentPos(),h=c.x,m=c.y,y=n.top+o.scrollTop,C=n.left+o.scrollLeft,P=n.width,N=n.height;if(m<y+e||m>y+N-e||h<C+e||h>C+P-e)return 1},r.prototype.getCurrentPos=function(){var t=this.eventMove,e=(t==null?void 0:t.pageX)||0,n=(t==null?void 0:t.pageY)||0;return{x:e,y:n}},r.prototype.getDim=function(t){var e=this,n=e.em,o=e.canvasRelative,c=n==null?void 0:n.Canvas,h=c?c.getElementOffsets(t):{},m,y,C,P;if(o&&n){var N=c.getElementPos(t,{noScroll:1});m=N.top,y=N.left,C=N.height,P=N.width}else{var B=this.offset(t);m=this.relative?t.offsetTop:B.top-(this.wmargin?-1:1)*this.elT,y=this.relative?t.offsetLeft:B.left-(this.wmargin?-1:1)*this.elL,C=t.offsetHeight,P=t.offsetWidth}return{top:m,left:y,height:C,width:P,offsets:h}},r.prototype.getChildrenDim=function(t){var e=this,n=[];if(!t)return n;var o=this.getTargetModel(t);if(o&&o.view&&!this.ignoreViewChildren){var c=o.getCurrentView?o.getCurrentView():o.view;t=c.getChildrenContainer()}return(0,i.each)(t.children,function(h,m){var y=h,C=(0,s.getModel)(y,S.default),P=C&&C.index?C.index():m;if(!(!(0,ee.BM)(y)&&!e.matches(y,e.itemSel))){var N=e.getDim(y),B=e.direction,G;B=="v"?G=!0:B=="h"?G=!1:G=e.isInFlow(y,t),N.dir=G,N.el=y,N.indexEl=P,n.push(N)}}),n},r.prototype.nearBorders=function(t,e,n){var o=!1,c=this.borderOffset,h=e||0,m=n||0,y=t.top,C=t.left,P=t.height,N=t.width;return(y+c>m||m>y+P-c||C+c>h||h>C+N-c)&&(o=!0),o},r.prototype.findPosition=function(t,e,n){for(var o={index:0,indexEl:0,method:"before"},c=0,h=0,m=0,y=0,C=0,P=0,N=0,B,G=0,ut=t.length;G<ut;G++){B=t[G];var ft=B.top,Ct=B.left,Rt=B.height,It=B.width;if(m=Ct+It,N=ft+Rt,C=Ct+It/2,P=ft+Rt/2,!(h&&Ct>h||y&&P>=y||c&&m<c))if(o.index=G,o.indexEl=B.indexEl,!B.dir)n<N&&(y=N),e<C?(h=C,o.method="before"):(c=C,o.method="after");else if(n<P){o.method="before";break}else o.method="after"}return o},r.prototype.movePlaceholder=function(t,e,n,o){var c=0,h=0,m=0,y="",C="",P="px",N=5,B=n.method,G=e[n.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),G){var ut=G.top,ft=G.left,Ct=G.height,Rt=G.width;G.dir?(y=Rt+P,C="auto",h=B=="before"?ut-c:ut+Ct-c,m=ft):(y="auto",C=Ct-c*2+P,h=ut+c,m=B=="before"?ft-c:ft+Rt-c,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(o){var It=o.offsets||{},ne=It.paddingTop||N,de=It.paddingLeft||N;h=o.top+ne,m=o.left+de,y=parseInt("".concat(o.width))-de*2+P,C="auto"}}t.style.top=h+P,t.style.left=m+P,y&&(t.style.width=y),C&&(t.style.height=C)},r.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},r.prototype.sort=function(t,e){var n=t.parents.filter(function(m){return e.parents.includes(m)}),o=n[0];if(!o)return e.model.index()-t.model.index();var c=t.parents[t.parents.indexOf(o)-1],h=e.parents[e.parents.indexOf(o)-1];return h.index()-c.index()},r.prototype.endMove=function(){var t=this,e,n=this.sourceEl,o=[],c=this.getDocuments(),h=this.getContainerEl(),m=this.onEndMove,y=this.onEnd,C=this,P=C.target,N=C.lastPos,B;if((0,ee.S1)(h,"mousemove dragover",this.onMove),(0,ee.S1)(c,"mouseup dragend touchend",this.endMove),(0,ee.S1)(c,"keydown",this.rollback),this.plh.style.display="none",n&&(B=this.getSourceModel(),this.selectOnEnd&&B&&B.set&&(B.set("status",""),B.set("status","selected"))),this.moved&&P){var G=this.toMove,ut=(0,i.isArray)(G)?G:G?[G]:[n],ft=0;ut.length===1?o.push(this.move(P,ut[0],N)):ut.map(function(It){return{model:It,parents:t.parents(It)}}).sort(this.sort).forEach(function(It){var ne=It.model,de=ne.index(),Pe=ne.parent().getEl();o.push(t.move(P,ne,wa(wa({},N),{indexEl:N.indexEl-ft,index:N.index-ft}))),Pe===P&&de<=N.index&&ft++})}this.plh&&(this.plh.style.display="none");var Ct=this.dragHelper;if(Ct&&(Ct.parentNode.removeChild(Ct),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(e=this.em)===null||e===void 0||e.Canvas.removeSpots(aw),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,i.isFunction)(m)){var Rt={target:B,parent:B&&B.parent(),index:B&&B.index()};o.length?o.forEach(function(It){return m(It,t,Rt)}):m(null,this,wa(wa({},Rt),{cancelled:1}))}(0,i.isFunction)(y)&&y({sorter:this})},r.prototype.move=function(t,e,n){var o=this,c=o.em,h=o.dropContent,m=(0,s.getElement)(e),y=[],C=n.method==="after"?n.indexEl+1:n.indexEl,P=this.validTarget(t,m),N=(0,S.default)(t).data("collection"),B=P.trgModel,G=P.srcModel,ut=P.draggable,ft=B instanceof O.FE?1:P.droppable,Ct,Rt;if(N&&ft&&ut){var It={at:C,action:"move-component"},ne=this.isTextableActive(G,B);if(h)Ct=(0,i.isFunction)(h)?h():h,It.avoidUpdateStyle=!0,It.action="add-component";else{var de=G.collection.indexOf(G),Pe=N===G.collection,He=de===C||de===C-1,ae=!Pe||!He||ne;ae&&(Ct=G.collection.remove(G,{temporary:!0}),Pe&&C>de&&(It.at=C-1))}Ct&&(ne?(delete It.at,Rt=B.getView().insertComponent(Ct,It)):Rt=N.add(Ct,It)),delete this.dropContent,delete this.prevTarget}else if(c){var Re=P.dropInfo||(B==null?void 0:B.get("droppable")),tn=P.dragInfo||(G==null?void 0:G.get("draggable"));!N&&y.push("Target collection not found"),!ft&&Re&&y.push("Target is not droppable, accepts [".concat(Re,"]")),!ut&&tn&&y.push("Component not draggable, acceptable by [".concat(tn,"]")),c.logWarning("Invalid target position",{errors:y,model:G,context:"sorter",target:B})}return c==null||c.trigger("sorter:drag:end",{targetCollection:N,modelToDrop:Ct,warns:y,validResult:P,dst:t,srcEl:m}),Rt},r.prototype.rollback=function(t){(0,ee.S1)(this.getDocuments(),"keydown",this.rollback);var e=t.which||t.keyCode;e==27&&(this.moved=!1,this.endMove())},r}(O.G7);const nS=eS;var Xl=function(){return Xl=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Xl.apply(this,arguments)},rS=function(l,r){r===void 0&&(r={});var t=r.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+l,e.setAttribute("data-"+t+"handler",l),e},oS=function(l,r){var t=r||window,e=l.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},iS=function(){function l(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Xl({},this.defOpts),this.setOptions(r),(0,i.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return l.prototype.getConfig=function(){return this.opts},l.prototype.setOptions=function(r,t){r===void 0&&(r={}),this.opts=Xl(Xl({},t?this.defOpts:this.opts),r),this.setup()},l.prototype.setup=function(){var r=this.opts,t=r.prefix||"",e=r.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(t,"resizer-c"),e.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(m){return o[m]=r[m]?rS(m,r):null});for(var c in o){var h=o[c];h&&n.appendChild(h)}this.handlers=o,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},l.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,i.each)(t,function(e){return e.style.pointerEvents=r?"none":""})}},l.prototype.isHandler=function(r){var t=this.handlers;for(var e in t)if(t[e]===r)return!0;return!1},l.prototype.getFocusedEl=function(){return this.el},l.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},l.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},l.prototype.getElementPos=function(r,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(r,t):oS(r)},l.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,ee.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},l.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ee.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},l.prototype.start=function(r){var t=r;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,n=this.getParentEl(),o=this,c=this.opts||{},h=this.mousePosFetcher,m="data-"+c.prefix+"handler",y=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),C=this.getElementPos(n),P=t.target;this.handlerAttr=P.getAttribute(m),this.clickedHandler=P,this.startDim={t:y.top,l:y.left,w:y.width,h:y.height},this.rectDim={t:y.top,l:y.left,w:y.width,h:y.height},this.startPos=h?h(t):{x:t.clientX,y:t.clientY},this.parentDim={t:C.top,l:C.left,w:C.width,h:C.height};var N=this.getDocumentEl();this.docs=N,(0,ee.on)(N,"pointermove",this.move),(0,ee.on)(N,"keydown",this.handleKeyDown),(0,ee.on)(N,"pointerup",this.stop),(0,i.isFunction)(this.onStart)&&this.onStart(t,{docs:N,config:c,el:e,resizer:o}),this.toggleFrames(!0),this.move(t)}},l.prototype.move=function(r){var t=r,e=this.onMove,n=this.mousePosFetcher,o=n?n(t):{x:t.clientX,y:t.clientY};this.currentPos=o,this.delta={x:o.x-this.startPos.x,y:o.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},l.prototype.stop=function(r){var t=this.el,e=this.opts,n=this.docs||this.getDocumentEl();(0,ee.S1)(n,"pointermove",this.move),(0,ee.S1)(n,"keydown",this.handleKeyDown),(0,ee.S1)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,i.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:e,el:t,resizer:this}),delete this.docs},l.prototype.updateRect=function(r){var t=this.el,e=this,n=this.opts,o=this.rectDim,c=this.updateTarget,h=this.getSelectedHandler(),m=n.unitHeight,y=n.unitWidth,C=n.keyWidth,P=n.keyHeight;if((0,i.isFunction)(c))c(t,o,{store:r,selectedHandler:h,resizer:e,config:n});else{var N=t.style;N[C]=o.w+y,N[P]=o.h+m,N.top=o.t+m,N.left=o.l+y}this.updateContainer()},l.prototype.updateContainer=function(r){var t;r===void 0&&(r={});var e=this,n=e.opts,o=e.container,c=e.el,h=o.style;!n.avoidContainerUpdate&&c&&r.forceShow&&(h.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:Xl(Xl({},n),r)})},l.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var t in r)if(r[t]===this.selectedHandler)return t}},l.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},l.prototype.handleMouseDown=function(r){var t=r.target;this.isHandler(t)?(this.selectedHandler=t,this.start(r)):t!==this.el&&(delete this.selectedHandler,this.blur())},l.prototype.calc=function(r){var t,e=this.opts||{},n=e.step,o=this.startDim,c=e.minDim,h=e.maxDim,m=r.delta.x,y=r.delta.y,C=this.parentDim.w,P=this.parentDim.h,N=this.opts.unitWidth,B=this.opts.unitHeight,G=N==="%"?o.w/100*C:o.w,ut=B==="%"?o.h/100*P:o.h,ft={t:o.t,l:o.l,w:G,h:ut};if(r){var Ct=r.handlerAttr;~Ct.indexOf("r")&&(t=N==="%"?(0,s.normalizeFloat)((G+m*n)/C*100,.01):(0,s.normalizeFloat)(G+m*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.w=t),~Ct.indexOf("b")&&(t=B==="%"?(0,s.normalizeFloat)((ut+y*n)/P*100,.01):(0,s.normalizeFloat)(ut+y*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.h=t),~Ct.indexOf("l")&&(t=N==="%"?(0,s.normalizeFloat)((G-m*n)/C*100,.01):(0,s.normalizeFloat)(G-m*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.w=t),~Ct.indexOf("t")&&(t=B==="%"?(0,s.normalizeFloat)((ut-y*n)/P*100,.01):(0,s.normalizeFloat)(ut-y*n,n),t=Math.max(c,t),h&&(t=Math.min(h,t)),ft.h=t);var Rt=e.ratioDefault?!r.keys.shift:r.keys.shift;if(Ct.indexOf("c")<0&&Rt){var It=o.w/o.h;ft.w/ft.h>It?ft.h=Math.round(ft.w/It):ft.w=Math.round(ft.h*It)}~Ct.indexOf("l")&&(ft.l+=o.w-ft.w),~Ct.indexOf("t")&&(ft.t+=o.h-ft.h);for(var ne in ft){var de=ne;ft[de]=parseInt("".concat(ft[de]),10)}return ft}},l}();const aS=iS;var sS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qg=function(){return qg=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},qg.apply(this,arguments)},lS=function(l){sS(r,l);function r(t){var e=l.call(this,t,"Utils")||this;return e.Sorter=nS,e.Resizer=aS,e.Dragger=Qt.Z,e.helpers=qg({},s),e}return r.prototype.destroy=function(){},r}(U);const uS=lS;var jo,Yo={},go={16:!1,18:!1,17:!1,91:!1},sw="all",Zl={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},lw={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Xg=function(l){return lw[l]||l.toUpperCase().charCodeAt(0)},cc=[];for(jo=1;jo<20;jo++)lw["f"+jo]=111+jo;function Bf(l,r){for(var t=l.length;t--;)if(l[t]===r)return t;return-1}function cS(l,r){if(l.length!=r.length)return!1;for(var t=0;t<l.length;t++)if(l[t]!==r[t])return!1;return!0}var fS={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function dS(l){for(jo in go)go[jo]=l[fS[jo]]}function pS(l){var r,t,e,n,o,c;if(r=l.keyCode,Bf(cc,r)==-1&&cc.push(r),(r==93||r==224)&&(r=91),r in go){go[r]=!0;for(e in Zl)Zl[e]==r&&(mo[e]=!0);return}if(dS(l),!!mo.filter.call(this,l)&&r in Yo){for(c=Zg(),n=0;n<Yo[r].length;n++)if(t=Yo[r][n],t.scope==c||t.scope=="all"){o=t.mods.length>0;for(e in go)(!go[e]&&Bf(t.mods,+e)>-1||go[e]&&Bf(t.mods,+e)==-1)&&(o=!1);(t.mods.length==0&&!go[16]&&!go[18]&&!go[17]&&!go[91]||o)&&t.method(l,t)===!1&&(l.preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation&&l.stopPropagation(),l.cancelBubble&&(l.cancelBubble=!0))}}}function hS(l){var r=l.keyCode,t,e=Bf(cc,r);if(e>=0&&cc.splice(e,1),(r==93||r==224)&&(r=91),r in go){go[r]=!1;for(t in Zl)Zl[t]==r&&(mo[t]=!1)}}function vS(){for(jo in go)go[jo]=!1;for(jo in Zl)mo[jo]=!1}function mo(l,r,t){var e,n;e=uw(l),t===void 0&&(t=r,r="all");for(var o=0;o<e.length;o++)n=[],l=e[o].split("+"),l.length>1&&(n=cw(l),l=[l[l.length-1]]),l=l[0],l=Xg(l),l in Yo||(Yo[l]=[]),Yo[l].push({shortcut:e[o],scope:r,method:t,key:e[o],mods:n})}function gS(l,r){var t,e,n=[],o,c,h;for(t=uw(l),c=0;c<t.length;c++){if(e=t[c].split("+"),e.length>1&&(n=cw(e)),l=e[e.length-1],l=Xg(l),r===void 0&&(r=Zg()),!Yo[l])return;for(o=0;o<Yo[l].length;o++)h=Yo[l][o],h.scope===r&&cS(h.mods,n)&&(Yo[l][o]={})}}function mS(l){return typeof l=="string"&&(l=Xg(l)),Bf(cc,l)!=-1}function yS(){return cc.slice(0)}function wS(l){var r=(l.target||l.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(jo in Zl)mo[jo]=!1;function _S(l){sw=l||"all"}function Zg(){return sw||"all"}function bS(l){var r,t,e;for(r in Yo)for(t=Yo[r],e=0;e<t.length;)t[e].scope===l?t.splice(e,1):e++}function uw(l){var r;return l=l.replace(/\s/g,""),r=l.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function cw(l){for(var r=l.slice(0,l.length-1),t=0;t<r.length;t++)r[t]=Zl[r[t]];return r}function Jg(l,r,t){l.addEventListener?l.addEventListener(r,t,!1):l.attachEvent&&l.attachEvent("on"+r,function(){t(window.event)})}mo.setScope=_S,mo.getScope=Zg,mo.deleteScope=bS,mo.filter=wS,mo.isPressed=mS,mo.getPressedKeyCodes=yS,mo.unbind=gS,mo.handlers=Yo,mo.init=function(l){Jg(l.document,"keydown",function(r){pS(r)}),Jg(l.document,"keyup",hS),Jg(l,"focus",vS)};const zf=mo;var CS={defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const xS=CS;var SS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))};(0,s.hasWin)()&&zf.init(window);var OS=function(l){SS(r,l);function r(t){var e=l.call(this,t,"Keymaps",xS)||this;return e.keymaster=zf,e.keymaps={},e}return r.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var n=t[e];this.add(e,n.keys,n.handler,n.opts||{})}},r.prototype.add=function(t,e,n,o){o===void 0&&(o={});var c=this.em,h=c.Commands,m=c.getEditor(),y=c.Canvas,C={id:t,keys:e,handler:n},P=this.keymaps[t];return P&&this.remove(t),this.keymaps[t]=C,zf(e,function(N,B){var G={event:N,h:B},ut=(0,i.isString)(n)?h.get(n):n,ft=!c.isEditing()&&!m.Canvas.isInputFocused();if(ft||o.force){o.prevent&&y.getCanvasView().preventDefault(N),(0,i.isFunction)(ut)?ut(m,0,G):h.runCommand(ut,G);var Ct=[t,B.shortcut,N];c.trigger.apply(c,fw(["keymap:emit"],Ct,!1)),c.trigger.apply(c,fw(["keymap:emit:".concat(t)],Ct,!1))}},void 0),c.trigger("keymap:add",C),C},r.prototype.get=function(t){return this.keymaps[t]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(t){var e=this.em,n=this.get(t);if(n)return delete this.keymaps[t],n.keys.split(", ").forEach(function(o){zf.unbind(o.trim())}),e==null||e.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),zf.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(U);const TS=OS;var ES={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const PS=ES;var kS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AS=function(l){kS(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(bt.Z);const MS=AS;var LS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eh=function(){return eh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},eh.apply(this,arguments)},jS=function(l){LS(r,l);function r(t){var e=l.call(this,t)||this,n=e.model;return e.listenTo(n,"change:open",e.updateOpen),e.listenTo(n,"change:title",e.updateTitle),e.listenTo(n,"change:content",e.updateContent),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.content,c=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(c,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},r.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),o=this.model.get("content");e.length&&n.append(e),t.empty().append(o)},r.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(t){var e=this,n=e.pfx,o=e.$el,c=e.el,h=[].slice.call(c.attributes).map(function(m){return m.name});o.removeAttr(h.join(" ")),o.attr(eh(eh({},t||{}),{class:"".concat(n,"container ").concat(t&&t.class||"").trim()}))},r.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},r}(fn);const DS=jS;var NS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IS=function(l){NS(r,l);function r(t){var e=l.call(this,t,"Modal",PS)||this;return e.model=new MS(e),e.model.on("change:open",function(n,o){t.trigger("modal:".concat(o?"open":"close"))}),e.model.on("change",(0,i.debounce)(function(){var n=e._evData(),o=e.config.custom;(0,i.isFunction)(o)&&o(n),t.trigger("modal",n)},0)),e}return r.prototype._evData=function(){var t=this,e=this.getTitle(),n=this.getContent(),o=this.model.attributes,c=o.open,h=o.attributes;return{open:c,attributes:h,title:(0,i.isString)(e)?(0,ee.rw)(e):e,content:(0,i.isString)(n)?(0,ee.rw)(n):n.get?n.get(0):n,close:function(){t.close()}}},r.prototype.postRender=function(t){var e=t.model.config.el||t.el,n=this.render();n&&(e==null||e.appendChild(n))},r.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},r.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(t){return this.model.set("title",t),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var t;if(!this.config.custom){var e=DS.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new e({el:n,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},r.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},r}(U);const VS=IS;var dw="sw-visibility",pw="export-template",hw="open-sm",vw="open-tm",gw="open-layers",mw="open-blocks",Qg="fullscreen",tm="preview",RS={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:dw,className:"fa fa-square-o",command:"core:component-outline",context:dw,attributes:{title:"View components"}},{id:tm,className:"fa fa-eye",command:tm,context:tm,attributes:{title:"Preview"}},{id:Qg,className:"fa fa-arrows-alt",command:Qg,context:Qg,attributes:{title:"Fullscreen"}},{id:pw,className:"fa fa-code",command:pw,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:hw,className:"fa fa-paint-brush",command:hw,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:vw,className:"fa fa-cog",command:vw,togglable:!1,attributes:{title:"Settings"}},{id:gw,className:"fa fa-bars",command:gw,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:mw,className:"fa fa-th-large",command:mw,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const em=RS;var FS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HS=function(l){FS(r,l);function r(t,e){var n=l.call(this,t,e)||this;return n.get("buttons").length&&n.set("buttons",new _w(n.module,n.get("buttons"))),n}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(bt.Z);const yw=HS;var BS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ww=function(l){BS(r,l);function r(t,e){return l.call(this,t,e,yw)||this}return r.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},r.prototype.deactivateAll=function(t,e){var n=t||"";this.forEach(function(o){o.get("context")==n&&o!==e&&o.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(n,o){n.get("context")==e&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})},r}(an);const _w=ww;ww.prototype.model=yw;var zS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),US=function(l){zS(r,l);function r(t,e){var n=l.call(this,t,e)||this,o=n.get("buttons")||[];return n.buttons=new _w(t,o),n}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),r}(bt.Z);const bw=US;var WS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cw=function(l){WS(r,l);function r(t,e){return l.call(this,t,e,bw)||this}return r}(an);const $S=Cw;Cw.prototype.model=bw;var KS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fc=function(){return fc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},fc.apply(this,arguments)},GS=function(l){KS(r,l);function r(t){var e=l.call(this,t)||this,n=e,o=n.model,c=n.em,h=n.pfx,m=n.ppfx,y=o.className,C=o.attributes,P=C.command,N=C.listen;if(e.id=h+o.get("id"),e.activeCls="".concat(h,"active ").concat(m,"four-color"),e.disableCls="".concat(m,"disabled"),e.btnsVisCls="".concat(h,"visible"),e.className=h+"btn"+(y?" "+y:""),e.listenTo(o,"change",e.render),e.listenTo(o,"change:active updateActive",e.updateActive),e.listenTo(o,"checkActive",e.checkActive),e.listenTo(o,"change:bntsVis",e.updateBtnsVis),e.listenTo(o,"change:attributes",e.updateAttributes),e.listenTo(o,"change:className",e.updateClassName),e.listenTo(o,"change:disable",e.updateDisable),c&&(0,i.isString)(P)&&N){var B={fromListen:!0};e.listenTo(c,"run:".concat(P),function(){return o.set("active",!0,B)}),e.listenTo(c,"stop:".concat(P),function(){return o.set("active",!1,B)})}return c&&c.get&&(e.commands=c.get("Commands")),e}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var t=this,e=t.model,n=t.pfx,o=e.className,c=e.get("attributes").class,h="".concat(c||""," ").concat(n,"btn ").concat(o||"");this.$el.attr("class",h.trim())},r.prototype.updateAttributes=function(){var t=this,e=t.em,n=t.model,o=t.$el,c=n.get("attributes")||{},h=e&&e.t&&e.t("panels.buttons.titles.".concat(n.id));o.attr(c),h&&o.attr({title:h}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(t,e,n){var o;n===void 0&&(n={});var c=this,h=c.model,m=c.commands,y=c.$el,C=c.activeCls,P=n.fromCollection,N=n.fromListen,B=h.get("context"),G=h.get("options"),ut=h.command,ft={};ut&&(m&&(0,i.isString)(ut)?ft=m.get(ut)||{}:(0,i.isFunction)(ut)?ft=m.create({run:ut}):ut!==null&&(0,i.isObject)(ut)&&(ft=m.create(ut)),h.active?(!P&&((o=h.collection)===null||o===void 0||o.deactivateAll(B,h)),h.set("active",!0,{silent:!0}).trigger("checkActive"),!N&&m.runCommand(ft,fc(fc({},G),{sender:h})),ft.noStop&&h.set("active",!1)):(y.removeClass(C),!N&&m.stopCommand(ft,fc(fc({},G),{sender:h,force:1}))))},r.prototype.updateDisable=function(){var t=this,e=t.disableCls,n=t.model,o=n.disable;this.$el[o?"addClass":"removeClass"](e)},r.prototype.checkActive=function(){var t=this,e=t.model,n=t.$el,o=t.activeCls;e.active?n.addClass(o):n.removeClass(o)},r.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},r.prototype.toggleActive=function(){var t=this,e=t.model,n=t.em,o=e.active,c=e.togglable;o&&!c||(e.active=!o,o?e.runDefaultCommand&&n.runDefault():e.stopDefaultCommand&&n.stopDefault())},r.prototype.render=function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this},r}(fn);const YS=GS;var qS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XS=function(l){qS(r,l);function r(t){var e=l.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),c=new YS({el:o,model:t}),h=c.render().el;return n?n.appendChild(h):this.$el.append(h),h},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),this.$el.append(e),this.$el.attr("class",(0,i.result)(this,"className")),this},r}(fn);const ZS=XS;var JS=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nm=function(){return nm=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},nm.apply(this,arguments)},QS=function(l){JS(r,l);function r(t){var e=l.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,n=this.model.get("resizable");if(e&&n){var o=n===!0?[!0,!0,!0,!0]:n,c=o.length,h=void 0,m=void 0,y=void 0,C=!1;if(c==2){var P=o;h=P[0],y=P[0],m=P[1],C=P[1]}else if(c==4){var P=o;h=P[0],m=P[1],y=P[2],C=P[3]}var N=new e.Utils.Resizer(nm({tc:h,cr:m,bc:y,cl:C,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t&&t.trigger("change:canvasOffset")},posFetcher:function(B,G){var ut=G.target,ft=B.style,Ct=N.getConfig(),Rt=Ct.keyWidth,It=Ct.keyHeight,ne=B.getBoundingClientRect(),de=ut=="container",Pe=ft[Rt],He=ft[It],ae=Pe&&!de?parseFloat(Pe):ne.width,Re=He&&!de?parseFloat(He):ne.height;return{left:0,top:0,width:ae,height:Re}}},n&&typeof n!="boolean"?n:{}));N.blur=function(){},N.focus(this.el)}},r.prototype.render=function(){var t=this.model.buttons,e=this.$el,n=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(e.addClass(o),this.toggleVisible(),t.length){var c=new ZS(t);e.append(c.render().el)}return e.append(this.model.get("content")),this},r}(fn);const tO=QS;var eO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nO=function(l){eO(r,l);function r(t){var e=l.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return r.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),c=new tO(t),h=c.render().el,m=t.get("appendTo");if(!o)if(m){var y=document.querySelector(m);y==null||y.appendChild(h)}else n?n.appendChild(h):this.$el.append(h);return c.initResize(),h},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(o){return t.addToCollection(o,n)}),e.append(n),e.attr("class",this.className),this},r}(fn);const rO=nO;var oO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iO=function(l){oO(r,l);function r(t){var e=l.call(this,t,"Panels",em)||this;e.panels=new $S(e,e.config.defaults);for(var n in em)n in e.config||(e.config[n]=em[n]);return e}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},r.prototype.addPanel=function(t){return this.panels.add(t)},r.prototype.removePanel=function(t){return this.panels.remove(t)},r.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},r.prototype.addButton=function(t,e){var n=this.getPanel(t);return n?n.buttons.add(e):null},r.prototype.removeButton=function(t,e){var n=this.getPanel(t);return n&&n.buttons.remove(e)},r.prototype.getButton=function(t,e){var n=this.getPanel(t);if(n){var o=n.buttons.where({id:e});return o.length?o[0]:null}return null},r.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new rO(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(U);const aO=iO;var sO={stylePrefix:"cm-",optsCodeViewer:{}};const lO=sO;var uO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cO=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},fO=function(l){uO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.build=function(t,e){e===void 0&&(e={});var n=e.em,o=cO(e,["em"]),c=o;if(e.cleanId&&n){var h=n.Css.getAll(),m=h.toJSON().map(function(y){var C=y.selectors,P=C&&C.length===1&&C.models[0];return P&&P.isId()&&P.get("name")}).filter(Boolean);c.attributes||(c.attributes=function(y,C){var P=C.id;return P&&P[0]==="i"&&!y.get("script")&&!y.get("attributes").id&&m.indexOf(P)<0&&delete C.id,C})}return t.toHTML(c)},r}(O.Hn);const dO=fO;var pO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hO=function(l){pO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.build=function(t){var e=this,n=t.toJSON();return this.beforeEach(n),(0,i.each)(n,function(o,c){var h=n[c];if(h instanceof O.Hn)n[c]=e.build(h);else if(h instanceof O.FE){var m=h;n[c]=[],m.length&&m.forEach(function(y,C){n[c][C]=e.build(y)})}}),n},r.prototype.beforeEach=function(t){delete t.status},r}(O.Hn);const vO=hO;var gO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function mO(l){var r,t=((r=l.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var yO=function(l){gO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.mapModel=function(t){var e,n=this,o="",c=t.get("script-export")||t.get("script"),h=t.get("type"),m=t.get("components"),y=t.getId();if(c){var C=t.get("attributes");C=(0,i.extend)({},C,{id:y}),t.set("attributes",C,{silent:!0});var P=t.getScriptString(c),N=t.get("script-props");if(t.get("scriptUpdated")&&!N)this.mapJs[h+"-"+y]={ids:[y],code:P};else{var B=void 0,G=this.mapJs[h];if(N&&(B=t.__getScriptProps()),G)G.ids.push(y),B&&(G.props[y]=B);else{var ut={ids:[y],code:P};B&&(ut.props=(e={},e[y]=B,e)),this.mapJs[h]=ut}}}return m.forEach(function(ft){o+=n.mapModel(ft)}),o},r.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var n in this.mapJs){var o=this.mapJs[n];if(o.code)if(o.props){if(mO(o.code))continue;e+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var c="#"+o.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(c,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return e},r}(O.Hn);const wO=yO;var _O=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rm=function(){return rm=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},rm.apply(this,arguments)},Uf;(0,s.hasWin)()&&(Uf=bn(631),bn(531),bn(629),bn(210));var xw=function(l){_O(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(t){return(0,i.bindAll)(this,"onChange"),this.editor=Uf.fromTextArea(t,rm({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(t){return this.element=t,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},r.prototype.setContent=function(t,e){var n=this;e===void 0&&(e={});var o=this.editor;if(o){o.setValue(t);var c=this.get("autoFormat"),h=o.autoFormatRange&&(c===!0||Array.isArray(c)&&c.includes(this.get("codeName")));h&&(Uf.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),Uf.commands.goDocStart(o)),!e.noRefresh&&setTimeout(function(){return n.refresh()})}},r}(O.Hn);const bO=xw;xw.prototype.CodeMirror=Uf;var CO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xO=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},SO=function(l){CO(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.template=function(t){var e=t.pfx,n=t.codeName,o=t.label;return f(Sw||(Sw=xO([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,n,e,o,e)},r.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var t,e,n=this,o=n.model,c=n.pfx,h=n.$el,m=o.toJSON(),y=o.get("input")||((e=(t=o).getElement)===null||e===void 0?void 0:e.call(t));return m.pfx=c,h.html(this.template(m)),h.attr("class","".concat(c,"editor-c")),h.find("#".concat(c,"code")).append(y),this},r}(O.G7);const OO=SO;var Sw,TO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nh=function(){return nh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},nh.apply(this,arguments)},EO="CodeMirror",PO=function(l){TO(r,l);function r(t){var e=l.call(this,t,"CodeManager",lO)||this;e.EditorView=OO;var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new dO,css:new _p,json:new vO,js:new wO},e.defViewers={CodeMirror:new bO},e.loadDefaultGenerators().loadDefaultViewers(),e}return r.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},r.prototype.getGenerator=function(t){return this.generators[t]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},r.prototype.getViewer=function(t){return this.viewers[t]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,i.isUndefined)(t.type)?EO:t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),o=document.createElement("div"),c=document.createElement("textarea");return o.appendChild(c),n.set(nh(nh({},this.config.optsCodeViewer),t)),n.init(c),n.setElement(o),n},r.prototype.updateViewer=function(t,e){t.setContent(e)},r.prototype.getCode=function(t,e,n){n===void 0&&(n={}),n.em=this.em;var o=this.getGenerator(e);return o?o.build(t,n):""},r.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},r.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},r.prototype.destroy=function(){},r}(U);const kO=PO;var AO=bn(410),MO=bn.n(AO),LO={maximumStackLength:500,trackSelection:!0};const jO=LO;var DO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ss=function(){return ss=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ss.apply(this,arguments)},NO=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},rh=function(l){return l.avoidStore||l.noUndo},Ow=function(l){return Object.keys(l.changedAttributes())},IO=function(l){DO(r,l);function r(t){var e=l.call(this,t,"UndoManager",jO)||this;e.config._disable&&(e.config.maximumStackLength=0);var n=!0;return e.um=new(MO())(ss({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(o){var c=o.get("_undo");if(c){var h=o.get("_undoexc");if((0,i.isArray)(h)&&Ow(o).some(function(m){return h.indexOf(m)>=0}))return!1;if((0,i.isBoolean)(c)||(0,i.isArray)(c)&&Ow(o).some(function(m){return c.indexOf(m)>=0}))return!0}return!1},on:function(o,c,h){var m=this;!this.beforeCache&&(this.beforeCache=o.previousAttributes());var y=h||c||{};if(y.noUndo&&setTimeout(function(){m.beforeCache=null}),!rh(y)){var C=o.toJSON({fromUndo:n}),P={object:o,before:this.beforeCache,after:C};return this.beforeCache=null,(0,i.isEmpty)(C)?void 0:P}}}),e.um.changeUndoType("add",{on:function(o,c,h){if(h===void 0&&(h={}),!(rh(h)||!e.isRegistered(c)))return{object:c,before:void 0,after:o,options:ss(ss({},h),{fromUndo:n})}}}),e.um.changeUndoType("remove",{on:function(o,c,h){if(h===void 0&&(h={}),!(rh(h)||!e.isRegistered(c)))return{object:c,before:o,after:void 0,options:ss(ss({},h),{fromUndo:n})}}}),e.um.changeUndoType("reset",{undo:function(o,c){o.reset(c,{fromUndo:n})},redo:function(o,c,h){o.reset(h,{fromUndo:n})},on:function(o,c){if(c===void 0&&(c={}),!(rh(c)||!e.isRegistered(o)))return{object:o,before:c.previousModels,after:NO([],o.models,!0),options:ss(ss({},c),{fromUndo:n})}}}),e.um.on("undo redo",function(){t.trigger("change:canvasOffset"),t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),["undo","redo"].forEach(function(o){return e.um.on(o,function(){return t.trigger(o)})}),e}return r.prototype.postLoad=function(){var t=this,e=t.config,n=t.em;e.trackSelection&&n&&this.add(n.get("selected"))},r.prototype.add=function(t){return this.um.register(t),this},r.prototype.remove=function(t){return this.um.unregister(t),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,o=e.um;return!n.isEditing()&&o.undo(t),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,o=e.um;return!n.isEditing()&&o.redo(t),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(n){var o=n.get("magicFusionIndex");e.indexOf(o)<0&&(e.push(o),t.push(n))}),t},r.prototype.skip=function(t){this.stop(),t(),this.start()},r.prototype.getGroupedStack=function(){var t={},e=this.getStack(),n=function(o,c){var h=o.attributes,m=h.type,y=h.after,C=h.before,P=h.object,N=h.options,B=N===void 0?{}:N;return{index:c,type:m,after:y,before:C,object:P,options:B}};return e.forEach(function(o,c){var h=o.get("magicFusionIndex"),m=n(o,c);t[h]?t[h].push(m):t[h]=[m]}),Object.keys(t).map(function(o){var c=t[o];return{index:c[c.length-1].index,actions:c,labels:(0,i.unique)(c.reduce(function(h,m){var y,C=(y=m.options)===null||y===void 0?void 0:y.action;return C&&h.push(C),h},[]))}})},r.prototype.goToGroup=function(t){var e=this;if(t){var n=this.getPointer(),o=t.index-n;(0,i.times)(Math.abs(o),function(){e[o<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(U);const VO=IO;var RO={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const FO=RO;var dc=function(){return dc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},dc.apply(this,arguments)},oh;(function(l){l[l.ACTIVE=1]="ACTIVE",l[l.INACTIVE=0]="INACTIVE",l[l.DISABLED=-1]="DISABLED"})(oh||(oh={}));var om="_rte",Jl={ACTIVE:1,INACTIVE:0,DISABLED:-1},ih=function(l,r){r===void 0&&(r="A");var t=l.selection()||{},e=t.anchorNode,n=t.focusNode,o=e==null?void 0:e.parentNode,c=n==null?void 0:n.parentNode;return(o==null?void 0:o.nodeName)==r||(c==null?void 0:c.nodeName)==r},ah="data-selectme",Wf={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(l){return l.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(l){return l.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(l){return l.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(l){return l.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(l){return l&&l.selection()&&ih(l)?Jl.ACTIVE:Jl.INACTIVE},result:function(l){ih(l)?l.exec("unlink"):l.insertHTML('<a href="" '.concat(ah,">").concat(l.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(l){return l!=null&&l.selection()&&ih(l,"SPAN")?Jl.DISABLED:Jl.INACTIVE},result:function(l){!ih(l,"SPAN")&&l.insertHTML("<span ".concat(ah,">").concat(l.selection(),"</span>"),{select:!0})}}},HO=function(){function l(r,t,e){var n=this;if(e===void 0&&(e={}),this.em=r,this.settings=e,t[om])return t[om];t[om]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(e.actions||[]).map(function(C){var P=C;return(0,i.isString)(C)?P=dc({},Wf[C]):Wf[C.name]&&(P=dc(dc({},Wf[C.name]),C)),P}),c=o.length?o:Object.keys(Wf).map(function(C){return Wf[C]});e.classes=dc({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var h=e.classes,m=e.actionbar;if(this.actionbar=m,this.classes=h,this.actions=c,!m){if(!this.isCustom(e.module)){var y=e.actionbarContainer;m=document.createElement("div"),m.className=h.actionbar,y==null||y.appendChild(m),this.actionbar=m}c.forEach(function(C){return n.addAction(C)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return l.prototype.isCustom=function(r){var t=r||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},l.prototype.destroy=function(){},l.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},l.prototype.updateActiveActions=function(){var r=this,t=this.getActions();t.forEach(function(e){var n=e.update,o=e.btn,c=r.classes,h=c.active,m=c.inactive,y=c.disabled,C=e.state,P=e.name,N=r.doc,B=oh.INACTIVE;if(o&&(o.className=o.className.replace(h,"").trim(),o.className=o.className.replace(m,"").trim(),o.className=o.className.replace(y,"").trim()),C){var G=C(r,N);if(B=G,o)switch(G){case Jl.ACTIVE:o.className+=" ".concat(h);break;case Jl.INACTIVE:o.className+=" ".concat(m);break;case Jl.DISABLED:o.className+=" ".concat(y);break}}else N.queryCommandSupported(P)&&N.queryCommandState(P)&&(o&&(o.className+=" ".concat(h)),B=oh.ACTIVE);e.currentState=B,n==null||n(r,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},l.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},l.prototype.disable=function(){return this.__toggleEffects(!1)},l.prototype.__toggleEffects=function(r,t){r===void 0&&(r=!1),t===void 0&&(t={});var e=r?ee.on:ee.S1,n=this,o=n.el,c=n.doc,h=this.actionbarEl();if(h&&(h.style.display=r?"":"none"),o.contentEditable="".concat(!!r),e(o,"mouseup keyup",this.updateActiveActions),e(c,"keydown",this.__onKeydown),e(c,"paste",this.__onPaste),this.enabled=r,r){var m=t.event;if(this.syncActions(),this.updateActiveActions(),m){var y=null;if(c.caretRangeFromPoint){var C=(0,ee.VB)(m);y=c.caretRangeFromPoint(C.clientX,C.clientY)}else m.rangeParent&&(y=c.createRange(),y.setStart(m.rangeParent,m.rangeOffset));var P=c.getSelection();P==null||P.removeAllRanges(),y&&(P==null||P.addRange(y))}o.focus()}return this},l.prototype.__onKeydown=function(r){var t=r,e=this.doc,n=["insertOrderedList","insertUnorderedList"];t.key==="Enter"&&!n.some(function(o){return e.queryCommandState(o)})&&(e.execCommand("insertLineBreak"),t.preventDefault())},l.prototype.__onPaste=function(r){var t=r.clipboardData||window.clipboardData,e=t.getData("text"),n=t.getData("text/html");if(e&&!n){r.preventDefault();var o=e.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,o)}},l.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(t){if(r.actionbar&&(!t.state||t.state&&t.state(r,r.doc)>=0)){var e=t.event||"click",n=t.btn;n&&(n["on".concat(e)]=function(){t.result(r,t),r.updateActiveActions()})}})},l.prototype.addAction=function(r,t){t===void 0&&(t={});var e=t.sync,n=this.actionbarEl();if(n){var o=r.icon,c=r.attributes,h=c===void 0?{}:c,m=document.createElement("span");m.className=this.classes.button,r.btn=m;for(var y in h)m.setAttribute(y,h[y]);typeof o=="string"?m.innerHTML=o:m.appendChild(o),n.appendChild(m)}e&&(this.actions.push(r),this.syncActions())},l.prototype.getActions=function(){return this.actions},l.prototype.selection=function(){return this.doc.getSelection()},l.prototype.exec=function(r,t){this.doc.execCommand(r,!1,t)},l.prototype.actionbarEl=function(){return this.actionbar},l.prototype.insertHTML=function(r,t){var e=t===void 0?{}:t,n=e.select,o=this,c=o.em,h=o.doc,m=o.el,y=h.getSelection();if(y&&y.rangeCount){var C=(0,s.getModel)(m),P=h.createElement("div"),N=y.getRangeAt(0);N.deleteContents(),(0,i.isString)(r)?P.innerHTML=r:r&&P.appendChild(r),Array.prototype.slice.call(P.childNodes).forEach(function(B){N.insertNode(B)}),y.removeAllRanges(),y.addRange(N),m.focus(),n&&C&&(C.once("rte:disable",function(){var B=C.find("[".concat(ah,"]"))[0];B&&(c.setSelected(B),B.removeAttributes(ah))}),C.trigger("disable"))}},l}();const BO=HO;var zO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tw=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},Ew=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},UO=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},im="change:canvasOffset frame:scroll component:update",WO="rte:enable",$O="rte:disable",KO="rte:custom",GO={enable:WO,disable:$O,custom:KO},YO=function(l){zO(r,l);function r(t){var e=l.call(this,t,"RichTextEditor",FO)||this;e.events=GO;var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.pfx=n.stylePrefix,e.actions=n.actions||[];var c=new O.Hn;return e.model=c,c.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,i.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.onLoad=function(){if((0,s.hasWin)()){var t=this.config,e=t.pStylePrefix,n=t.custom,o=(0,ee.ut)("div",{class:(0,ee.cx)("".concat(e,"rte-toolbar"),!n&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,ee.ut)("div")),(0,ee.on)(o,"mousedown",function(c){return c.stopPropagation()})}},r.prototype.__trgCustom=function(){var t=this,e=t.model,n=t.em,o=t.events;n.trigger(o.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var t,e,n;(t=this.globalRte)===null||t===void 0||t.destroy(),(n=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||n===void 0||n.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ee.L_)(this.toolbar)},r.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(t){var e=this.globalRte,n=this,o=n.em,c=n.pfx,h=n.actionbar,m=n.config,y=this.actions||UO([],m.actions,!0),C={actionbar:"".concat(c,"actionbar"),button:"".concat(c,"action"),active:"".concat(c,"active"),inactive:"".concat(c,"inactive"),disabled:"".concat(c,"disabled")};return e?(e.em=o,e.setEl(t)):(e=new BO(o,t,{classes:C,actions:y,actionbar:h,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},r.prototype.add=function(t,e){var n;e===void 0&&(e={}),e.name=t,(n=this.globalRte)===null||n===void 0||n.addAction(e,{sync:!0})},r.prototype.get=function(t){var e,n;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(o){o.name==t&&(n=o)}),n},r.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},r.prototype.remove=function(t){var e,n=this.getAll(),o=this.get(t);if(o){var c=o.btn,h=n.indexOf(o);(e=c==null?void 0:c.parentNode)===null||e===void 0||e.removeChild(c),n.splice(h,1)}return o},r.prototype.run=function(t){var e=this.globalRte,n=(0,i.isString)(t)?this.get(t):t;e&&n&&(n.result(e,n),e.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var t=this,e=t.em,n=t.toolbar,o="px",c=e.Canvas,h=n.style,m=c.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(y){var C=m[y];(0,s.isDef)(C)&&(h[y]=(0,i.isString)(C)?C:(C||0)+o)})},r.prototype.enable=function(t,e,n){return n===void 0&&(n={}),Tw(this,void 0,void 0,function(){var o,c,h,m,y;return Ew(this,function(C){switch(C.label){case 0:return this.lastEl=t.el,o=this,c=o.customRte,h=o.em,m=t.getChildrenContainer(),this.toolbar.style.display="",[4,c?c.enable(m,e):this.initRte(m).enable(n)];case 1:return y=C.sent(),h&&(setTimeout(this.updatePosition.bind(this),0),h.off(im,this.updatePosition,this),h.on(im,this.updatePosition,this),h.trigger("rte:enable",t,y)),this.model.set({currentView:t}),[2,y]}})})},r.prototype.getContent=function(t,e){return Tw(this,void 0,void 0,function(){var n;return Ew(this,function(o){switch(o.label){case 0:return n=this.customRte,n&&e&&(0,i.isFunction)(n.getContent)?[4,n.getContent(t.el,e)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},r.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},r.prototype.disable=function(t,e){var n=this.em,o=this.customRte,c=t.getChildrenContainer();o?o.disable(c,e):e&&e.disable(),this.hideToolbar(),n&&(n.off(im,this.updatePosition,this),n.trigger("rte:disable",t,e)),this.model.unset("currentView")},r}(U);const qO=YO;var am=bn(790),XO={stylePrefix:"com-",defaults:{},strict:!0};const ZO=XO;var JO=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sh=function(){return sh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},sh.apply(this,arguments)},Pw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},kw=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],QO=function(l){JO(r,l);function r(t){var e=l.call(this,t,"Commands",ZO)||this;e.CommandAbstract=am.default,e.defaultCommands={},e.commands={},e.active={};var n=e.config,o=n.pStylePrefix,c=e.defaultCommands;o&&(n.stylePrefix=o+n.stylePrefix),Object.keys(n.defaults).forEach(function(m){var y=n.defaults[m];y.id&&e.add(y.id,y)}),c["tlb-delete"]={run:function(m){return m.runCommand("core:component-delete")}},c["tlb-clone"]={run:function(m){m.runCommand("core:copy"),m.runCommand("core:paste",{action:"clone-component"})}},c["tlb-move"]={run:function(m,y,C){C===void 0&&(C={});var P=m.getModel(),N=C&&C.event,B=C.target,G=B||m.getSelected(),ut=B?[B]:Pw([],m.getSelectedAll(),!0),ft=N&&N.type=="dragstart",Ct={preserveSelected:1},Rt=["absolute","translate"];if(!G||!G.get("draggable"))return P.logWarning("The element is not draggable");var It=G.get("dmode")||P.get("dmode"),ne=function(){return P.stopDefault(Ct)},de=(0,i.includes)(Rt,It);ut.forEach(function(tn){return tn.trigger("disable")}),ft?setTimeout(ne,0):ne();var Pe=function(tn){P.trigger("".concat(wi,":start"),tn)},He=function(tn){P.trigger(wi,tn)},ae=function(tn,xr,ue){ut.forEach(function(Mr){return Mr.set("status","selected")}),m.select(ut),G.emitUpdate(),P.trigger("".concat(wi,":end"),ue),setTimeout(function(){return P.runDefault(Ct)}),(de||ue.cancelled)&&P.set("_cmpDrag",1)};if(de)m.runCommand("core:component-drag",{guidesInfo:1,mode:It,target:G,onStart:Pe,onDrag:He,onEnd:ae,event:N});else{ft&&N.dataTransfer.setDragImage(G.view.el,0,0);var Re=m.Commands.get("move-comp");Re.onStart=Pe,Re.onDrag=He,Re.onEndMoveFromModel=ae,Re.initSorterFromModels(ut)}ut.forEach(function(tn){return tn.set("status","freezed-selected")})}},c["core:undo"]=function(m){return m.UndoManager.undo()},c["core:redo"]=function(m){return m.UndoManager.redo()},kw.forEach(function(m){var y=m[2],C=bn(828)("./".concat(m[1])).default,P="core:".concat(m[0]);c[P]=C,y&&(c[y]=C,["run","stop"].forEach(function(N){t.on("".concat(N,":").concat(y),function(){for(var B=[],G=0;G<arguments.length;G++)B[G]=arguments[G];return t.trigger.apply(t,Pw(["".concat(N,":").concat(P)],B,!1))})}))}),n.model=t.Canvas;for(var h in c)e.add(h,c[h]);return e}return r.prototype.add=function(t,e){var n=(0,i.isFunction)(e)?{run:e}:e;return n.stop||(n.noStop=!0),delete n.initialize,n.id=t,this.commands[t]=am.default.extend(n),this},r.prototype.get=function(t){var e=this.commands[t];return(0,i.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},r.prototype.extend=function(t,e){e===void 0&&(e={});var n=this.get(t);if(n){var o=sh(sh({},n.constructor.prototype),e);this.add(t,o);var c=kw.filter(function(h){return"core:".concat(h[0])===t&&h[2]})[0];c&&this.add(c[2],o)}return this},r.prototype.has=function(t){return!!this.commands[t]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},r.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},r.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(t,e){e===void 0&&(e={});var n;if(t&&t.run){var o=this,c=o.em,h=o.config,m=t.id,y=c.Editor;(!this.isActive(m)||e.force||!h.strict)&&(n=y&&t.callRun(y,e),m&&t.stop&&!t.noStop&&!e.abort&&(this.active[m]=n))}return n},r.prototype.stopCommand=function(t,e){e===void 0&&(e={});var n;if(t&&t.run){var o=this,c=o.em,h=o.config,m=t.id,y=c.Editor;(this.isActive(m)||e.force||!h.strict)&&(m&&delete this.active[m],n=t.callStop(y,e))}return n},r.prototype.create=function(t){t.stop||(t.noStop=!0);var e=am.default.extend(t);return new e(this.config)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(U);const tT=QO,eT={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var nT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yo=function(){return yo=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},yo.apply(this,arguments)},rT=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},Aw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},sm=function(l){nT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.getDefaults=function(){return(0,i.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var n=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||n).replace(/ /g,"-"));var c=this.get("property");!this.get("id")&&this.set("id",c),!o&&this.set("name",(0,s.capitalize)(c).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,t,e)},r.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},r.prototype.__upTargets=function(t,e){var n,o=this;e===void 0&&(e={});var c=this.em,h=c.Styles,m=this.getName(),y=e.__clear,C=y?"":this.__getFullValue(e),P=this.__getParentProp(),N=this.changedAttributes(),B=(0,i.keys)(N).reduce(function(It,ne){return It[ne]=o.previous(ne),It},{}),G=Aw(Aw([],(0,i.keys)(this.__getClearProps()),!0),["__p"],!1),ut=(0,i.keys)(N),ft=!e.__up&&!P&&(y||G.some(function(It){return ut.indexOf(It)>=0})),Ct=this.get("onChange"),Rt={property:this,from:B,to:N,value:C,opts:e};h.__trgEv(h.events.propertyUpdate,Rt),Ct&&Ct(Rt),ft&&this.__upTargetsStyle((n={},n[m]=C,n),e)},r.prototype.__upTargetsStyle=function(t,e){var n,o=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");o==null||o.addStyleTargets(yo(yo({},t),{__p:!!e.avoidStore}),e)},r.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var n=e.partial,o=rT(e,["partial"]);return t.__p=!!(o.avoidStore||n),this.set(t,yo(yo({},o),{avoidStore:t.__p}))},r.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,yo(yo({},e),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,o=n===void 0?!0:n,c=this.getId(),h=this.get("name")||this.get("label");return o&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(c)))||h},r.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,n=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():n},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget(),o=this.get("value");return!(0,i.isUndefined)(o)&&o!==""&&!n},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(t){var e;t===void 0&&(t={});var n=this.getName(),o=t.camelCase?(0,s.camelCase)(n):n;return e={},e[o]=this.__getFullValue(t),e},r.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,i.isUndefined)(t)?this.get("defaults"):t)},r.prototype.upValue=function(t,e){e===void 0&&(e={});var n=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(n,e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),yo(yo({},t),{__clear:!0})),this},r.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var o=this.parseValue(t),c=!e;!c&&this.set({value:void 0},{avoidStore:c,silent:!0}),this.set(o,yo({avoidStore:c},n))},r.prototype.setValueFromInput=function(t,e,n){n===void 0&&(n={}),this.setValue(t,e,yo(yo({},n),{fromInput:1}))},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n={value:t},o="!important";if((0,i.isString)(t)&&t.indexOf(o)!==-1&&(n.value=t.replace(o,"").trim(),n.important=!0),!this.get("functionName")&&!e.complete)return n;var c=[],h="".concat(n.value),m=h.indexOf("(")+1,y=h.lastIndexOf(")"),C=h.substring(0,m-1);if(C&&(n.functionName=C),c.push(m),y>=0&&c.push(y),n.value=String.prototype.substring.apply(h,c),e.numeric){var P=parseFloat(n.value);n.unit=n.value.replace(P,""),n.value=P}return n},r.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,n=e.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(t,e){e===void 0&&(e={});var n=this.get("functionName"),o=this.getDefaultValue(),c=(0,i.isUndefined)(t)?this.get("value"):t,h=!(0,i.isUndefined)(c)&&c!=="";if(c&&o&&c===o)return o;if(n&&h){var m=n==="url"?"'".concat(c.replace(/'|"/g,""),"'"):c;c="".concat(n,"(").concat(m,")")}return h&&this.get("important")&&!e.skipImportant&&(c="".concat(c," !important")),c||""},r.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,n=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(t){var e=t.target,n=t.component,o=t.sectors,c=n||e;if(!c)return!1;var h=this.getId(),m=this.getName(),y=this.get("toRequire"),C=this.get("requires"),P=this.get("requiresParent"),N=c.get("unstylable"),B=c.get("stylable-require"),G=c.get("stylable");if((0,i.isArray)(G)&&(G=G.indexOf(m)>=0),(0,i.isArray)(N)&&(G=N.indexOf(m)<0),y&&(G=!e||B&&(B.indexOf(h)>=0||B.indexOf(m)>=0)),o&&C){var ut=(0,i.keys)(C);o.forEach(function(It){It.getProperties().forEach(function(ne){if((0,i.includes)(ut,ne.id)){var de=C[ne.id];G=G&&(0,i.includes)(de,ne.get("value"))}})})}if(P){var ft=n&&n.parent(),Ct=ft&&ft.getEl();if(Ct){var Rt=(0,s.hasWin)()?window.getComputedStyle(Ct):{};(0,i.each)(P,function(It,ne){G=G&&Rt[ne]&&(0,i.includes)(It,Rt[ne])})}else G=!1}return!!G},r}(O.Hn);const Ln=sm;sm.callParentInit=function(l,r,t,e){e===void 0&&(e={}),l.prototype.initialize.apply(r,[t,yo(yo({},e),{skipInit:1})])},sm.callInit=function(l,r,t){t===void 0&&(t={}),!t.skipInit&&l.init(r,t)};var oT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lh=function(){return lh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},lh.apply(this,arguments)},iT=function(l){oT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},r.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(n,o){return n[(0,s.camelCase)(o)]=e[o],n},{}):e},r.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},r.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},r.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},r.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},r.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},r.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},r.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},r.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",lh(lh({},this.getValues()),t))},r}(O.Hn);const aT=iT;var sT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mw=function(l){sT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},r}(O.FE);const lT=Mw;Mw.prototype.model=aT;var uT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pc=function(){return pc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},pc.apply(this,arguments)},Lw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},jw=function(l){return l==="integer"||l==="number"},cT=function(l){uT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return pc(pc({},Ln.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Ln.callParentInit(Ln,this,t,e);var n=this.em,o=new fm(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),Ln.callInit(this,t,e)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return Lw([],this.get("properties").models,!0)},r.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},r.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(t){var e=t===void 0?{}:t,n=e.byName;return this.getProperties().reduce(function(o,c){var h=n?c.getName():c.getId();return o[h]="".concat(c.__getFullValue()),o},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var n=this.getName(),o=this.__getJoin(),c=this.get("toStyle"),h=this.getValues(),m={};if(c)m=c(h,{join:o,name:n,property:this});else if(h=this.getValues({byName:!0}),this.isDetached())m=h;else{var y=this.getProperties().map(function(C){return C.__getFullValue({withDefault:1})}).filter(Boolean).join(o);m=(e={},e[n]=y,e)}return this.isDetached()?m[n]="":(m[n]=m[n]||"",m=pc(pc({},m),this.getProperties().reduce(function(C,P){return C[P.getName()]="",C},{}))),t.camelCase?Object.keys(m).reduce(function(C,P){return C[(0,s.camelCase)(P)]=m[P],C},{}):m},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},r.prototype.__upTargetsStyleProps=function(t,e){var n;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&e){var c=e.getName();o=(n={},n[c]=o[c],n)}this.__upTargetsStyle(o,t)},r.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),Ln.prototype._up.call(this,t,e),this},r.prototype.getStyle=function(t){return this.getStyleFromProps(t)},r.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return Ts(e)},r.prototype.__getJoin=function(){var t=this.get("join");return(0,i.isString)(t)?t:this.get("separator")},r.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),n=this.getProperties(),o=n.map(function(h){return h.getName()}),c=Lw([e],o,!0);return c.some(function(h){return!(0,i.isUndefined)(t[h])&&t[h]!==""})},r.prototype.__splitValue=function(t,e){return Ts(t).split(e).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(t,e,n){return this.__splitValue(t[e]||"",n)},r.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var n=e===void 0?{}:e,o=n.byName,c=this.getProperties(),h=c.length===4&&c.every(function(C){return jw(C.getType())}),m=this.__splitValue(t,this.getSplitSeparator()),y={};return c.forEach(function(C,P){var N=m[P],B=(0,i.isUndefined)(N)?"":N;if(h){var G=m.length;B=m[P]||m[P%G+(G!=1&&G%2?1:0)]||B}var ut=o?C.getName():C.getId();y[ut]=B||""}),y},r.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var n=e.byName,o=this.getName(),c=this.getProperties(),h=this.getSplitSeparator(),m=this.get("fromStyle"),y=m?m(t,{property:this,name:o,separator:h}):{};return m||(y=this.__getSplitValue(t[o]||"",{byName:n}),c.forEach(function(C){var P=t[C.getName()],N=n?C.getName():C.getId();!(0,i.isUndefined)(P)&&P!==""&&(y[N]=P)})),y},r.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(o){var c=t[o.getId()];o.__getFullValue()!==c&&o.upValue(c,e)});var n=(0,i.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),Ln.prototype.clear.call(this),this},r.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},r}(Ln);const hc=cT;var fT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_a=function(){return _a=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},_a.apply(this,arguments)},dT=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},pT=/,(?![^\(]*\))/,hT=/\s(?![^(]*\))/,vT=function(l){fT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return _a(_a({},hc.getDefaults()),{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),hc.callParentInit(hc,this,t,e);var n=this.get("layers"),o=new lT(n,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),hc.callInit(this,t,e)},r.prototype.getLayers=function(){return this.__getLayers().models},r.prototype.__getLayers=function(){return this.get("layers")},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.__getLayers().at(t)||void 0},r.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},r.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},r.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},r.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var n=t?t.getIndex():-1;n>=0&&(0,i.isNumber)(e)&&e>=0&&e<this.getLayers().length&&n!==e&&(this.removeLayer(t),this.__getLayers().add(t,{at:e}))},r.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={};this.getProperties().forEach(function(c){var h=c.getId(),m=t[h];n[h]=(0,i.isUndefined)(m)?c.getDefaultValue():m});var o=this.__getLayers().push({values:n},e);return o},r.prototype.removeLayer=function(t){return this.__getLayers().remove(t)},r.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},r.prototype.getLayerLabel=function(t){var e="";if(t){var n=this.get("layerLabel"),o=t.getValues(),c=t.getIndex();if(n)e=n(t,{index:c,values:o,property:this});else{var h=[];this.getProperties().map(function(m){h.push(o[m.getId()])}),e=h.filter(Boolean).join(" ")}}return e},r.prototype.getStyleFromLayer=function(t,e){var n;e===void 0&&(e={});var o=this.__getJoin(),c=this.__getJoinLayers(),h=this.get("toStyle"),m=this.getName(),y=t.getValues(),C;if(h)C=h(y,{join:o,joinLayers:c,name:m,layer:t,property:this});else{var P=this.getProperties().map(function(N){var B=N.getName(),G=y[N.getId()],ut=(0,i.isUndefined)(G)?N.getDefaultValue():G;if(e.number&&jw(N.getType())){var ft=N.parseValue(G,e.number);ut="".concat(ft.value).concat(ft.unit)}return{name:B,value:ut}});C=this.isDetached()?P.reduce(function(N,B){return N[B.name]=B.value,N},{}):(n={},n[this.getName()]=P.map(function(N){return N.value}).join(o),n)}return e.camelCase?Object.keys(C).reduce(function(N,B){return N[(0,s.camelCase)(B)]=C[B],N},{}):C},r.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var n={},o=this.get("preview");return o&&(n=this.getStyleFromLayer(t,e)),n},r.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,i.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},r.prototype.__upProperties=function(t,e){var n;e===void 0&&(e={});var o=this.getSelectedLayer();o&&(o.upValues((n={},n[t.getId()]=t.__getFullValue(),n)),!e.__up&&this.__upTargetsStyleProps(e))},r.prototype.__upLayers=function(t,e,n){this.__upTargetsStyleProps(n||e)},r.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return Ln.prototype.__upTargets.call(this,t,e)},r.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(),t)},r.prototype.__upTargetsStyle=function(t,e){return Ln.prototype.__upTargetsStyle.call(this,t,e)},r.prototype.__upSelected=function(t,e){var n=t===void 0?{}:t,o=n.noEvent;e===void 0&&(e={});var c=this.em.Styles,h=this.getSelectedLayer(),m=h==null?void 0:h.getValues();m&&this.getProperties().forEach(function(y){var C,P=(C=m[y.getId()])!==null&&C!==void 0?C:"";y.__getFullValue()!==P&&y.upValue(P,_a(_a({},e),{__up:!0}))}),!o&&c.__trgEv(c.events.layerSelect,{property:this})},r.prototype._up=function(t,e){e===void 0&&(e={});var n=t.__layers,o=n===void 0?[]:n,c=dT(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},e),Ln.prototype._up.call(this,c,e),this},r.prototype.__setLayers=function(t){t===void 0&&(t=[]);var e=this.__getLayers(),n=t.map(function(o){return{values:o}});e.length===n.length?n.map(function(o,c){var h;return(h=e.at(c))===null||h===void 0?void 0:h.upValues(o.values)}):this.__getLayers().reset(n),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(t){var e=this,n=this.parseValue(t);return n.__layers=t.split(pT).map(function(o){return o.trim()}).map(function(o){return e.__parseLayer(o)}).filter(Boolean),n},r.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),n=t.split(hT),o=this.getProperties();return e?e({value:t,values:n}):o.reduce(function(c,h,m){var y=n[m];return c[h.getId()]=(0,i.isUndefined)(y)?h.getDefaultValue():y,c},{})},r.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;var n=this.getName(),o=this.getProperties(),c=this.getLayerSeparator(),h=this.get("fromStyle"),m=h?h(t,{property:this,name:n,separatorLayers:c}):[];if(!h){var y=this.__splitStyleName(t,n,c).map(function(C){return C.split(e.getSplitSeparator())}).map(function(C){var P={};return o.forEach(function(N,B){var G=C[B];P[N.getId()]=(0,i.isUndefined)(G)?N.getDefaultValue():G}),P});o.forEach(function(C){var P=C.getId();e.__splitStyleName(t,C.getName(),c).map(function(N){var B;return B={},B[P]=N||C.getDefaultValue(),B}).forEach(function(N,B){y[B]=y[B]?_a(_a({},y[B]),N):N})}),m=y}return(0,i.isArray)(m)?m:[m]},r.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},r.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var n={},o=this.getName(),c=this.getLayers(),h=this.getProperties(),m=c.map(function(C){return e.getStyleFromLayer(C,t)});if(m.forEach(function(C){(0,i.keys)(C).map(function(P){n[P]||(n[P]=[]),n[P].push(C[P])})}),(0,i.keys)(n).map(function(C){n[C]=n[C].join(e.__getJoinLayers())}),this.isDetached())n[o]="",!c.length&&h.map(function(C){n[C.getName()]=""});else{var y=h.reduce(function(C,P){return C[P.getName()]="",C},{});n[o]=n[o]||"",n=_a(_a({},n),y)}return n},r.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,i.isString)(e)?e:t)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return Ts(t[this.getName()])},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget();return this.getLayers().length>0&&!n},r.prototype.clear=function(t){return t===void 0&&(t={}),this.__getLayers().reset(),this.__upTargetsStyleProps(t),Ln.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r}(hc);const gT=vT;var mT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uh=function(){return uh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},uh.apply(this,arguments)},yT=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},wT=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},lm="data-clear-style",_T=function(l){mT(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this;(0,i.bindAll)(e,"__change","__updateStyle");var n=t.config||{},o=n.em;e.config=n,e.em=o,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var c=e.model;c.view=e,e.onValueChange=(0,i.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,i.debounce)(e.updateStatus.bind(e),0),e.listenTo(c,"destroy remove",e.remove),e.listenTo(c,"change:visible",e.updateVisibility),e.listenTo(c,"change:name change:className change:full",e.render),e.listenTo(c,"change:value",e.onValueChange),e.listenTo(c,"change:parentTarget",e.updateStatus),e.listenTo(o,"change:device",e.onValueChange);var h=e.init&&e.init.bind(e);return h&&h(),e}return r.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(lm,"]")]="clear",t},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(t){var e=this,n=e.pfx,o=e.em,c=t.parent,h=t.attributes,m=h.icon,y=m===void 0?"":m,C=h.info,P=C===void 0?"":C,N=o==null?void 0:o.getConfig().icons,B=(N==null?void 0:N.close)||"";return`
      <span class="`.concat(n,"icon ").concat(y,'" title="').concat(P,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(c?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(lm,">").concat(B,"</div>"),`
    `)},r.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var t=this;return O.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var t,e=this,n=e.model,o=e.pfx,c=e.ppfx,h=e.config,m="".concat(c,"four-color"),y="".concat(c,"color-warn"),C=this.$el.children(".".concat(o,"label")),P=this.getClearEl(),N=P?P.style:{};C.removeClass("".concat(m," ").concat(y)),N.display="none",n.hasValue({noParent:!0})&&h.highlightChanged?(C.addClass(m),h.clearProperties&&(N.display="")):n.hasValue()&&h.highlightComputed&&C.addClass(y),(t=this.parent)===null||t===void 0||t.updateStatus()},r.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(lm,"]"))),this.clearEl},r.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},r.prototype.onValueChange=function(t,e,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(t){var e=this.model,n=(0,i.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},r.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(uh(uh({},this._getClbOpts()),{value:t}))},r.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,wT([this._getClbOpts()],t,!1))},r.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var n=e.complete,o=e.partial;yT(e,["complete","partial"]);var c=this.model,h=n!==!1&&o!==!0;(0,s.isObject)(t)?c.__upTargetsStyle(t,{avoidStore:!h}):c.upValue(t,{partial:!h})},r.prototype._getClbOpts=function(){var t=this,e=t.model,n=t.el,o=t.createdEl;return{el:n,createdEl:o,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,n=t.model,o=t.el,c=t.$el,h=n.getName(),m=n.getType(),y=n.get("className")||"",C="".concat(e,"property"),P=m==="number"?"".concat(e).concat(m," ").concat(e,"integer"):"".concat(e).concat(m);this.createdEl&&this.__destroyFn(this._getClbOpts()),c.empty().append(this.template(n)),c.find("[data-sm-label]").append(this.templateLabel(n));var N=this.create&&this.create.bind(this);this.createdEl=N&&N(this._getClbOpts()),c.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),o.className="".concat(C," ").concat(P," ").concat(C,"__").concat(h," ").concat(y).trim(),o.className+=n.isFull()?" ".concat(C,"--full"):"";var B=this.onRender&&this.onRender.bind(this);return B&&B(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}(O.G7);const ls=_T;var bT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),CT=function(l){bT(r,l);function r(t){var e=l.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var n=e.collection;return e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.render),e}return r.prototype.addTo=function(t,e,n){this.add(t,null,n)},r.prototype.add=function(t,e,n){n===void 0&&(n={});var o=this,c=o.parent,h=o.config,m=e||this.el,y=new t.typeView({model:t,config:h});c&&(y.parent=c),y.render();var C=y.el;this.properties.push(y),(0,ee.$Q)(m,C,n.at)},r.prototype.remove=function(){return O.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx;this.clearItems();var c=document.createDocumentFragment();return this.collection.forEach(function(h){return t.add(h,c)}),n.empty(),n.append(c),n.attr("class","".concat(o,"properties")),this},r}(O.G7);const um=CT;var xT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ch=function(){return ch=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ch.apply(this,arguments)},ST=function(l){xT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),ls.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.get("properties");if(n.length&&!this.props){var o=e.isDetached(),c=new um({config:ch(ch({},this.config),{highlightComputed:o,highlightChanged:o}),collection:n,parent:this});c.render(),this.$el.find("#".concat(t,"input-holder")).append(c.el),this.props=c}},r.prototype.clearCached=function(){ls.prototype.clearCached.apply(this,arguments),delete this.props},r}(ls);const $f=ST;var OT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TT=function(l){OT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.em,c=o==null?void 0:o.getConfig().icons,h=(c==null?void 0:c.close)||"",m=(c==null?void 0:c.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(m,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(h,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{};this.em=n.em,this.config=n,this.sorter=t.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},r.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},r.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var n=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),c=(0,i.keys)(o).map(function(h){return"".concat(h,":").concat(o[h])}).join(";");n.setAttribute("style",c)}},r.prototype.updateVisibility=function(){var t,e=this,n=e.pfx,o=e.model,c=e.propertyView,h=this.getPropertiesWrapper(),m=o.isSelected();h.style.display=m?"":"none",this.$el[m?"addClass":"removeClass"]("".concat(n,"active")),m&&h.appendChild((t=c.props)===null||t===void 0?void 0:t.el)},r.prototype.render=function(){var t=this,e=t.el,n=t.pfx,o=t.model;return e.innerHTML=this.template(),e.className="".concat(n,"layer"),o.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(O.G7);const ET=TT;var PT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kT=function(l){PT(r,l);function r(t){var e=l.call(this,t)||this,n=e.collection,o=t.config||{},c=o.em,h=o.stylePrefix||"",m=o.pStylePrefix||"";e.config=o,e.pfx=h,e.ppfx=m,e.propertyView=t.propertyView,e.className="".concat(h,"layers ").concat(m,"field"),e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.reset),e.items=[];var y=c==null?void 0:c.Utils;return e.sorter=y?new y.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(h,"layers"),itemSel:".".concat(h,"layer"),pfx:o.pStylePrefix,em:c}):"",n.view=e,e.$el.data("model",n),e.$el.data("collection",n),e}return r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var o=e||null,c=this,h=c.propertyView,m=c.config,y=c.sorter,C=c.$el,P=new ET({model:t,config:m,sorter:y,propertyView:h}),N=P.render().el;if(this.items.push(P),o)o.appendChild(N);else if(typeof n<"u"){var B="before";C.children().length===n&&(n--,B="after"),n<0?C.append(N):C.children().eq(n)[B](N)}else C.append(N);return N},r.prototype.reset=function(t,e){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),O.G7.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.sorter,c=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(h){return t.addToCollection(h,c)}),n.append(c),n.attr("class",this.className),o&&(o.plh=null),this},r}(O.G7);const AT=kT;var MT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vc=function(){return vc=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},vc.apply(this,arguments)},LT=function(l){MT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return vc(vc({},$f.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.em,o=n==null?void 0:n.getConfig().icons,c=(o==null?void 0:o.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(c,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var t=this.model;this.listenTo(t.__getLayers(),"change reset",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),$f.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){$f.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var t=this,e=t.model,n=t.el,o=t.config,c=e.get("properties");if(c.length&&!this.props){var h=new um({config:vc(vc({},o),{highlightComputed:!1,highlightChanged:!1}),collection:c,parent:this});h.render();var m=new AT({collection:e.__getLayers(),config:o,propertyView:this});m.render();var y=n.querySelector("[data-layers-wrapper]");y.appendChild(m.el),this.props=h,this.layersView=m}},r}($f);const jT=LT;var DT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fh=function(){return fh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},fh.apply(this,arguments)},NT=function(l){DT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return fh(fh({},ls.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var t,e=this,n=e.pfx,o=e.em,c=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,h=c==null?void 0:c.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(h,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(t){var e=this,n=e.model,o=e.el,c=n.getDefaultValue(),h=o.querySelector("[data-preview-box]"),m=o.querySelector("[data-preview]");h.style.display=!t||t===c?"none":"",m.style.backgroundImage=t||n.getDefaultValue()},r.prototype.openAssetManager=function(){var t=this,e,n=(e=this.em)===null||e===void 0?void 0:e.Assets;n==null||n.open({select:function(o,c){var h=(0,i.isString)(o)?o:o.get("src");t.model.upValue(h,{partial:!c}),c&&n.close()},types:["image"],accept:"image/*"})},r}(ls);const IT=NT;var VT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RT=function(l){VT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(t){return""},r.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},r.prototype.setValue=function(t){},r.prototype.onRender=function(){var t=this,e=t.ppfx,n=t.model,o=t.el;if(!this.inputInst){var c=n.input;c.ppfx=e,c.render();var h=o.querySelector(".".concat(e,"fields"));h.appendChild(c.el),this.input=c.inputEl.get(0),this.inputInst=c}},r.prototype.clearCached=function(){ls.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(ls);const us=RT;var FT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HT=function(l){FT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var t=this;us.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(n){return t[n]=null}),this},r.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},r.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,n=e.ppfx,o=e.model,c=e.em,h=e.el,m=new dr({target:c,model:o,ppfx:n,onChange:this.__handleChange}),y=m.render();h.querySelector(".".concat(n,"fields")).appendChild(y.el),this.input=(t=y.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=y}},r}(us);const BT=HT;var zT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dh=function(){return dh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},dh.apply(this,arguments)},Dw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},UT=function(l){zT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return dh(dh({},Ln.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var t=this.attributes,e=t.options,n=t.list;return(e&&e.length?e:n)||[]},r.prototype.getOption=function(t){var e=this,n=(0,s.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]||null},r.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},r.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(Dw(Dw([],e,!0),[t],!1))}return this},r.prototype.getOptionId=function(t){return(0,s.isDef)(t.id)?t.id:t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var o=e.locale,c=o===void 0?!0:o,h=((0,i.isString)(t)?this.getOption(t):t)||{},m=this.getOptionId(h),y=h.label||h.name||m,C=e.property||this.getId();return c&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(C,".").concat(m)))||y},r.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Ln.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(Ln);const cm=UT;var WT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$T=function(l){WT(r,l);function r(t){var e=l.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.getOptions();if(!this.input){var o=[];n.forEach(function(h){var m=e.getOptionId(h),y=e.getOptionLabel(m),C=h.style?h.style.replace(/"/g,"&quot;"):"",P=C?'style="'.concat(C,'"'):"",N=m.replace(/"/g,"&quot;");o.push('<option value="'.concat(N,'" ').concat(P,">").concat(y,"</option>"))});var c=this.el.querySelector("#".concat(t,"input-holder"));c.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=c.firstChild}},r.prototype.__setValueInput=function(t){var e=this.model,n=this.getInputEl(),o=e.getOptions()[0],c=o?e.getOptionId(o):"";n&&(n.value=t||c)},r}(ls);const Nw=$T;var KT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ph=function(){return ph=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},ph.apply(this,arguments)},GT=function(l){KT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return ph(ph({},cm.getDefaults()),{full:1})},r}(cm);const YT=GT;var qT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XT=function(l){qT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},r.prototype.onRender=function(){var t=this,e=t.pfx,n=t.ppfx,o=this.model,c="".concat(n,"radio-item-label"),h=o.getName(),m=o.getOptions(),y="".concat(e,"radio ").concat(e,"radio-").concat(h),C=o.cid;if(!this.input){var P=[];m.forEach(function(B){var G=B.className?"".concat(B.className," ").concat(e,"icon ").concat(c):"",ut=o.getOptionId(B),ft="".concat(h,"-").concat(ut,"-").concat(C),Ct=G?"":o.getOptionLabel(ut),Rt=B.title?'title="'.concat(B.title,'"'):"",It=o.getValue()===ut?"checked":"";P.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(y,'" id="').concat(ft,'" name="').concat(h,"-").concat(C,'" value="').concat(ut,'" ').concat(It,`/>
            <label class="`).concat(G||c,'" ').concat(Rt,' for="').concat(ft,'">').concat(Ct,`</label>
          </div>
        `))});var N=this.el.querySelector(".".concat(n,"field"));N.innerHTML='<div class="'.concat(n,'radio-items">').concat(P.join(""),"</div>"),this.input=N.firstChild}},r.prototype.__setValueInput=function(t){var e,n=this.model,o=t||n.getDefaultValue(),c=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(o,'"]'));c&&(c.checked=!0)},r}(Nw);const ZT=XT;var JT=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ql=function(){return Ql=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ql.apply(this,arguments)},QT=function(l){JT(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return Ql(Ql({},Ln.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Ln.callParentInit(Ln,this,t,e);var n=this.get("unit"),o=this.getUnits();this.input=(0,s.hasWin)()?new Un({model:this}):void 0,o.length&&!n&&this.set("unit",o[0],{silent:!0}),Ln.callInit(this,t,e)},r.prototype.__getClearProps=function(){return Ql(Ql({},Ln.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n=Ln.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(n.value,Ql({deepCheck:1},e)),c=o.value,h=o.unit;return n.value=c,n.unit=h,n},r.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),n=(0,i.isUndefined)(t)?"":"".concat(t),o=!(0,i.isUndefined)(e)&&n?e:"",c="".concat(n).concat(o);return Ln.prototype.getFullValue.apply(this,[c])},r}(Ln);const hh=QT;var tE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vh=function(){return vh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},vh.apply(this,arguments)},eE=function(l){tE(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.defaults=function(){return vh(vh({},hh.getDefaults()),{showInput:1})},r}(hh);const nE=eE;var rE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gh=function(){return gh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},gh.apply(this,arguments)},oE=function(l){rE(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.events=function(){return gh(gh({},us.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(t){var e=this.model,n=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(n.value),us.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){us.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){us.prototype.clearCached.apply(this,arguments),delete this.slider},r}(us);const iE=oE;var aE=O.FE.extend(Q0),sE=aE.extend({extendViewApi:1,init:function(){var l=this,r=l.opts,t=l.em,e=r.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:gT,view:jT,isType:function(l){if(l&&l.type=="stack")return l}},{id:"composite",model:hc,view:$f,isType:function(l){if(l&&l.type=="composite")return l}},{id:"file",model:Ln,view:IT,isType:function(l){if(l&&l.type=="file")return l}},{id:"color",model:Ln,view:BT,isType:function(l){if(l&&l.type=="color")return l}},{id:"select",model:cm,view:Nw,isType:function(l){if(l&&l.type=="select")return l}},{id:"radio",model:YT,view:ZT,isType:function(l){if(l&&l.type=="radio")return l}},{id:"slider",model:nE,view:iE,isType:function(l){if(l&&l.type=="slider")return l}},{id:"integer",model:hh,view:us,isType:function(l){if(l&&l.type=="integer")return l}},{id:"number",model:hh,view:us,isType:function(l){if(l&&l.type=="number")return l}},{id:"base",model:Ln,view:ls,isType:function(l){return l.type="base",l}}]});const fm=sE;var lE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mh=function(){return mh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},mh.apply(this,arguments)},uE=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},cE=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},fE=function(l){lE(r,l);function r(t,e){e===void 0&&(e={});var n=l.call(this,t)||this,o=e.em;n.em=o;var c=t||{},h=n.buildProperties(c.buildProps),m=n.get("name")||"",y=[];!n.get("id")&&n.set("id",m.replace(/ /g,"_").toLowerCase()),h?y=n.extendProperties(h):y=n.get("properties").map(function(P){return(0,i.isString)(P)?n.buildProperties(P)[0]:P}).filter(Boolean),y=y.map(function(P){return n.checkExtend(P)});var C=new fm(y,{em:o});return C.sector=n,n.set("properties",C),n}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},r.prototype.setName=function(t){return this.set("name",t)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(t){return this.set("open",t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.get("properties"),n=e.models?cE([],e.models,!0):e;return n.filter(function(o){var c=!0;if(t.withValue&&(c=o.hasValue({noParent:!0})),t.withParentValue){var h=o.hasValue({noParent:!0});c=!h&&o.hasValue()}return c})},r.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},r.prototype.addProperty=function(t,e){return this.get("properties").add(this.checkExtend(t),e)},r.prototype.extendProperties=function(t,e,n){n===void 0&&(n=!1);for(var o=t.length,c=e||this.get("properties"),h=this.get("extendBuilded"),m=[],y=0,C=c.length;y<C;y++){for(var P=c[y],N=0,B=0;B<o;B++){var G=t[B];if(P.property==G.property||P.id==G.property){var ut=P.properties;ut&&ut.length&&(P.properties=this.extendProperties(G.properties||[],ut,1)),t[B]=h?(0,i.extend)(G,P):P,m[B]=t[B],N=1;continue}}N||(t.push(P),m.push(P))}return n?m.filter(function(ft){return ft}):t},r.prototype.checkExtend=function(t){var e=((0,i.isString)(t)?{extend:t}:t)||{},n=e.extend,o=uE(e,["extend"]);return n?mh(mh({},this.buildProperties([n])[0]||{}),o):t},r.prototype.buildProperties=function(t){var e,n=t||[];if(!n.length)return[];var o=(e=this.em)===null||e===void 0?void 0:e.get("StyleManager").builtIn;return o==null?void 0:o.build(n)},r}(O.Hn);const Iw=fE;var dE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yh=function(){return yh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},yh.apply(this,arguments)},pE=function(l){dE(r,l);function r(){return l!==null&&l.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={});var n=e.module,o=e.em;this.em=o,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(t,e){e===void 0&&(e={});var n=e.collection.em;return new Iw(t,yh(yh({},e),{em:n}))},r.prototype.onReset=function(t,e){e===void 0&&(e={});var n=e.previousModels||[];n.forEach(function(o){return o.get("properties").reset()})},r}(O.FE);const hE=pE;var Ks=function(){return Ks=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Ks.apply(this,arguments)},vE=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},tu=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Cr=function(l){return l.map(function(r){return{id:r}})},gE=function(){function l(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",t=["flex-start","flex-end","center"],e=tu(tu([],t,!0),["baseline","stretch"],!1);this.optsBgSize=Cr(["auto","cover","contain"]),this.optsBgAttach=Cr(["scroll","fixed","local"]),this.optsBgRepeat=Cr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Cr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Cr(["visible","hidden","scroll","auto"]),this.optsDir=Cr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Cr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Cr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Cr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Cr(["none","left","right"]),this.optsPos=Cr(["static","relative","absolute","fixed"]),this.optsTextAlign=Cr(["left","center","right","justify"]),this.optsFlexAlign=Cr(e),this.optsJustCont=Cr(tu(tu([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Cr(tu(tu([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Cr(tu(["auto"],e,!0)),this.optsTransitProp=Cr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Cr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Cr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return l.prototype.__sub=function(r){var t=this;return function(){return r.map(function(e){if((0,i.isString)(e))return t.get(e);var n=e.extend,o=vE(e,["extend"]);return Ks(Ks({},t.get(n)),o)})}},l.prototype.init=function(){var r=this,t=this,e=t.fixedValues,n=t.requireFlex,o=t.typeNumber;this.props={};var c=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(h,m){var y=m.values,C=y["box-shadow-h"],P=y["box-shadow-v"],N=y["box-shadow-blur"],B=y["box-shadow-spread"];return"".concat(C," ").concat(P," ").concat(N," ").concat(B)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(h,m){var y=m.values,C=y["text-shadow-h"],P=y["text-shadow-v"],N=y["text-shadow-blur"];return"".concat(C," ").concat(P," ").concat(N)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(h,m){var y=m.values,C=y["background-repeat-sub"]||"",P=y["background-position-sub"]||"",N=y["background-attachment-sub"]||"",B=y["background-size-sub"]||"";return[C,P,N,B].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(h,m){var y=m.property,C=m.name,P=h[C]||"",N=y.getLayerSeparator();return P?P.split(N).map(function(B){var G=y.__parseFn(B),ut=G.name,ft=G.value;return{"transform-type":ut,"transform-value":ft}}):[]},toStyle:function(h,m){var y,C=m.name;return y={},y[C]="".concat(h["transform-type"],"(").concat(h["transform-value"],")"),y},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(h){var m=h.property,y=h.to;if(y.value){var C=m.getOption(),P=Ks({},C.propValue||{}),N=m.getParent().getProperty("transform-value"),B=N.getUnit();(!B||(P==null?void 0:P.units.indexOf(B))<0)&&(P.unit=(P==null?void 0:P.units[0])||""),N.up(P)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return c.forEach(function(h){var m=h[0],y=h[1],C=h[2];r.add(m,y||{},{from:C})}),this},l.prototype.add=function(r,t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.from||"",o=this.props[n||r]||{},c=Ks(Ks(Ks({},o),{property:r}),t);return c.properties&&(0,i.isFunction)(c.properties)&&(c.properties=c.properties()),this.props[r]=c,c},l.prototype.get=function(r){return this.props[r]},l.prototype.build=function(r){var t=this,e=[],n=(0,i.isString)(r)?[r]:r;return n.forEach(function(o){e.push(t.get(o)||{property:o})}),e},l}();const mE=gE;var yE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wE=function(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l},_E=function(l){yE(r,l);function r(t){var e=l.call(this,t)||this,n=t.config||{},o=e.model,c=n.em;return e.config=n,e.em=c,e.pfx=n.stylePrefix||"",e.listenTo(o,"destroy remove",e.remove),e.listenTo(o,"change:open",e.updateOpen),e.listenTo(o,"change:visible",e.updateVisibility),e}return r.prototype.template=function(t){var e,n=t.pfx,o=t.label,c=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,h=(c==null?void 0:c.caret)||"",m="".concat(n,"sector-");return f(Vw||(Vw=wE([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),m,m,h,m,o)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var t=this,e=t.$el,n=t.model,o=t.pfx,c=n.isOpen();e[c?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=c?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var t=this,e=t.$el,n=t.pfx;return e.find(".".concat(n,"properties")).get(0)},r.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},r.prototype.renderProperties=function(){var t=this,e=t.model,n=t.config,o=e.get("properties");if(o){var c=new um({collection:o,config:n});this.$el.append(c.render().el)}},r.prototype.render=function(){var t=this,e=t.pfx,n=t.model,o=t.$el,c=n.getId(),h=n.getName();return o.html(this.template({pfx:e,label:h})),this.renderProperties(),o.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(c," no-select")),this.updateOpen(),this},r}(O.G7);const bE=_E;var Vw,CE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xE=function(l){CE(r,l);function r(t){t===void 0&&(t={});var e=l.call(this,t)||this,n=t.module,o=t.config,c=e.collection;return e.pfx=(o==null?void 0:o.stylePrefix)||"",e.ppfx=(o==null?void 0:o.pStylePrefix)||"",e.config=o,e.module=n,e.listenTo(c,"add",e.addTo),e.listenTo(c,"reset",e.render),e}return r.prototype.remove=function(){var t=this;return O.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},r.prototype.addTo=function(t,e,n){n===void 0&&(n={}),this.addToCollection(t,null,n)},r.prototype.addToCollection=function(t,e,n){n===void 0&&(n={});var o=this,c=o.config,h=o.el,m=e||h,y=new bE({model:t,config:c}).render().el;return(0,ee.$Q)(m,y,n.at),y},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx,c=e.ppfx;n.empty();var h=document.createDocumentFragment();return this.collection.each(function(m){return t.addToCollection(m,h)}),n.append(h),n.addClass("".concat(o,"sectors ").concat(c,"one-bg ").concat(c,"two-color")),this},r}(O.G7);const SE=xE;var OE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gs=function(){return Gs=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Gs.apply(this,arguments)},Rw=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},Fw="style",Kf="".concat(Fw,":"),dm="".concat(Kf,"sector"),TE="".concat(dm,":add"),EE="".concat(dm,":remove"),PE="".concat(dm,":update"),pm="".concat(Kf,"property"),kE="".concat(pm,":add"),AE="".concat(pm,":remove"),ME="".concat(pm,":update"),Hw="".concat(Kf,"layer:select"),hm="".concat(Kf,"target"),LE="".concat(Kf,"custom"),Bw=function(l){return l||l===0},jE={all:Fw,sectorAdd:TE,sectorRemove:EE,sectorUpdate:PE,propertyAdd:kE,propertyRemove:AE,propertyUpdate:ME,layerSelect:Hw,target:hm,custom:LE},DE=function(l){OE(r,l);function r(t){var e=l.call(this,t,"StyleManager",new hE([],{em:t}),jE,eT)||this;e.Sector=Iw,e.storageKey="",(0,i.bindAll)(e,"__clearStateTarget");var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.builtIn=new mE,e.properties=new fm([],{em:t,module:e}),e.sectors=e.all;var c=new O.Hn({targets:[]});e.model=c;var h="component:toggled component:update:classes change:state change:device frame:resized selector:type";e.upAll=(0,i.debounce)(function(){return e.__upSel()},0),c.listenTo(t,h,e.upAll),c.listenTo(t,"component:toggled",e.__clearStateTarget);var m=(0,i.debounce)(function(){e.__upProps(),e.__trgCustom()},0);c.listenTo(t,"styleable:change undo redo",m);var y=(0,i.debounce)(function(){return e.__trgCustom()},0);return c.listenTo(t,"".concat(Hw," ").concat(hm),y),c.on("change:lastTarget",function(){return t.trigger(hm,e.getSelected())}),e}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.em).trigger.apply(e,Rw([t],n,!1))},r.prototype.__clearStateTarget=function(){var t=this,e=this.em,n=this.__getStateTarget();n&&(e==null||e.skip(function(){e.Css.remove(n),t.model.set({stateTarget:null})}))},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(t,e,n){n===void 0&&(n={});var o=this.getSector(t);return o||(e.id=t,o=this.sectors.add(e,n)),o},r.prototype.getSector=function(t,e){e===void 0&&(e={});var n=this.sectors.where({id:t})[0];return!n&&e.warn&&this._logNoSector(t),n||null},r.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,n=e&&e.models?t.array?Rw([],e.models,!0):e:[];return t.visible?n.filter(function(o){return o.isVisible()}):n},r.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},r.prototype.addProperty=function(t,e,n){n===void 0&&(n={});var o=this.getSector(t,{warn:!0}),c=null;return o&&(c=o.addProperty(e,n)),c},r.prototype.getProperty=function(t,e){var n=this.getSector(t,{warn:!0}),o;return n&&(o=n.properties.filter(function(c){return c.get("property")===e||c.get("id")===e})[0]),o},r.prototype.getProperties=function(t){var e,n=this.getSector(t,{warn:!0});return n&&(e=n.properties),e},r.prototype.removeProperty=function(t,e){var n=this.getProperties(t);return n?n.remove(this.getProperty(t,e)):null},r.prototype.select=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,c=(0,i.isArray)(t)?t:[t],h=e.stylable,m=o.Css,y=[];c.filter(Boolean).forEach(function(ut){var ft=ut;if((0,i.isString)(ut)){var Ct=m.getRule(ut)||m.setRule(ut);!(0,i.isUndefined)(h)&&Ct.set({stylable:h}),ft=Ct}y.push(ft)});var C=e.component||y.filter(function(ut){return(0,s.isComponent)(ut)}).reverse()[0];y=y.map(function(ut){return n.getModelToStyle(ut)});var P=o.getState(),N=y.slice().reverse()[0],B=this.getParentRules(N,{state:P,component:C}),G=this.__getStateTarget();return o.skip(function(){var ut;if(P&&(!((ut=N==null?void 0:N.getState)===null||ut===void 0)&&ut.call(N))){var ft=N.getStyle();G?G.setStyle(ft):G=m.getAll().add({selectors:"gjs-selected",style:ft,shallow:!0,important:!0})}else G&&(m.remove(G),G=void 0)}),this.model.set({targets:y,lastTarget:N,lastTargetParents:B,stateTarget:G,component:C}),this.__upProps(e),y},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(c){return c.addStyle(t,e)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();n&&(o==null||o.setStyle(n.getStyle(),e))},r.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},r.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var n=this.em,o=e.skipAdd;if(n&&(t!=null&&t.toHTML)){var c=n.getConfig(),h=n.UndoManager,m=n.Css,y=n.Selectors,C=y?y.getConfig():{},P=c.devicePreviewMode?"":n.get("state"),N=t.get("classes"),B=N.getStyleable(),G=B.length,ut=!C.componentFirst||e.useClasses,ft={noCount:1},Ct={state:P,addOpts:ft},Rt=void 0;if(h.stop(),G&&ut){var It=n.getCurrentMedia();Rt=m.get(B,P,It),!Rt&&!o&&(Rt=m.add(B,P,It,{},ft))}else if(c.avoidInlineStyle){var ne=t.getId();Rt=m.getIdRule(ne,Ct),!Rt&&!o&&(Rt=m.setIdRule(ne,{},Ct)),t.is("wrapper")&&Rt.set("wrapper",1,ft)}Rt&&(t=Rt),h.start()}return t},r.prototype.getParentRules=function(t,e){var n=e===void 0?{}:e,o=n.state,c=n.component,h=this.em,m=[];if(h&&t){var y=c,C=h.Css,P=h.CodeManager.getGenerator("css"),N=t.toHTML?t:t.getComponent(),B={combination:!0,array:!0},G=[],ut=[],ft=[];N?(G=C.getRules("#".concat(N.getId())),ut=y?C.getRules(y.getSelectors().getFullName(B)):[],ft=ut.concat(G)):(G=y?C.getRules("#".concat(y.getId())):[],ut=C.getRules(t.getSelectors().getFullName(B)),ft=G.concat(ut));var Ct=ft.filter(function(Rt){return(0,i.isUndefined)(o)?1:Rt.get("state")===o}).sort(P.sortRules).reverse();m=Ct.slice(Ct.indexOf(t)+1)}return m},r.prototype.addType=function(t,e){this.properties.addType(t,e)},r.prototype.getType=function(t){return this.properties.getType(t)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(t,e){var n=e===void 0?{}:e,o=n.model,c=o===void 0?{}:o,h=n.view,m=h===void 0?{}:h,y=this.config,C=this.getType(t);if(C)return new C.view(Gs({model:new C.model(c),config:y},m))},r.prototype.render=function(){var t=this,e=t.config,n=t.em,o=t.SectView,c=o&&o.el;return this.SectView=new SE({el:c,em:n,config:e,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var n=this.em,o="component:styleUpdate";if(!t.__p){var c=e.components||n.getSelectedAll(),h=Array.isArray(c)?c:[c],m=Gs({},t);delete m.__p;var y=Object.keys(m),C={style:m};h.forEach(function(P){n.trigger(o,P,C),y.forEach(function(N){return n.trigger("".concat(o,":").concat(N),P,C)})})}},r.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var n=this.getSelected();if(n){var o=this.sectors,c=this.model.get("component"),h=this.getSelectedParents(),m=n.getStyle(),y=h.map(function(C){return{target:C,style:C.getStyle()}});o.map(function(C){C.getProperties().map(function(P){e.__upProp(P,m,y,t)})}),o.forEach(function(C){var P=C.getProperties();P.forEach(function(B){var G=B.__checkVisibility({target:n,component:c,sectors:o});B.set("visible",G)});var N=P.some(function(B){return B.isVisible()});C.set("visible",N)})}},r.prototype.__upProp=function(t,e,n,o){var c=this,h=t.getName(),m=e[h],y=Bw(m),C=t.getType()==="stack",P=t.getType()==="composite",N=Gs(Gs({},o),{__up:!0}),B=!P&&!C,G=C?t.__getLayersFromStyle(e):[],ut=P?t.__getPropsFromStyle(e):{},ft=y?m:null,Ct=null;if(C&&G===null||P&&ut===null){var Rt=C?"__getLayersFromStyle":"__getPropsFromStyle",It=n.filter(function(ae){return t[Rt](ae.style)!==null})[0];if(It){ft=It.style[h],Ct=It.target;var ne=t[Rt](It.style);C?G=ne:ut=ne}}else if(!y){ft=null;var It=n.filter(function(Re){return Bw(Re.style[h])})[0];It&&(ft=It.style[h],Ct=It.target)}if(t.__setParentTarget(Ct),B&&t.__getFullValue()!==ft&&t.upValue(ft,N),C&&t.__setLayers(G||[]),P){var de=t.getProperties();if(t.isDetached()){var Pe=t.__getPropsFromStyle(e,{byName:!0})||{},He=n.map(function(ae){return Gs(Gs({},ae),{style:t.__getPropsFromStyle(ae.style,{byName:!0})||{}})});de.map(function(ae){return c.__upProp(ae,Pe,He,o)})}else t.__setProperties(ut||{},N),t.getProperties().map(function(ae){return ae.__setParentTarget(Ct)})}},r.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},r}(K);const NE=DE;var IE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jr=function(){return Jr=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Jr.apply(this,arguments)},vm=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},gm=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},VE=function(l,r){var t={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&r.indexOf(e)<0&&(t[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(t[e[n]]=l[e[n]]);return t},RE=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))};x().$=S.default;var FE=[uS,Zx,TS,VO,M,ve,Nf,NE,Hp,VS,kO,aO,qO,XC,fx,Ui,tT,Lp],HE=[Kx,Hs,je,yp];T({$:S.default});var zw={debug:console.log,info:console.info,warning:console.warn,error:console.error},BE=function(l){IE(r,l);function r(t){t===void 0&&(t={});var e=l.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var n=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new R),e.set("dmode",n.dragMode);var o=n.el,c=n.log,h=c===!0?(0,i.keys)(zw):(0,i.isArray)(c)?c:[];return(0,i.bindAll)(e,"initBaseColorPicker"),o&&n.fromElement&&(n.components=o.innerHTML),e.attrsOrig=o?(0,i.toArray)(o.attributes).reduce(function(m,y){return m[y.nodeName]=y.nodeValue,m},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),FE.forEach(function(m){return e.loadModule(m)}),HE.forEach(function(m){return e.loadStorableModule(m)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),h.forEach(function(m){return e.listenLog(m)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(m){var y=m.from,C=m.to;e.listenTo(e,y,function(){for(var P=[],N=0;N<arguments.length;N++)P[N]=arguments[N];e.trigger.apply(e,RE([C],P,!1)),e.logWarning("The event '".concat(y,"' is deprecated, replace it with '").concat(C,"'"))})}),e}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),zw[t])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(t){var e=this.config;return(0,i.isUndefined)(t)?e:e[t]},r.prototype.loadOnStart=function(){var t=this,e=this.config,n=e.projectData,o=e.headless,c=this.get("StorageManager");this.toLoad.reverse().forEach(function(y){return y.onLoad()});var h=function(){t.modules.forEach(function(y){return y.postLoad&&y.postLoad(t)}),t.set("readyLoad",1)};o?(n&&this.loadData(n),h()):this._storageTimeout=setTimeout(function(){return vm(t,void 0,void 0,function(){var y;return gm(this,function(C){switch(C.label){case 0:return n?(this.loadData(n),[3,5]):[3,1];case 1:if(!(c!=null&&c.canAutoload()))return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),[4,this.load()];case 3:return C.sent(),[3,5];case 4:return y=C.sent(),this.logError(y),[3,5];case 5:return h(),[2]}})})});var m=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});m.Pages.onLoad(),m.Canvas.postLoad(),this.set("shallow",m)},r.prototype.updateChanges=function(){var t=this,e=this.get("StorageManager"),n=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return t.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=n?function(){return!0}:null),e.isAutosave()&&n>=e.getStepsBeforeSave()&&this.store().catch(function(o){return t.logError(o)})},r.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},r.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},r.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(t,e,n){var o=this;n===void 0&&(n={}),!(this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var c=o.getDirtyCount()||0;n.unset;var h=VE(n,["unset"]);o.set("changesCount",c+1,h)},0))},r.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},r.prototype.componentHovered=function(t,e,n){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,n),e&&this.trigger("component:hovered",e,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(t,e){var n=this;e===void 0&&(e={});var o=e.event,c=o&&(o.ctrlKey||o.metaKey),h=(o||{}).shiftKey,m=((0,i.isArray)(t)?t:[t]).map(function(N){return(0,s.getModel)(N,S.default)}),y=this.getSelectedAll(),C=this.getConfig().multipleSelection,P=(0,i.isArray)(t);P&&this.removeSelected(y.filter(function(N){return!(0,i.contains)(m,N)})),m.forEach(function(N){var B=(0,s.getModel)(N,void 0);if(B&&(n.trigger("component:select:before",B,e),!B.get("selectable")||e.abort))if(e.useValid){for(var G=B.parent();G&&!G.get("selectable");)G=G.parent();B=G}else return;if(c&&C)return n.toggleSelected(B);if(h&&C){n.clearSelection(n.get("Canvas").getWindow());var ut=B.collection,ft=B.index(),Ct,Rt;if(n.getSelectedAll().forEach(function(It){var ne=It.collection,de=It.index();ne===ut&&(de<ft?Ct=(0,i.isUndefined)(Ct)?de:Math.max(Ct,de):de>ft&&(Rt=(0,i.isUndefined)(Rt)?de:Math.min(Rt,de)))}),!(0,i.isUndefined)(Ct))for(;Ct!==ft;)n.addSelected(ut.at(Ct)),Ct++;if(!(0,i.isUndefined)(Rt))for(;Rt!==ft;)n.addSelected(ut.at(Rt)),Rt--;return n.addSelected(B)}!P&&n.removeSelected(y.filter(function(It){return It!==B})),n.addSelected(B,e)})},r.prototype.addSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,s.getModel)(t,S.default),c=(0,i.isArray)(o)?o:[o];c.forEach(function(h){var m=n.selected;if(!(!h||!h.get("selectable")||h.parents().some(function(C){return m.hasComponent(C)}))){e.forceChange&&n.removeSelected(h,e);var y=m.allComponents().filter(function(C){return(0,i.contains)(C.parents(),h)});y.forEach(function(C){return n.removeSelected(C,e)}),m.addComponent(h,e),n.trigger("component:select",h,e),n.Canvas.addSpot({type:ln.q.Select,component:h})}})},r.prototype.removeSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,s.getModel)(t,S.default);this.selected.removeComponent(o,e);var c=(0,i.isArray)(o)?o:[o];c.forEach(function(h){return n.Canvas.removeSpots({type:ln.q.Select,component:h})})},r.prototype.toggleSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,s.getModel)(t,S.default),c=(0,i.isArray)(o)?o:[o];c.forEach(function(h){n.selected.hasComponent(h)?n.removeSelected(h,e):n.addSelected(h,e)})},r.prototype.setHovered=function(t,e){var n=this;e===void 0&&(e={});var o=function(y,C){var P=n,N=P.config,B=P.Canvas,G=n.getHovered(),ut=n.getSelectedAll(),ft=ln.q.Hover,Ct=ln.q.Spacing;n.set("componentHovered",y||null,C),G&&(B.removeSpots({type:ft,component:G}),B.removeSpots({type:Ct,component:G})),y&&(B.addSpot({type:ft,component:y}),(!ut.includes(y)||N.showOffsetsSelected)&&B.addSpot({type:Ct,component:y}))};if(!t)return o();var c="component:hover",h=(0,s.getModel)(t,void 0);if(h){if(e.forceChange&&o(),this.trigger("".concat(c,":before"),h,e),!h.get("hoverable"))if(e.useValid&&!e.abort){for(var m=h.parent();m&&!m.get("hoverable");)m=m.parent();h=m}else return;e.abort||(o(h,e),this.trigger(c,h,e))}},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},r.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var n=t.getComponents();return e.getCode(n,"json")}},r.prototype.setStyle=function(t,e){e===void 0&&(e={});var n=this.Css;return n.clear(e),n.getAll().add(t,e),this},r.prototype.addStyle=function(t,e){e===void 0&&(e={});var n=this.getStyle().add(t,e);return(0,i.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(t){return this.set("state",t),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,n=e.optsHtml,o=e.jsInHtml?this.getJs(t):"",c=t.component||this.Components.getComponent(),h=c?this.CodeManager.getCode(c,"html",Jr(Jr({},n),t)):"";return h+=o?"<script>".concat(o,"<\/script>"):"",h},r.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,n=e.optsCss,o=t.avoidProtected,c=(0,i.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,h=this.Css,m=t.component||this.Components.getComponent(),y=o?"":e.protectedCss,C=m&&this.CodeManager.getCode(m,"css",Jr(Jr({cssc:h,keepUnusedStyles:c},n),t));return m?t.json?C:y+C:""},r.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},r.prototype.store=function(t){return vm(this,void 0,void 0,function(){var e;return gm(this,function(n){switch(n.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return n.sent(),this.clearDirtyCount(),[2,e]}})})},r.prototype.load=function(t,e){return e===void 0&&(e={}),vm(this,void 0,void 0,function(){var n;return gm(this,function(o){switch(o.label){case 0:return[4,this.Storage.load(t)];case 1:return n=o.sent(),this.loadData(n),[4,(0,s.wait)()];case 2:return o.sent(),e.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,n]}})})},r.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){t=Jr(Jr({},t),n.store(1))}),JSON.parse(JSON.stringify(t))},r.prototype.loadData=function(t){return t===void 0&&(t={}),(0,s.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},r.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},r.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},r.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands"),n=e.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,t),this.defaultRunning=!1)},r.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.set("canvasOffset",null),this.set("canvasOffset",this.Canvas.getOffset()),t.tools&&this.trigger("canvas:updateTools")},r.prototype.clearSelection=function(t){var e,n=t||window;(e=n.getSelection())===null||e===void 0||e.removeAllRanges()},r.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,o=t.devicePreviewMode,c=e&&e.get("widthMedia");return e&&c&&!o?"(".concat(n,": ").concat(c,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},r.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},r.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.get("I18n");return n==null?void 0:n.t.apply(n,t)},r.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},r.prototype.destroyAll=function(){var t=this,e=this,n=e.config,o=e.view,c=this.getEditor(),h=(n.grapesjs||{}).editors,m=h===void 0?[]:h,y=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),y==null||y.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(C){return C.destroy()}),o&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(C){return t[C]={}}),m.splice(m.indexOf(c),1),(0,s.hasWin)()&&(0,S.default)(n.el).empty().attr(this.attrsOrig)},r.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},r.prototype.setEditing=function(t){return this.set("editing",t),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(t,e){e===void 0&&(e={});var n=e.ns,o=e.level,c=o===void 0?"debug":o;if(this.trigger("log",t,e),c&&this.trigger("log:".concat(c),t,e),n){var h="log-".concat(n);this.trigger(h,t,e),c&&this.trigger("".concat(h,":").concat(c),t,e)}},r.prototype.logInfo=function(t,e){this.log(t,Jr(Jr({},e),{level:"info"}))},r.prototype.logWarning=function(t,e){this.log(t,Jr(Jr({},e),{level:"warning"}))},r.prototype.logError=function(t,e){this.log(t,Jr(Jr({},e),{level:"error"}))},r.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var n=this.config,o=n.colorPicker,c=o===void 0?{}:o,h=n.el,m=n.stylePrefix;return(0,S.default)(t).spectrum(Jr(Jr({containerClassName:"".concat(m,"one-bg ").concat(m,"two-color"),appendTo:h||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},e),c))},r.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},r.prototype.data=function(t,e,n){var o="_gjs-data";if(t[o]||(t[o]={}),(0,i.isUndefined)(n))return t[o][e];t[o][e]=n},r}(O.Hn);const zE=BE;var UE=function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WE=function(l){UE(r,l);function r(t){var e=l.call(this,{model:t})||this,n=t.attributes,o=n.Panels,c=n.UndoManager;return t.view=e,t.once("change:ready",function(){o.active(),o.disableButtons(),c.clear(),setTimeout(function(){t.trigger("load",t.get("Editor")),t.clearDirtyCount()})}),e}return r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.model,c=o.attributes,h=c.Panels,m=c.Canvas,y=o.config,C=o.modules,P=y.stylePrefix,N=["".concat(P,"editor")];!y.customUI&&N.push("".concat(P,"one-bg ").concat(P,"two-color"));var B=(0,S.default)(y.el||"body ".concat(y.container));y.cssIcons&&(0,s.appendStyles)(y.cssIcons,{unique:!0,prepand:!0}),n.empty(),y.width&&B.css("width",y.width),y.height&&B.css("height",y.height),n.append(m.render()),n.append(h.render());var G=o.get("shallow"),ut=G.get("Canvas").render();return ut.style.display="none",n.append(ut),n.attr("class",N.join(" ")),B.addClass("".concat(P,"editor-cont")).empty().append(n),C.forEach(function(ft){return ft.postRender&&ft.postRender(t)}),this},r}(O.G7);const $E=WE;var Gf=function(){return Gf=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},Gf.apply(this,arguments)},Uw=function(l,r,t,e){function n(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(C){try{y(e.next(C))}catch(P){c(P)}}function m(C){try{y(e.throw(C))}catch(P){c(P)}}function y(C){C.done?o(C.value):n(C.value).then(h,m)}y((e=e.apply(l,r||[])).next())})},Ww=function(l,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(y){return function(C){return m([y,C])}}function m(y){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(t=0)),t;)try{if(e=1,n&&(o=y[0]&2?n.return:y[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,y[1])).done)return o;switch(n=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,n=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=r.call(l,t)}catch(C){y=[6,C],n=0}finally{e=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},KE=function(l,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return l.concat(o||Array.prototype.slice.call(r))},GE=function(){function l(r,t){r===void 0&&(r={}),t===void 0&&(t={});var e;this.html=f,this.config=Gf(Gf(Gf({},w),r),{pStylePrefix:(e=r.stylePrefix)!==null&&e!==void 0?e:w.stylePrefix}),this.em=new zE(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(l.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),l.prototype.getConfig=function(r){return this.em.getConfig(r)},l.prototype.getHtml=function(r){return this.em.getHtml(r)},l.prototype.getCss=function(r){return this.em.getCss(r)},l.prototype.getJs=function(r){return this.em.getJs(r)},l.prototype.getComponents=function(){return this.Components.getComponents()},l.prototype.getWrapper=function(){return this.Components.getWrapper()},l.prototype.setComponents=function(r,t){return t===void 0&&(t={}),this.em.setComponents(r,t),this},l.prototype.addComponents=function(r,t){return this.getWrapper().append(r,t)},l.prototype.getStyle=function(){return this.em.Css.getAll()},l.prototype.setStyle=function(r,t){return t===void 0&&(t={}),this.em.setStyle(r,t),this},l.prototype.addStyle=function(r,t){return t===void 0&&(t={}),this.em.addStyle(r,t)},l.prototype.getSelected=function(){return this.em.getSelected()},l.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},l.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},l.prototype.select=function(r,t){return this.em.setSelected(r,t),this},l.prototype.selectAdd=function(r){return this.em.addSelected(r),this},l.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},l.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},l.prototype.getEditing=function(){return this.em.getEditing()},l.prototype.setDevice=function(r){return this.em.set("device",r),this},l.prototype.getDevice=function(){return this.em.get("device")},l.prototype.runCommand=function(r,t){return t===void 0&&(t={}),this.Commands.run(r,t)},l.prototype.stopCommand=function(r,t){return t===void 0&&(t={}),this.Commands.stop(r,t)},l.prototype.store=function(r){return Uw(this,void 0,void 0,function(){return Ww(this,function(t){switch(t.label){case 0:return[4,this.em.store(r)];case 1:return[2,t.sent()]}})})},l.prototype.load=function(r,t){return t===void 0&&(t={}),Uw(this,void 0,void 0,function(){return Ww(this,function(e){switch(e.label){case 0:return[4,this.em.load(r,t)];case 1:return[2,e.sent()]}})})},l.prototype.getProjectData=function(){return this.em.storeData()},l.prototype.loadProjectData=function(r){return this.em.loadData(r)},l.prototype.storeData=function(){return this.em.storeData()},l.prototype.loadData=function(r){return this.em.loadData(r)},l.prototype.getContainer=function(){return this.config.el},l.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},l.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},l.prototype.refresh=function(r){this.em.refreshCanvas(r)},l.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},l.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},l.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},l.prototype.log=function(r,t){return t===void 0&&(t={}),this.em.log(r,t),this},l.prototype.t=function(){for(var r,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(r=this.em).t.apply(r,t)},l.prototype.on=function(r,t){return this.em.on(r,t),this},l.prototype.once=function(r,t){return this.em.once(r,t),this},l.prototype.off=function(r,t){return this.em.off(r,t),this},l.prototype.trigger=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,KE([r],t,!0)),this},l.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},l.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},l.prototype.getModel=function(){return this.em},l.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new $E(this.em),this.editorView.render().el},l.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},l}();const YE=GE;var qE=function(l,r){var t=r.get(l);if(!t){var e=(0,s.getGlobal)()[l];t=(e==null?void 0:e.default)||e}return t},$w=function(l,r){return(0,i.isString)(l)?qE(l,r):(l==null?void 0:l.default)||l},Kw=function(l,r){l.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},XE=function(){function l(){this.plugins={}}return l.prototype.add=function(r,t){var e=this.get(r);return e||(this.plugins[r]=t,t)},l.prototype.get=function(r){return this.plugins[r]},l.prototype.getAll=function(){return this.plugins},l}();const ZE=XE,JE=function(){var l=function(){for(var t,e=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<n.length;o++){var c=n[o];if(t=c[1].exec(e),t)break}return!!t};if((0,s.hasWin)()&&l()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),r.apply(document.implementation,[t])}}};var wh=function(){return wh=Object.assign||function(l){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n])}return l},wh.apply(this,arguments)};JE();var mm=new ZE,Gw=[],Yw=function(l,r){var t=$w(l,mm);return function(e){t?t(e,r||{}):Kw(e,l)}},qw={$:S.default,editors:Gw,plugins:mm,usePlugin:Yw,version:"0.21.7",init:function(l){l===void 0&&(l={});var r=l.headless,t=l.container;if(!t&&!r)throw new Error("'container' is required");var e=wh(wh({autorender:!0,plugins:[],pluginsOpts:{}},l),{grapesjs:this,el:r?void 0:(0,i.isElement)(t)?t:document.querySelector(t)}),n=new YE(e,{$:S.default}),o=n.getModel();return e.plugins.forEach(function(c){var h=$w(c,mm),m=e.pluginsOpts[c]||{};h?h(n,m):Kw(n,c)}),o.loadOnStart(),e.autorender&&!r&&n.render(),Gw.push(n),n}};const QE=qw})();var iA=NC.ZP,IC={exports:{}};/*! grapesjs-preset-webpage - 1.0.3 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(z,ot)=>{for(var dt in ot)f.o(ot,dt)&&!f.o(z,dt)&&Object.defineProperty(z,dt,{enumerable:!0,get:ot[dt]})},o:(z,ot)=>Object.prototype.hasOwnProperty.call(z,ot),r:z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>R});var w=function(){return w=Object.assign||function(z){for(var ot,dt=1,tt=arguments.length;dt<tt;dt++)for(var U in ot=arguments[dt])Object.prototype.hasOwnProperty.call(ot,U)&&(z[U]=ot[U]);return z},w.apply(this,arguments)},_="gjs-open-import-webpage",x="set-device-desktop",S="set-device-tablet",T="set-device-mobile",O="canvas-clear",A=function(){return A=Object.assign||function(z){for(var ot,dt=1,tt=arguments.length;dt<tt;dt++)for(var U in ot=arguments[dt])Object.prototype.hasOwnProperty.call(ot,U)&&(z[U]=ot[U]);return z},A.apply(this,arguments)};const k=function(z,ot){var dt=z.Commands,tt=ot.textCleanCanvas;(function(U,K){var X=U.getConfig("stylePrefix"),mt=K.modalImportLabel,bt=K.modalImportContent;U.Commands.add(_,{codeViewer:null,container:null,run:function(St){var Ot=typeof bt=="function"?bt(St):bt,$=this.getCodeViewer();St.Modal.open({title:K.modalImportTitle,content:this.getContainer()}).onceClose(function(){return St.stopCommand(_)}),$.setContent(Ot??""),$.refresh(),setTimeout(function(){return $.focus()},0)},stop:function(){U.Modal.close()},getContainer:function(){if(!this.container){var St=this.getCodeViewer(),Ot=document.createElement("div");if(Ot.className="".concat(X,"import-container"),mt){var $=document.createElement("div");$.className="".concat(X,"import-label"),$.innerHTML=mt,Ot.appendChild($)}Ot.appendChild(St.getElement());var Y=document.createElement("button");Y.type="button",Y.innerHTML=K.modalImportButton,Y.className="".concat(X,"btn-prim ").concat(X,"btn-import"),Y.onclick=function(){U.Css.clear(),U.setComponents(St.getContent().trim()),U.Modal.close()},Ot.appendChild(Y),this.container=Ot}return this.container},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=U.CodeManager.createViewer(A({codeName:"htmlmixed",theme:"hopscotch",readOnly:!1},K.importViewerOptions))),this.codeViewer}})})(z,ot),dt.add(x,{run:function(U){return U.setDevice("Desktop")},stop:function(){}}),dt.add(S,{run:function(U){return U.setDevice("Tablet")},stop:function(){}}),dt.add(T,{run:function(U){return U.setDevice("Mobile portrait")},stop:function(){}}),dt.add(O,function(U){return confirm(tt)&&U.runCommand("core:canvas-clear")})};var L=function(){return L=Object.assign||function(z){for(var ot,dt=1,tt=arguments.length;dt<tt;dt++)for(var U in ot=arguments[dt])Object.prototype.hasOwnProperty.call(ot,U)&&(z[U]=ot[U]);return z},L.apply(this,arguments)};const R=function(z,ot){ot===void 0&&(ot={});var dt=L({blocks:["link-block","quote","text-basic"],block:function(){return{}},modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure you want to clear the canvas?",showStylesOnChange:!0,useCustomTheme:!0},ot);if(dt.useCustomTheme&&typeof window<"u"){var tt="gjs-",U="";[["one","#463a3c"],["two","#b9a5a6"],["three","#804f7b"],["four","#d97aa6"]].forEach(function(X){var mt=X[0],bt=X[1];U+=`
        .`.concat(tt).concat(mt,`-bg {
          background-color: `).concat(bt,`;
        }

        .`).concat(tt).concat(mt,`-color {
          color: `).concat(bt,`;
        }

        .`).concat(tt).concat(mt,`-color-h:hover {
          color: `).concat(bt,`;
        }
      `)});var K=document.createElement("style");K.innerText=U,document.head.appendChild(K)}(function(X,mt){var bt=function(St,Ot){mt.blocks.indexOf(St)>=0&&X.Blocks.add(St,w(w({select:!0,category:"Basic"},Ot),mt.block(St)))};bt("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),bt("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:`<blockquote class="quote">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit
      </blockquote>`}),bt("text-basic",{label:"Text section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
    </svg>`,content:`<section class="bdg-sect">
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>
      </section>`})})(z,dt),k(z,dt),function(X,mt){var bt=X.Panels,St=X.getConfig(),Ot="sw-visibility",$="export-template",Y="open-sm",q="open-tm",Z="open-layers",ht="open-blocks",J="fullscreen",xt="preview",D='style="display: block; max-width:22px"';St.showDevices=!1,bt.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:x,command:x,active:!0,label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:S,command:S,label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:T,command:T,label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:Ot,command:Ot,context:Ot,label:"<svg ".concat(D,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:xt,context:xt,command:function(){return X.runCommand(xt)},label:"<svg ".concat(D,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:J,command:J,context:J,label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:$,command:function(){return X.runCommand($)},label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:"undo",command:function(){return X.runCommand("core:undo")},label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:function(){return X.runCommand("core:redo")},label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:_,command:function(){return X.runCommand(_)},label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:O,command:function(){return X.runCommand(O)},label:"<svg ".concat(D,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:Y,command:Y,active:!0,label:"<svg ".concat(D,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:q,command:q,label:"<svg ".concat(D,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:Z,command:Z,label:"<svg ".concat(D,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:ht,command:ht,label:"<svg ".concat(D,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]);var yt=bt.getButton("views",ht);X.on("load",function(){return yt==null?void 0:yt.set("active",!0)}),mt.showStylesOnChange&&X.on("component:selected",function(){var rt=bt.getButton("views",Y),et=bt.getButton("views",Z);et&&et.get("active")||!X.getSelected()||rt==null||rt.set("active",!0)})}(z,dt)};return g})())})(IC);var aA=IC.exports;const sA=vi(aA);var VC={exports:{}};/*! grapesjs-navbar - 1.0.2 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(T,O)=>{for(var A in O)f.o(O,A)&&!f.o(T,A)&&Object.defineProperty(T,A,{enumerable:!0,get:O[A]})},o:(T,O)=>Object.prototype.hasOwnProperty.call(T,O),r:T=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>S});var w=function(){return w=Object.assign||function(T){for(var O,A=1,k=arguments.length;A<k;A++)for(var L in O=arguments[A])Object.prototype.hasOwnProperty.call(O,L)&&(T[L]=O[L]);return T},w.apply(this,arguments)};const _=function(T,O){var A=T.Components,k=O.id,L=O.label,R=O.classPrefix,z="".concat(k,"-container"),ot="".concat(k,"-nav-menu"),dt="".concat(k,"-nav-menu-link"),tt="".concat(k,"-burger-menu"),U="".concat(k,"-burger-menu-line");A.addType(k,{model:{defaults:{droppable:!1,name:L,attributes:{class:R},components:{type:z},styles:(O.style||`
          .`.concat(R,` {
            background-color: #222;
            color: #ddd;
            min-height: 50px;
            width: 100%;
          }

          .`).concat(R,`-container {
            max-width: 950px;
            margin: 0 auto;
            width: 95%;
          }

          .`).concat(R,`-items-c {
            display: inline-block;
            float: right;
          }

          .`).concat(R,`-container::after {
            content: "";
            clear: both;
            display: block;
          }

          .`).concat(R,`-brand {
            vertical-align: top;
            display: inline-block;
            padding: 5px;
            min-height: 50px;
            min-width: 50px;
            color: inherit;
            text-decoration: none;
          }

          .`).concat(R,`-menu {
            padding: 10px 0;
            display: block;
            float: right;
            margin: 0;
          }

          .`).concat(R,`-menu-link {
            margin: 0;
            color: inherit;
            text-decoration: none;
            display: inline-block;
            padding: 10px 15px;
          }

          .`).concat(R,`-burger {
            margin: 10px 0;
            width: 45px;
            padding: 5px 10px;
            display: none;
            float: right;
            cursor: pointer;
          }

          .`).concat(R,`-burger-line {
            padding: 1px;
            background-color: white;
            margin: 5px 0;
          }

          @media (max-width: 768px) {
            .`).concat(R,`-items-c {
              display: none;
              width: 100%;
            }

            .`).concat(R,`-burger {
              display: block;
            }

            .`).concat(R,`-menu {
              width: 100%;
            }

            .`).concat(R,`-menu-link {
              display: block;
            }
          }
        `))+O.styleAdditional}}}),A.addType(z,{model:{defaults:{attributes:{class:"".concat(R,"-container"),"data-gjs":"navbar"},name:"Navbar Container",droppable:!1,draggable:!1,removable:!1,copyable:!1,highlightable:!1,components:[{type:"link",attributes:{class:"".concat(R,"-brand"),href:"/"}},{type:tt},{attributes:{class:"".concat(R,"-items-c"),"data-gjs":"navbar-items"},components:{type:ot}}]}}}),A.addType(ot,{model:{defaults:{name:"Navbar Menu",tagName:"nav",attributes:{class:"".concat(R,"-menu")},components:[{type:dt,components:"Home"},{type:dt,components:"About"},{type:dt,components:"Contact"}]}}}),A.addType(dt,{extend:"link",model:{defaults:{name:"Menu link",draggable:'[data-gjs-type="'.concat(ot,'"]'),attributes:{class:"".concat(R,"-menu-link")}}}}),A.addType(tt,{model:{defaults:{name:"Burger",draggable:!1,droppable:!1,copyable:!1,removable:!1,script:function(){var K,X=this,mt="gjs-collapse",bt="max-height",St=0,Ot=function(){var Y=document.createElement("void"),q={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var Z in q)if(Y.style[Z]!==void 0)return q[Z]}(),$=function(Y){St=1;var q=function(ht){var J=window.getComputedStyle(ht),xt=J.display,D=parseInt(J[bt]);if(xt!=="none"&&D!==0)return ht.offsetHeight;ht.style.height="auto",ht.style.display="block",ht.style.position="absolute",ht.style.visibility="hidden";var yt=ht.offsetHeight;return ht.style.height="",ht.style.display="",ht.style.position="",ht.style.visibility="",yt}(Y),Z=Y.style;Z.display="block",Z.transition="".concat(bt," 0.25s ease-in-out"),Z.overflowY="hidden",Z[bt]==""&&(Z[bt]=0),parseInt(Z[bt])==0?(Z[bt]="0",setTimeout(function(){Z[bt]=q+"px"},10)):Z[bt]="0"};mt in X||X.addEventListener("click",function(Y){if(Y.preventDefault(),!St){var q=X.closest("[data-gjs=navbar]"),Z=q==null?void 0:q.querySelector("[data-gjs=navbar-items]");Z&&$(Z),K||(Z==null||Z.addEventListener(Ot,function(){St=0;var ht=Z.style;parseInt(ht[bt])==0&&(ht.display="",ht[bt]="")}),K=1)}}),X[mt]=1},attributes:{class:"".concat(R,"-burger")},components:[{type:U},{type:U},{type:U}]}}}),A.addType(U,{model:{defaults:{name:"Burger Line",droppable:!1,draggable:!1,highlightable:!1,attributes:{class:"".concat(R,"-burger-line")}}}})};var x=function(){return x=Object.assign||function(T){for(var O,A=1,k=arguments.length;A<k;A++)for(var L in O=arguments[A])Object.prototype.hasOwnProperty.call(O,L)&&(T[L]=O[L]);return T},x.apply(this,arguments)};const S=function(T,O){O===void 0&&(O={});var A=x({id:"navbar",label:"Navbar",block:{},style:"",styleAdditional:"",classPrefix:"navbar"},O);(function(k,L){var R=L.block,z=L.label,ot=L.id;R&&k.Blocks.add(ot,w({media:`<svg viewBox="0 0 24 24">
        <path d="M22 9c0-.6-.5-1-1.25-1H3.25C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.25 1h17.5c.75 0 1.25-.4 1.25-1V9Zm-1 6H3V9h18v6Z"/><path d="M15 10h5v1h-5zM15 13h5v1h-5zM15 11.5h5v1h-5z"/>
      </svg>`,label:z,category:"Extra",select:!0,content:{type:ot}},R))})(T,A),_(T,A)};return g})())})(VC);var lA=VC.exports;const uA=vi(lA);var RC={exports:{}};/*! grapesjs-tabs - 1.0.6 */(function(i,s){(function(f,g){i.exports=g()})(window,function(){return function(f){var g={};function w(_){if(g[_])return g[_].exports;var x=g[_]={i:_,l:!1,exports:{}};return f[_].call(x.exports,x,x.exports,w),x.l=!0,x.exports}return w.m=f,w.c=g,w.d=function(_,x,S){w.o(_,x)||Object.defineProperty(_,x,{enumerable:!0,get:S})},w.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},w.t=function(_,x){if(1&x&&(_=w(_)),8&x||4&x&&typeof _=="object"&&_&&_.__esModule)return _;var S=Object.create(null);if(w.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:_}),2&x&&typeof _!="string")for(var T in _)w.d(S,T,(function(O){return _[O]}).bind(null,T));return S},w.n=function(_){var x=_&&_.__esModule?function(){return _.default}:function(){return _};return w.d(x,"a",x),x},w.o=function(_,x){return Object.prototype.hasOwnProperty.call(_,x)},w.p="",w(w.s=3)}([function(f,g){f.exports=function(w,_,x){return _ in w?Object.defineProperty(w,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[_]=x,w}},function(f,g,w){var _=w(2);f.exports=function(x,S){if(x==null)return{};var T,O,A=_(x,S);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(x);for(O=0;O<k.length;O++)T=k[O],S.indexOf(T)>=0||Object.prototype.propertyIsEnumerable.call(x,T)&&(A[T]=x[T])}return A}},function(f,g){f.exports=function(w,_){if(w==null)return{};var x,S,T={},O=Object.keys(w);for(S=0;S<O.length;S++)x=O[S],_.indexOf(x)>=0||(T[x]=w[x]);return T}},function(f,g,w){w.r(g);var _=w(0),x=w.n(_),S=w(1),T=w.n(S);function O(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function A(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?O(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):O(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}var k=function(D,yt){var rt=yt.defaultModel,et=yt.typeTabs,Mt=yt.selectorTab,zt=(yt.editor,T()(yt,["defaultModel","typeTabs","selectorTab","editor"])),Zt=[{full:1,type:"button",label:!1,text:"Style Active",command:function(Et){var Ht=Et.Panels.getButton("views","open-sm");Ht&&Ht.set("active",1);var Wt=".".concat(zt.classTab,".").concat(zt.classTabActive);Et.StyleManager.setTarget(Wt,{targetIsClass:1})}}];D.addType(zt.typeTab,{model:{defaults:A({name:"Tab",draggable:'[data-gjs-type="'.concat(zt.typeTabContainer,'"]'),attributes:{role:"tab"},components:zt.templateTab,classes:zt.classTab,traits:Zt},zt.tabProps),init:function(){this.on("removed",this.__onRemove)},__initTab:function(){if(!this.tabContent){var Et=this.getTabContent();if(!Et){var Ht,Wt=(Et=this.getTabsType().getContentsType().append({type:zt.typeTabContent,components:zt.templateTabContent(this)})[0]).getId(),$t=this.getId();Et.addAttributes({id:Wt,"aria-labelledby":$t,hidden:!0}),this.addAttributes((Ht={},x()(Ht,Mt,Wt),x()(Ht,"id",$t),Ht)),this.tabContent=Et}this.tabContent=Et}},__onRemove:function(){var Et=this.getTabContent();Et&&Et.remove(),this.getTabsType().trigger("rerender")},getTabsType:function(){return this.closestType(et)},getTabContent:function(){var Et=this.getAttributes()[Mt],Ht=this.getTabsType();if(Ht&&Et)return Ht.findContents().filter(function(Wt){return Wt.getId()==Et})[0]},clone:function(){var Et=rt.prototype.clone.apply(this,arguments);return Et.addAttributes(x()({},Mt,"")),Et}}})};function L(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function R(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?L(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):L(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}var z=function(D,yt){var rt=yt.typeTab,et=yt.typeTabContent,Mt=yt.typeTabContents,zt=yt.typeTabContainer,Zt=yt.style,Et=T()(yt,["typeTab","typeTabContent","typeTabContents","typeTabContainer","style"]),Ht=Et.typeTabs,Wt=[1,2,3].map(function($t){return{type:rt}});D.addType(Ht,{model:{defaults:R({name:"Tabs",classactive:Et.classTabActive,selectortab:Et.selectorTab,"script-props":["classactive","selectortab"],script:function($t){var Kt,qt,ge=this,be=$t.classactive,se=$t.selectortab,ve=window,Ue=ve.history,mn=ve._isEditor,an="[role=tab]",en=document,ie=en.body,F=en.location,nt=ie.matchesSelector||ie.webkitMatchesSelector||ie.mozMatchesSelector||ie.msMatchesSelector,vt=function(Ae,Te){for(var Fe=Ae||[],qe=0;qe<Fe.length;qe++)Te(Fe[qe],qe)},Lt=function(Ae){return Ae.getAttribute(se)},Ft=function(Ae,Te){return Ae.querySelector(Te)},ct=function(){return ge.querySelectorAll(an)},Vt=function(Ae,Te){return!mn&&(Ae.tabIndex=Te)},Pt=function(Ae){vt(ct(),function(qe){qe.className=qe.className.replace(be,"").trim(),qe.ariaSelected="false",Vt(qe,"-1")}),vt(ge.querySelectorAll("[role=tabpanel]"),function(qe){return qe.hidden=!0}),Ae.className+=" "+be,Ae.ariaSelected="true",Vt(Ae,"0");var Te=Lt(Ae),Fe=Te&&Ft(ge,"#".concat(Te));Fe&&(Fe.hidden=!1)},Ce=Ft(ge,".".concat(be).concat(an));(Ce=Ce||(qt=(F.hash||"").replace("#",""))&&Ft(ge,(Kt=se,"".concat(an,"[").concat(Kt,"=").concat(qt,"]")))||Ft(ge,an))&&Pt(Ce),ge.addEventListener("click",function(Ae){var Te=Ae.target,Fe=nt.call(Te,an);if(Fe||(Te=function(we){var Vn;return vt(ct(),function(nn){Vn||nn.contains(we)&&(Vn=nn)}),Vn}(Te))&&(Fe=1),Fe&&!Ae.__trg&&Te.className.indexOf(be)<0){Ae.preventDefault(),Ae.__trg=1,Pt(Te);var qe=Lt(Te);try{Ue&&Ue.pushState(null,null,"#".concat(qe))}catch{}}})},traits:[{full:1,type:"button",label:!1,text:"Add Tab",command:function($t){var Kt=$t.getSelected();Kt&&Kt.addTab()}}],components:[{type:zt,components:Wt},{type:Mt},Zt&&"<style>".concat(Zt(Et),"</style>")]},Et.tabsProps),init:function(){this.findTabs().map(this.__onTab),this.listenTo(this.getTabContainerType().components(),"add",this.__onTab)},__onTab:function($t,Kt){var qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!qt.avoidStore&&!qt.temporary&&$t.__initTab&&$t.__initTab()},getTabContainerType:function(){return this.findType(zt)[0]},getContentsType:function(){return this.findType(Mt)[0]||this},findTabs:function(){return this.findType(rt)},findContents:function(){return this.findType(et)},addTab:function($t){this.getTabContainerType().append({type:rt,components:$t})}}})};function ot(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function dt(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?ot(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):ot(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}var tt=function(D,yt){D.addType(yt.typeTabContent,{model:{defaults:dt({name:"Tab Content",draggable:!1,copyable:!1,removable:!1,highlightable:!1,attributes:{role:"tabpanel"},classes:yt.classTabContent,traits:[]},yt.tabContentProps)}})};function U(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function K(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?U(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):U(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}var X=function(D,yt){D.addType(yt.typeTabContents,{model:{defaults:K({name:"Tab Contents",draggable:!1,droppable:!1,copyable:!1,removable:!1,classes:yt.classTabContents},yt.tabContentsProps)}})};function mt(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function bt(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?mt(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):mt(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}var St=function(D,yt){D.addType(yt.typeTabContainer,{model:{defaults:bt({name:"Tab Container",draggable:'[data-gjs-type="'.concat(yt.typeTabs,'"]'),droppable:'[data-gjs-type="'.concat(yt.typeTab,'"]'),copyable:!1,removable:!1,highlightable:!1,attributes:{role:"tablist"},classes:yt.classTabContainer},yt.tabContainerProps)}})};function Ot(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function $(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?Ot(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):Ot(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}var Y=function(D){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=D.DomComponents,et=$($({},yt),{},{defaultModel:rt.getType("default").model,editor:D});[k,z,tt,X,St].map(function(Mt){return Mt(rt,et)})};function q(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}var Z=function(D,yt){var rt=yt.tabsBlock,et=yt.typeTabs,Mt=D.BlockManager;rt&&Mt.add(et,function(zt){for(var Zt=1;Zt<arguments.length;Zt++){var Et=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?q(Object(Et),!0).forEach(function(Ht){x()(zt,Ht,Et[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(Et)):q(Object(Et)).forEach(function(Ht){Object.defineProperty(zt,Ht,Object.getOwnPropertyDescriptor(Et,Ht))})}return zt}({media:`
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
      </svg>
    `,label:"Tabs",content:{type:et}},rt))},ht={tabsBlock:{},tabsProps:{},tabContainerProps:{},tabProps:{},tabContentProps:{},tabContentsProps:{},classTab:"tab",classTabContainer:"tab-container",classTabActive:"tab-active",classTabContent:"tab-content",classTabContents:"tab-contents",selectorTab:"aria-controls",typeTabs:"tabs",typeTabContainer:"tab-container",typeTab:"tab",typeTabContent:"tab-content",typeTabContents:"tab-contents",templateTab:function(D){return'<span data-gjs-highlightable="false">Tab</span>'},templateTabContent:function(D){return"<div>Tab Content</div>"},style:function(D){return`
        .`.concat(D.classTab,` {
            padding: 7px 14px;
            display: inline-block;
            border-radius: 3px;
            margin-right: 10px;
        }

        .`).concat(D.classTab,`:focus {
            outline: none;
        }

        .`).concat(D.classTab,".").concat(D.classTabActive,` {
            background-color: #0d94e6;
            color: white;
        }

        .`).concat(D.classTabContainer,` {
            display: inline-block;
        }

        .`).concat(D.classTabContent,` {
            animation: fadeEffect 1s;
        }

        .`).concat(D.classTabContents,` {
            min-height: 100px;
            padding: 10px;
        }

        @keyframes fadeEffect {
            from {opacity: 0;}
            to {opacity: 1;}
        }
    `)}};function J(D,yt){var rt=Object.keys(D);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(D);yt&&(et=et.filter(function(Mt){return Object.getOwnPropertyDescriptor(D,Mt).enumerable})),rt.push.apply(rt,et)}return rt}function xt(D){for(var yt=1;yt<arguments.length;yt++){var rt=arguments[yt]!=null?arguments[yt]:{};yt%2?J(Object(rt),!0).forEach(function(et){x()(D,et,rt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(rt)):J(Object(rt)).forEach(function(et){Object.defineProperty(D,et,Object.getOwnPropertyDescriptor(rt,et))})}return D}g.default=function(D){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=xt(xt({},ht),yt);Y(D,rt),Z(D,rt)}}])})})(RC);var cA=RC.exports;const fA=vi(cA);var FC={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(dt,tt)=>{for(var U in tt)f.o(tt,U)&&!f.o(dt,U)&&Object.defineProperty(dt,U,{enumerable:!0,get:tt[U]})},o:(dt,tt)=>Object.prototype.hasOwnProperty.call(dt,tt),r:dt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(dt,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>ot});var w="form",_="input",x="textarea",S="select",T="checkbox",O="radio",A="button",k="label",L="option",R=function(){return R=Object.assign||function(dt){for(var tt,U=1,K=arguments.length;U<K;U++)for(var X in tt=arguments[U])Object.prototype.hasOwnProperty.call(tt,X)&&(dt[X]=tt[X]);return dt},R.apply(this,arguments)},z=function(){return z=Object.assign||function(dt){for(var tt,U=1,K=arguments.length;U<K;U++)for(var X in tt=arguments[U])Object.prototype.hasOwnProperty.call(tt,X)&&(dt[X]=tt[X]);return dt},z.apply(this,arguments)};const ot=function(dt,tt){tt===void 0&&(tt={});var U=z({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},tt);(function(K){var X=K.Components,mt={name:"name"},bt={name:"placeholder"},St={type:"checkbox",name:"required"},Ot=function(Y,q){return{type:L,content:q,attributes:{value:Y}}},$=function(Y){K.Commands.isActive("preview")||Y.preventDefault()};X.addType(w,{isComponent:function(Y){return Y.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(Y){return Y.preventDefault()}}}}),X.addType(_,{isComponent:function(Y){return Y.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[mt,bt,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},St]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),X.addType(x,{extend:_,isComponent:function(Y){return Y.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[mt,bt,St]}}}),X.addType(L,{isComponent:function(Y){return Y.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),X.addType(S,{isComponent:function(Y){return Y.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[Ot("opt1","Option 1"),Ot("opt2","Option 2")],traits:[mt,{name:"options",type:"select-options"},St]}},view:{events:{mousedown:$}}}),X.addType(T,{extend:_,isComponent:function(Y){return Y.tagName=="INPUT"&&Y.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},mt,{name:"value"},St,{type:"checkbox",name:"checked"}]}},view:{events:{click:$},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var Y;this.el.checked=!!(!((Y=this.model.get("attributes"))===null||Y===void 0)&&Y.checked)}}}),X.addType(O,{extend:T,isComponent:function(Y){return Y.tagName=="INPUT"&&Y.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),X.addType(A,{extend:_,isComponent:function(Y){return Y.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var Y=this.components(),q=Y.length===1&&Y.models[0],Z=q&&q.is("textnode")&&q.get("content")||"",ht=Z||this.get("text");this.set("text",ht),this.on("change:text",this.__onTextChange),ht!==Z&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:$}}}),X.addType(k,{extend:"text",isComponent:function(Y){return Y.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(dt),function(K){K.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var X,mt=this.model,bt=this.target,St=mt.get("value").trim().split(`
`),Ot=[],$=0;$<St.length;$++){var Y=St[$].split("::");Ot.push({type:L,components:Y[1]||Y[0],attributes:{value:Y[0]}})}bt.components().reset(Ot),(X=bt.view)===null||X===void 0||X.render()},getInputEl:function(){if(!this.$input){for(var X=[],mt=this.target.components(),bt=0;bt<mt.length;bt++){var St=mt.models[bt],Ot=St.get("attributes"),$=(Ot==null?void 0:Ot.value)||"",Y=St.components().models[0],q=Y&&Y.get("content")||"";X.push("".concat($,"::").concat(q))}var Z=document.createElement("textarea");Z.value=X.join(`
`),this.$input=Z}return this.$input}})}(dt),function(K,X){var mt=X,bt=K.BlockManager,St=function(Ot,$){var Y;((Y=mt.blocks)===null||Y===void 0?void 0:Y.indexOf(Ot))>=0&&bt.add(Ot,R(R(R({},$),{category:mt.category,select:!0}),X.block(Ot)))};St(w,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:w,components:[{components:[{type:k,components:"Name"},{type:_}]},{components:[{type:k,components:"Email"},{type:_,attributes:{type:"email"}}]},{components:[{type:k,components:"Gender"},{type:T,attributes:{value:"M"}},{type:k,components:"M"},{type:T,attributes:{value:"F"}},{type:k,components:"F"}]},{components:[{type:k,components:"Message"},{type:x}]},{components:[{type:A}]}]}}),St(_,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:_}}),St(x,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:x}}),St(S,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:S}}),St(A,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:A}}),St(k,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:k}}),St(T,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:T}}),St(O,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:O}})}(dt,U)};return g})())})(FC);var dA=FC.exports;const pA=vi(dA);var HC={exports:{}};/*! grapesjs-component-countdown - 1.0.2 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(x,S)=>{for(var T in S)f.o(S,T)&&!f.o(x,T)&&Object.defineProperty(x,T,{enumerable:!0,get:S[T]})},o:(x,S)=>Object.prototype.hasOwnProperty.call(x,S),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>_});var w=function(){return w=Object.assign||function(x){for(var S,T=1,O=arguments.length;T<O;T++)for(var A in S=arguments[T])Object.prototype.hasOwnProperty.call(S,A)&&(x[A]=S[A]);return x},w.apply(this,arguments)};const _=function(x,S){S===void 0&&(S={});var T=w({id:"countdown",label:"Countdown",block:{},props:{},style:"",styleAdditional:"",startTime:"",endText:"EXPIRED",dateInputType:"date",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds",classPrefix:"countdown"},S),O=T.block,A=T.props,k=T.style,L=T.id,R=T.label,z=T.classPrefix;O&&x.Blocks.add(L,w({media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M12 20C16.4 20 20 16.4 20 12S16.4 4 12 4 4 7.6 4 12 7.6 20 12 20M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M17 11.5V13H11V7H12.5V11.5H17Z" />
      </svg>`,label:R,category:"Extra",select:!0,content:{type:L}},O)),x.Components.addType(L,{model:{defaults:w({startfrom:T.startTime,classes:[z],endText:T.endText,droppable:!1,script:function(ot){var dt=ot.startfrom,tt=ot.endText,U=this,K=new Date(dt).getTime(),X=U.querySelector("[data-js=countdown]"),mt=U.querySelector("[data-js=countdown-endtext]"),bt=U.querySelector("[data-js=countdown-day]"),St=U.querySelector("[data-js=countdown-hour]"),Ot=U.querySelector("[data-js=countdown-minute]"),$=U.querySelector("[data-js=countdown-second]"),Y=U.__gjsCountdownInterval;Y&&clearInterval(Y);var q=window.__gjsCountdownIntervals||[],Z=[];q.forEach(function(xt){xt.isConnected||(clearInterval(xt.__gjsCountdownInterval),Z.push(xt))}),q.indexOf(U)<0&&q.push(U),window.__gjsCountdownIntervals=q.filter(function(xt){return Z.indexOf(xt)<0});var ht=function(xt,D,yt,rt){bt.innerHTML="".concat(xt<10?"0"+xt:xt),St.innerHTML="".concat(D<10?"0"+D:D),Ot.innerHTML="".concat(yt<10?"0"+yt:yt),$.innerHTML="".concat(rt<10?"0"+rt:rt)},J=function(){var xt=new Date().getTime(),D=K-xt,yt=Math.floor(D/864e5),rt=Math.floor(D%864e5/36e5),et=Math.floor(D%36e5/6e4),Mt=Math.floor(D%6e4/1e3);ht(yt,rt,et,Mt),D<0&&(clearInterval(U.__gjsCountdownInterval),mt.innerHTML=tt,X.style.display="none",mt.style.display="")};K?(U.__gjsCountdownInterval=setInterval(J,1e3),mt.style.display="none",X.style.display="",J()):ht(0,0,0,0)},"script-props":["startfrom","endText"],traits:[{label:"Start",name:"startfrom",changeProp:!0,type:T.dateInputType},{label:"End text",name:"endText",changeProp:!0}],components:`
          <span data-js="countdown" class="`.concat(z,`-cont">
            <div class="`).concat(z,`-block">
              <div data-js="countdown-day" class="`).concat(z,`-digit"></div>
              <div class="`).concat(z,'-label">').concat(T.labelDays,`</div>
            </div>
            <div class="`).concat(z,`-block">
              <div data-js="countdown-hour" class="`).concat(z,`-digit"></div>
              <div class="`).concat(z,'-label">').concat(T.labelHours,`</div>
            </div>
            <div class="`).concat(z,`-block">
              <div data-js="countdown-minute" class="`).concat(z,`-digit"></div>
              <div class="`).concat(z,'-label">').concat(T.labelMinutes,`</div>
            </div>
            <div class="`).concat(z,`-block">
              <div data-js="countdown-second" class="`).concat(z,`-digit"></div>
              <div class="`).concat(z,'-label">').concat(T.labelSeconds,`</div>
            </div>
          </span>
          <span data-js="countdown-endtext" class="`).concat(z,`-endtext"></span>
        `),styles:(k||`
          .`.concat(z,` {
            text-align: center;
          }

          .`).concat(z,`-block {
            display: inline-block;
            margin: 0 10px;
            padding: 10px;
          }

          .`).concat(z,`-digit {
            font-size: 5rem;
          }

          .`).concat(z,`-endtext {
            font-size: 5rem;
          }

          .`).concat(z,`-cont {
            display: inline-block;
          }
        `))+T.styleAdditional},A)}})};return g})())})(HC);var hA=HC.exports;const vA=vi(hA);var BC={exports:{}};/*! grapesjs-custom-code - 1.0.2 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(L,R)=>{for(var z in R)f.o(R,z)&&!f.o(L,z)&&Object.defineProperty(L,z,{enumerable:!0,get:R[z]})},o:(L,R)=>Object.prototype.hasOwnProperty.call(L,R),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>k});var w="custom-code-plugin__code",_="custom-code",x="custom-code:open-modal",S=function(){return S=Object.assign||function(L){for(var R,z=1,ot=arguments.length;z<ot;z++)for(var dt in R=arguments[z])Object.prototype.hasOwnProperty.call(R,dt)&&(L[dt]=R[dt]);return L},S.apply(this,arguments)},T=function(){return T=Object.assign||function(L){for(var R,z=1,ot=arguments.length;z<ot;z++)for(var dt in R=arguments[z])Object.prototype.hasOwnProperty.call(R,dt)&&(L[dt]=R[dt]);return L},T.apply(this,arguments)},O=function(){return O=Object.assign||function(L){for(var R,z=1,ot=arguments.length;z<ot;z++)for(var dt in R=arguments[z])Object.prototype.hasOwnProperty.call(R,dt)&&(L[dt]=R[dt]);return L},O.apply(this,arguments)},A=function(){return A=Object.assign||function(L){for(var R,z=1,ot=arguments.length;z<ot;z++)for(var dt in R=arguments[z])Object.prototype.hasOwnProperty.call(R,dt)&&(L[dt]=R[dt]);return L},A.apply(this,arguments)};const k=function(L,R){R===void 0&&(R={});var z=A({blockCustomCode:{},propsCustomCode:{},toolbarBtnCustomCode:{},placeholderScript:`<div style="pointer-events: none; padding: 10px;">
      <svg viewBox="0 0 24 24" style="height: 30px; vertical-align: middle;">
        <path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"></path>
        </svg>
      Custom code with <i>&lt;script&gt;</i> can't be rendered on the canvas
    </div>`,modalTitle:"Insert your code",codeViewOptions:{},buttonLabel:"Save",commandCustomCode:{}},R);(function(ot,dt){dt===void 0&&(dt={});var tt,U=ot.Components,K=dt.toolbarBtnCustomCode;U.addType("script",{view:{onRender:function(){var X=this.model,mt=this.el;X.closestType(_)&&(mt.innerHTML="")}}}),U.addType(_,{model:{defaults:O({name:"Custom Code",editable:!0,components:{tagName:"span",components:{type:"textnode",content:"Insert here your custom code"}}},dt.propsCustomCode),init:function(){this.on("change:".concat(w),this.onCustomCodeChange);var X=this.get(w);!this.components().length&&this.components(X);var mt=this.get("toolbar"),bt="custom-code";K&&!mt.filter(function(St){return St.id===bt}).length&&mt.unshift(O({id:bt,command:x,label:`<svg viewBox="0 0 24 24">
              <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
            </svg>`},K))},onCustomCodeChange:function(){this.components(this.get(w))}},view:{events:{dblclick:"onActive"},init:function(){this.listenTo(this.model.components(),"add remove reset",this.onComponentsChange),this.onComponentsChange()},onComponentsChange:function(){var X=this;tt&&clearInterval(tt),tt=setTimeout(function(){var mt=X,bt=mt.model,St=mt.el,Ot=!0;(bt.get(w)||"").indexOf("<script")>=0&&dt.placeholderScript&&(St.innerHTML=dt.placeholderScript,Ot=!1),bt.set({droppable:Ot})},0)},onActive:function(){var X=this.model;this.em.get("Commands").run(x,{target:X})}}})})(L,z),function(ot,dt){var tt=(dt===void 0?{}:dt).blockCustomCode,U=ot.Blocks;tt&&U.add(_,S({label:"Custom Code",media:`
      <svg viewBox="0 0 24 24">
        <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
      </svg>
    `,category:"Extra",activate:!0,select:!0,content:{type:_}},tt))}(L,z),function(ot,dt){dt===void 0&&(dt={});var tt=dt.modalTitle,U=dt.codeViewOptions,K=dt.commandCustomCode,X=function(mt,bt){bt instanceof HTMLElement?mt.appendChild(bt):bt&&mt.insertAdjacentHTML("beforeend",bt)};ot.Commands.add(x,T({keyCustomCode:w,target:null,codeViewer:null,run:function(mt,bt,St){St===void 0&&(St={});var Ot=St.target||mt.getSelected();this.target=Ot,Ot!=null&&Ot.get("editable")&&this.showCustomCode(Ot,St)},stop:function(mt){mt.Modal.close()},showCustomCode:function(mt,bt){var St=bt.title||tt,Ot=mt.get(w)||"",$=this.getContent();ot.Modal.open({title:St,content:$}).onceClose(function(){return ot.stopCommand(x)}),this.getCodeViewer().setContent(Ot)},getPreContent:function(){},getPostContent:function(){},getContent:function(){var mt=this.getCodeViewer(),bt=document.createElement("div"),St=ot.getConfig("stylePrefix");return bt.className="".concat(St,"custom-code"),X(bt,this.getPreContent()),bt.appendChild(mt.getElement()),X(bt,this.getPostContent()),X(bt,this.getContentActions()),mt.refresh(),setTimeout(function(){return mt.focus()},0),bt},getContentActions:function(){var mt=this,bt=document.createElement("button");bt.setAttribute("type","button");var St=ot.getConfig("stylePrefix");return bt.innerHTML=dt.buttonLabel,bt.className="".concat(St,"btn-prim ").concat(St,"btn-import__custom-code"),bt.onclick=function(){return mt.handleSave()},bt},handleSave:function(){var mt=this.target,bt=this.getCodeViewer().getContent();mt==null||mt.set(w,bt),ot.Modal.close()},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=ot.CodeManager.createViewer(T({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},U))),this.codeViewer}},K))}(L,z)};return g})())})(BC);var gA=BC.exports;const mA=vi(gA);var zC={exports:{}};/*! grapesjs-tooltip - 0.1.8 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(x,S)=>{for(var T in S)f.o(S,T)&&!f.o(x,T)&&Object.defineProperty(x,T,{enumerable:!0,get:S[T]})},o:(x,S)=>Object.prototype.hasOwnProperty.call(x,S),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>_});var w=function(){return w=Object.assign||function(x){for(var S,T=1,O=arguments.length;T<O;T++)for(var A in S=arguments[T])Object.prototype.hasOwnProperty.call(S,A)&&(x[A]=S[A]);return x},w.apply(this,arguments)};const _=function(x,S){var T;S===void 0&&(S={});var O=w({id:"tooltip",labelTooltip:"Tooltip",blockTooltip:{},propsTooltip:{},extendTraits:function(q){return q},attrTooltip:"data-tooltip",classTooltip:"tooltip-component",style:"",styleAdditional:"",privateClasses:!0,stylableTooltip:["background-color","padding","padding-top","padding-right","padding-bottom","padding-left","font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","border-radius","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border","border-width","border-style","border-color"],showTooltipOnStyle:!0},S),A=O.propsTooltip,k=O.classTooltip,L=O.style,R=O.styleAdditional,z=O.privateClasses,ot=O.stylableTooltip,dt=O.showTooltipOnStyle,tt=O.blockTooltip,U=O.extendTraits,K=O.id,X=O.labelTooltip,mt=O.attrTooltip;tt&&x.BlockManager.add(K,w({media:`<svg viewBox="0 0 24 24">
          <path d="M4 2h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-4l-4 4-4-4H4c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 2v12h4.83L12 19.17 15.17 16H20V4H4z"></path>
        </svg>`,label:X,category:"Extra",select:!0,content:{type:K}},tt));var bt="".concat(k,"__body"),St="".concat(k,"--empty"),Ot="".concat(mt,"-visible"),$="".concat(mt,"-pos"),Y="".concat(mt,"-length");z&&x.SelectorManager.getAll().add([{private:1,name:k},{private:1,name:bt},{private:1,name:St}]),x.Components.addType(K,{isComponent:function(q){var Z;return(Z=q.hasAttribute)===null||Z===void 0?void 0:Z.call(q,mt)},model:{defaults:w({name:X,classes:[k],attributes:(T={},T[mt]=X,T),styles:(L||`
          .`.concat(k,` {
            position: relative;
            display: inline-block;
            vertical-align: top;
          }

          .`).concat(St,` {
            width: 50px;
            height: 50px;
          }

          .`).concat(bt,`,
          [`).concat(mt,`]::after {
            font-family: Helvetica, sans-serif;
            background: rgba(55, 61, 73, 0.95);
            border-radius: 3px;
            bottom: 100%;
            color: #fff;
            content: attr(`).concat(mt,`);
            display: block;
            font-size: 12px;
            left: 50%;
            line-height: normal;
            max-width: 32rem;
            opacity: 0;
            overflow: hidden;
            padding: 8px 16px;
            pointer-events: none;
            position: absolute;
            text-overflow: ellipsis;
            transform: translate(-50%, 0);
            transition: opacity 0.25s, transform 0.25s;
            white-space: nowrap;
            box-sizing: border-box;
            z-index: 10;
          }

          [`).concat(Ot,`=true]::after,
          [`).concat(mt,`]:focus::after,
          [`).concat(mt,`]:hover::after {
            opacity: 1;
            transform: translate(-50%, -0.5rem);
          }

          [`).concat($,`=right]::after {
            bottom: 50%;
            left: 100%;
            transform: translate(0, 50%);
          }

          [`).concat($,`=right]:focus::after,
          [`).concat($,`=right]:hover::after,
          [`).concat(Ot,"=true][").concat($,`=right]::after {
            transform: translate(0.5rem, 50%);
          }

          [`).concat($,`=bottom]::after {
            bottom: auto;
            top: 100%;
            transform: translate(-50%, 0);
          }

          [`).concat($,`=bottom]:focus::after,
          [`).concat($,`=bottom]:hover::after,
          [`).concat(Ot,"=true][").concat($,`=bottom]::after {
            transform: translate(-50%, 0.5rem);
          }

          [`).concat($,`=left]::after {
            bottom: 50%;
            left: auto;
            right: 100%;
            transform: translate(0, 50%);
          }

          [`).concat($,`=left]:focus::after,
          [`).concat($,`=left]:hover::after,
          [`).concat(Ot,"=true][").concat($,`=left]::after {
            transform: translate(-0.5rem, 50%);
          }

          [`).concat(Y,`=small]::after {
            white-space: normal;
            width: 80px;
          }

          [`).concat(Y,`=medium]::after {
            white-space: normal;
            width: 150px;
          }

          [`).concat(Y,`=large]::after {
            white-space: normal;
            width: 300px;
          }

          [`).concat(Y,`=fit]::after {
            white-space: normal;
            width: 100%;
          }

          // IE 11 bugfix
          button[`).concat(mt,`] {
            overflow: visible;
          }
        `))+R,traits:U([{name:mt,label:"Text"},{name:$,label:"Position",type:"select",options:[{value:"top",name:"Top"},{value:"right",name:"Right"},{value:"bottom",name:"Bottom"},{value:"left",name:"Left"}]},{name:Y,label:"Length",type:"select",options:[{value:"",name:"One line"},{value:"small",name:"Small"},{value:"medium",name:"Medium"},{value:"large",name:"Large"},{value:"fit",name:"Fit"}]},{name:Ot,label:"Visible",type:"checkbox",valueTrue:"true"},{name:"style-tooltip",labelButton:"Style tooltip",type:"button",full:!0,command:function(q){var Z,ht=q.Panels.getButton("views","open-sm");ht==null||ht.set("active",!0);var J=q.Css.getRules(".".concat(bt))[0];if(J.set("stylable",ot),q.StyleManager.select(J),dt){var xt=q.getSelected();xt!=null&&xt.is(K)&&(xt.addAttributes(((Z={})[Ot]="true",Z)),q.once("style:target",function(){var D;xt.addAttributes(((D={})[Ot]="false",D))}))}}}])},A),init:function(){this.listenTo(this.components(),"add remove",this.checkEmpty),this.checkEmpty()},checkEmpty:function(){this[this.components().length?"removeClass":"addClass"]("".concat(St))}}})};return g})())})(zC);var yA=zC.exports;const wA=vi(yA);var UC={exports:{}};/*! grapesjs-blocks-flexbox - 1.0.1 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(S,T)=>{for(var O in T)f.o(T,O)&&!f.o(S,O)&&Object.defineProperty(S,O,{enumerable:!0,get:T[O]})},o:(S,T)=>Object.prototype.hasOwnProperty.call(S,T),r:S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>x});var w=function(){return w=Object.assign||function(S){for(var T,O=1,A=arguments.length;O<A;O++)for(var k in T=arguments[O])Object.prototype.hasOwnProperty.call(T,k)&&(S[k]=T[k]);return S},w.apply(this,arguments)},_=function(){return _=Object.assign||function(S){for(var T,O=1,A=arguments.length;O<A;O++)for(var k in T=arguments[O])Object.prototype.hasOwnProperty.call(T,k)&&(S[k]=T[k]);return S},_.apply(this,arguments)};const x=function(S,T){T===void 0&&(T={}),function(O,A){A===void 0&&(A={});var k=O.BlockManager,L=A.stylePrefix,R="".concat(L,"row"),z="".concat(L,"cell"),ot=A.labelRow,dt=A.labelColumn,tt=function(Z){var ht=[];for(var J in Z){var xt=Z[J],D=xt instanceof Array||xt instanceof Object;xt=D?JSON.stringify(xt):xt,ht.push("".concat(J,"=").concat(D?"'".concat(xt,"'"):'"'.concat(xt,'"')))}return ht.length?" ".concat(ht.join(" ")):""},U=1,K={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:U},X=w(w({},K),{cr:1,bc:0,keyWidth:"flex-basis",currentUnit:1,minDim:U,step:.2}),mt={class:R,"data-gjs-droppable":".".concat(z),"data-gjs-resizable":K,"data-gjs-custom-name":ot},bt={class:z,"data-gjs-draggable":".".concat(R),"data-gjs-resizable":X,"data-gjs-custom-name":dt,"data-gjs-unstylable":["width"],"data-gjs-stylable-require":["flex-basis"]},St=[".".concat(R),".".concat(z)];O.on("selector:add",function(Z){return St.indexOf(Z.getFullName())>=0&&Z.set("private",1)});var Ot=tt(mt),$=tt(bt),Y=`
    .`.concat(R,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(R,` {
        flex-wrap: wrap;
      }
    }
    `),q=`
    .`.concat(z,` {
      min-height: 75px;
      flex-grow: 1;
      flex-basis: 100%;
    }`);k.add("flexbox",w({label:"Flexbox",category:"Basic",attributes:{class:"gjs-fonts gjs-f-b2"},content:`
        <div `.concat(Ot,`>
          <div `).concat($,`></div>
          <div `).concat($,`></div>
        </div>
        <style>
          `).concat(Y,`
          `).concat(q,`
        </style>
        `)},A.flexboxBlock))}(S,_({flexboxBlock:{},stylePrefix:"",labelRow:"Row",labelColumn:"Column"},T))};return g})())})(UC);var _A=UC.exports;const bA=vi(_A);var WC={exports:{}};/*! grapesjs-tui-image-editor - 1.0.2 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(S,T)=>{for(var O in T)f.o(T,O)&&!f.o(S,O)&&Object.defineProperty(S,O,{enumerable:!0,get:T[O]})},o:(S,T)=>Object.prototype.hasOwnProperty.call(S,T),r:S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>x});var w=function(){return w=Object.assign||function(S){for(var T,O=1,A=arguments.length;O<A;O++)for(var k in T=arguments[O])Object.prototype.hasOwnProperty.call(T,k)&&(S[k]=T[k]);return S},w.apply(this,arguments)},_=function(S,T,O){if(O||arguments.length===2)for(var A,k=0,L=T.length;k<L;k++)!A&&k in T||(A||(A=Array.prototype.slice.call(T,0,k)),A[k]=T[k]);return S.concat(A||Array.prototype.slice.call(T))};const x=function(S,T){T===void 0&&(T={});var O=w({config:{},constructor:"",labelImageEditor:"Image Editor",labelApply:"Apply",height:"650px",width:"100%",commandId:"tui-image-editor",toolbarIcon:`<svg viewBox="0 0 24 24">
                    <path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z">
                    </path>
                  </svg>`,hideHeader:!0,addToAssets:!0,upload:!1,onApplyButton:function(){},onApply:null,script:["https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.css"]},T),A=O.script,k=O.style,L=O.height,R=O.width,z=O.hideHeader,ot=O.onApply,dt=O.upload,tt=O.addToAssets,U=O.commandId,K=typeof window<"u",X=function(){var Z;return O.constructor||K&&((Z=window.tui)===null||Z===void 0?void 0:Z.ImageEditor)},mt=X();if(!mt&&(A!=null&&A.length)&&K){var bt=document.head,St=Array.isArray(A)?_([],A,!0):[A],Ot=Array.isArray(k)?_([],k,!0):[k],$=function(Z){if(Z.length){var ht=document.createElement("link");ht.href=Z.shift(),ht.rel="stylesheet",bt.appendChild(ht),$(Z)}},Y=function(Z){if(Z.length){var ht=document.createElement("script");ht.src=Z.shift(),ht.onerror=ht.onload=Y.bind(null,Z),bt.appendChild(ht)}else mt=X()};$(Ot),Y(St)}O.toolbarIcon&&S.Components.addType("image",{extendFn:["initToolbar"],model:{initToolbar:function(){var Z=this.get("toolbar");Z!=null&&Z.some(function(ht){return ht.command===U})||(Z==null||Z.unshift({command:U,label:O.toolbarIcon}),this.set("toolbar",Z))}}});var q={level:"error",ns:U};S.Commands.add(U,{imageEditor:null,run:function(Z,ht,J){var xt=this;if(J===void 0&&(J={}),!mt)return Z.log("TOAST UI Image editor not found",q),Z.stopCommand(U);var D=J.target||Z.getSelected();if(!D)return Z.log("Target not available",q),Z.stopCommand(U);var yt=this.createContent(),rt=O.labelImageEditor,et=yt.children[1];Z.Modal.open({title:rt,content:yt}).onceClose(function(){return Z.stopCommand(U)});var Mt=this.getEditorConfig(D.get("src"));this.imageEditor=new mt(yt.children[0],Mt),Z.getModel().setEditing(!0),et.onclick=function(){return xt.applyChanges(D)},O.onApplyButton(et)},stop:function(Z){var ht;(ht=this.imageEditor)===null||ht===void 0||ht.destroy(),Z.getModel().setEditing(!1)},getEditorConfig:function(Z){var ht=w({},O.config);return ht.includeUI||(ht.includeUI={}),ht.includeUI=w(w({theme:{}},ht.includeUI),{loadImage:{path:Z,name:"1"},uiSize:{height:L,width:R}}),z&&(ht.includeUI.theme["header.display"]="none"),ht},createContent:function(){var Z=document.createElement("div");return Z.style.position="relative",Z.innerHTML=`
        <div></div>
        <button class="tui-image-editor__apply-btn" style="
          position: absolute;
          top: 0; right: 0;
          margin: 10px;
          background-color: #fff;
          font-size: 1rem;
          border-radius: 3px;
          border: none;
          padding: 10px 20px;
          cursor: pointer
        ">
          `.concat(O.labelApply,`
        </botton>
      `),Z},applyChanges:function(Z){var ht=this,J=this.imageEditor;ot?ot(J,Z):J.getDrawingMode()==="CROPPER"?J.crop(J.getCropzoneRect()).then(function(){ht.uploadImage(J,Z)}):this.uploadImage(J,Z)},uploadImage:function(Z,ht){var J=this,xt=S.Assets,D=Z.toDataURL();if(dt){var yt=this.dataUrlToBlob(D);xt.FileUploader().uploadFile({dataTransfer:{files:[yt]}},function(rt){var et=rt&&rt.data&&rt.data[0],Mt=et&&(typeof et=="string"?et:et.src);Mt&&J.applyToTarget(Mt,ht)})}else tt&&xt.add({src:D,name:(ht.get("src")||"").split("/").pop()}),this.applyToTarget(D,ht)},applyToTarget:function(Z,ht){ht.set("src",Z),S.Modal.close()},dataUrlToBlob:function(Z){for(var ht=Z.split(","),J=window.atob(ht[1]),xt=ht[0].split(":")[1].split(";")[0],D=new ArrayBuffer(J.length),yt=new Uint8Array(D),rt=0;rt<J.length;rt++)yt[rt]=J.charCodeAt(rt);return new Blob([D],{type:xt})}})};return g})())})(WC);var CA=WC.exports;const xA=vi(CA);var $C={exports:{}};/*! grapesjs-style-filter - 1.0.2 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(x,S)=>{for(var T in S)f.o(S,T)&&!f.o(x,T)&&Object.defineProperty(x,T,{enumerable:!0,get:S[T]})},o:(x,S)=>Object.prototype.hasOwnProperty.call(x,S),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>_});var w=function(){return w=Object.assign||function(x){for(var S,T=1,O=arguments.length;T<O;T++)for(var A in S=arguments[T])Object.prototype.hasOwnProperty.call(S,A)&&(x[A]=S[A]);return x},w.apply(this,arguments)};const _=function(x){x.Styles.addBuiltIn("filter",{type:"stack",layerSeparator:" ",fromStyle:function(S,T){var O=T.property,A=S[T.name]||"",k=O.getLayerSeparator();return A?A.split(k).map(function(L){var R=O.__parseFn(L);return{name:R.name,value:R.value}}):[]},toStyle:function(S,T){var O;return(O={})[T.name]="".concat(S.name,"(").concat(S.value,")"),O},properties:[{property:"name",name:"Type",type:"select",default:"sepia",full:!0,options:[{id:"blur",propValue:{min:0,units:["px","em","rem","vw","vh"]}},{id:"brightness",propValue:{min:0,units:["%"]}},{id:"contrast",propValue:{min:0,units:["%"]}},{id:"grayscale",propValue:{min:0,max:100,units:["%"]}},{id:"hue-rotate",propValue:{min:0,max:360,units:["deg","rad","grad"]}},{id:"invert",propValue:{min:0,max:100,units:["%"]}},{id:"saturate",propValue:{min:0,units:["%"]}},{id:"sepia",propValue:{min:0,max:100,units:["%"]}}],onChange:function(S){var T=S.property;if(S.to.value){var O=T.getOption(),A=w({},O.propValue||{}),k=T.getParent().getProperty("value"),L=k.getUnit();(!L||(A==null?void 0:A.units.indexOf(L))<0)&&(A.unit=(A==null?void 0:A.units[0])||""),k.up(A)}}},{property:"value",type:"slider",default:"0",full:!0}]})};return g})())})($C);var SA=$C.exports;const OA=vi(SA);var KC={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(i,s){(function(f,g){i.exports=g()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Da,()=>(()=>{var f={d:(S,T)=>{for(var O in T)f.o(T,O)&&!f.o(S,O)&&Object.defineProperty(S,O,{enumerable:!0,get:T[O]})},o:(S,T)=>Object.prototype.hasOwnProperty.call(S,T),r:S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})}},g={};f.r(g),f.d(g,{default:()=>x});var w=function(){return w=Object.assign||function(S){for(var T,O=1,A=arguments.length;O<A;O++)for(var k in T=arguments[O])Object.prototype.hasOwnProperty.call(T,k)&&(S[k]=T[k]);return S},w.apply(this,arguments)},_=function(){return _=Object.assign||function(S){for(var T,O=1,A=arguments.length;O<A;O++)for(var k in T=arguments[O])Object.prototype.hasOwnProperty.call(T,k)&&(S[k]=T[k]);return S},_.apply(this,arguments)};const x=function(S,T){T===void 0&&(T={}),function(O,A){var k=O.BlockManager,L=A.category,R=A.blocks,z=A.stylePrefix,ot=A.flexGrid,dt=A.rowHeight,tt=A.addBasicStyle,U="".concat(z,"row"),K="".concat(z,"cell"),X=ot?`
    .`.concat(U,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(U,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(U,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(z,"cell, .").concat(z,"cell30, .").concat(z,`cell70 {
        width: 100%;
        display: block;
      }
    }`),mt=ot?`
    .`.concat(K,` {
      min-height: `).concat(dt,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(K,` {
      width: 8%;
      display: table-cell;
      height: `).concat(dt,`px;
    }`),bt=`
  .`.concat(z,`cell30 {
    width: 30%;
  }`),St=`
  .`.concat(z,`cell70 {
    width: 70%;
  }`),Ot=1,$={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:Ot},Y=w(w({},$),{cr:1,bc:0,currentUnit:1,minDim:Ot,step:.2});ot&&(Y.keyWidth="flex-basis");var q={class:U,"data-gjs-droppable":".".concat(K),"data-gjs-resizable":$,"data-gjs-name":"Row"},Z={class:K,"data-gjs-draggable":".".concat(U),"data-gjs-resizable":Y,"data-gjs-name":"Cell"};ot&&(Z["data-gjs-unstylable"]=["width"],Z["data-gjs-stylable-require"]=["flex-basis"]);var ht=[".".concat(U),".".concat(K)];O.on("selector:add",function(et){return ht.indexOf(et.getFullName())>=0&&et.set("private",1)});var J=function(et){var Mt=[];for(var zt in et){var Zt=et[zt];Zt=Zt instanceof Array||Zt instanceof Object?JSON.stringify(Zt):Zt,Mt.push("".concat(zt,"=").concat("'".concat(Zt,"'")))}return Mt.length?" ".concat(Mt.join(" ")):""},xt=function(et){return R.indexOf(et)>=0},D=J(q),yt=J(Z),rt={category:L,select:!0};xt("column1")&&k.add("column1",w(w({},rt),{label:A.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(D,`>
        <div `).concat(yt,`></div>
      </div>
      `).concat(tt?`<style>
          `.concat(X,`
          `).concat(mt,`
        </style>`):"")})),xt("column2")&&k.add("column2",w(w({},rt),{label:A.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(D,`>
        <div `).concat(yt,`></div>
        <div `).concat(yt,`></div>
      </div>
      `).concat(tt?`<style>
          `.concat(X,`
          `).concat(mt,`
        </style>`):"")})),xt("column3")&&k.add("column3",w(w({},rt),{label:A.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(D,`>
        <div `).concat(yt,`></div>
        <div `).concat(yt,`></div>
        <div `).concat(yt,`></div>
      </div>
      `).concat(tt?`<style>
          `.concat(X,`
          `).concat(mt,`
        </style>`):"")})),xt("column3-7")&&k.add("column3-7",w(w({},rt),{label:A.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(D,`>
        <div `).concat(yt," style='").concat(ot?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(yt," style='").concat(ot?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(tt?`<style>
          `.concat(X,`
          `).concat(mt,`
          `).concat(bt,`
          `).concat(St,`
        </style>`):"")})),xt("text")&&k.add("text",w(w({},rt),{activate:!0,label:A.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),xt("link")&&k.add("link",w(w({},rt),{label:A.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),xt("image")&&k.add("image",w(w({},rt),{activate:!0,label:A.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),xt("video")&&k.add("video",w(w({},rt),{label:A.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),xt("map")&&k.add("map",w(w({},rt),{label:A.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(S,_({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},T))};return g})())})(KC);var TA=KC.exports;const EA=vi(TA);function PA(){const[i,s]=Ic.useState(null);return Ic.useRef(i),Ic.useEffect(()=>{const f=iA.init({container:"#editor",domComponents:{},plugins:[sA,uA,fA,EA,pA,vA,mA,wA,bA,xA,OA],pluginsOpts:{gjsPresetWebpage:{modalImportTitle:"Import Template",modalImportLabel:'<div style="margin-bottom: 10px; font-size: 13px;">Paste here your HTML/CSS and click Import</div>',modalImportContent:function(g){return g.getHtml()+"<style>"+g.getCss()+"</style>"}},gjsBlocksBasic:{flexgrid:!0},gjsNavbar:{},gjsTabs:{tabsBlock:{category:"Extra"}},gjsForms:{},gjsCountdown:{},gjsCustomCode:{},gjsTooltip:{},gjsBlockFlexbox:{},gjsImageEditor:{script:["https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.css"]}}});s(f)},[]),xc.jsx(xc.Fragment,{children:xc.jsx("div",{className:"App",ref:i,children:xc.jsx("div",{id:"editor"})})})}ry.createRoot(document.getElementById("root")).render(xc.jsx(GP.StrictMode,{children:xc.jsx(PA,{})}));
